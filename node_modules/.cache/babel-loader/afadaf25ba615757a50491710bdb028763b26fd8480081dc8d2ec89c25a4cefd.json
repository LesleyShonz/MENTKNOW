{"ast":null,"code":"import _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n/**\n * Utility module to work with key-value stores.\n *\n * @module map\n */\n\n/**\n * Creates a new Map instance.\n *\n * @function\n * @return {Map<any, any>}\n *\n * @function\n */\nexport var create = function create() {\n  return new Map();\n};\n\n/**\n * Copy a Map object into a fresh Map object.\n *\n * @function\n * @template X,Y\n * @param {Map<X,Y>} m\n * @return {Map<X,Y>}\n */\nexport var copy = function copy(m) {\n  var r = create();\n  m.forEach(function (v, k) {\n    r.set(k, v);\n  });\n  return r;\n};\n\n/**\n * Get map property. Create T if property is undefined and set T on map.\n *\n * ```js\n * const listeners = map.setIfUndefined(events, 'eventName', set.create)\n * listeners.add(listener)\n * ```\n *\n * @function\n * @template V,K\n * @template {Map<K,V>} MAP\n * @param {MAP} map\n * @param {K} key\n * @param {function():V} createT\n * @return {V}\n */\nexport var setIfUndefined = function setIfUndefined(map, key, createT) {\n  var set = map.get(key);\n  if (set === undefined) {\n    map.set(key, set = createT());\n  }\n  return set;\n};\n\n/**\n * Creates an Array and populates it with the content of all key-value pairs using the `f(value, key)` function.\n *\n * @function\n * @template K\n * @template V\n * @template R\n * @param {Map<K,V>} m\n * @param {function(V,K):R} f\n * @return {Array<R>}\n */\nexport var map = function map(m, f) {\n  var res = [];\n  var _iterator = _createForOfIteratorHelper(m),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      res.push(f(value, key));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return res;\n};\n\n/**\n * Tests whether any key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @todo should rename to some - similarly to Array.some\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport var any = function any(m, f) {\n  var _iterator2 = _createForOfIteratorHelper(m),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _step2$value = _slicedToArray(_step2.value, 2),\n        key = _step2$value[0],\n        value = _step2$value[1];\n      if (f(value, key)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return false;\n};\n\n/**\n * Tests whether all key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport var all = function all(m, f) {\n  var _iterator3 = _createForOfIteratorHelper(m),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var _step3$value = _slicedToArray(_step3.value, 2),\n        key = _step3$value[0],\n        value = _step3$value[1];\n      if (!f(value, key)) {\n        return false;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  return true;\n};","map":{"version":3,"names":["create","Map","copy","m","r","forEach","v","k","set","setIfUndefined","map","key","createT","get","undefined","f","res","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","_slicedToArray","value","push","err","e","any","_iterator2","_step2","_step2$value","all","_iterator3","_step3","_step3$value"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/lib0/map.js"],"sourcesContent":["/**\n * Utility module to work with key-value stores.\n *\n * @module map\n */\n\n/**\n * Creates a new Map instance.\n *\n * @function\n * @return {Map<any, any>}\n *\n * @function\n */\nexport const create = () => new Map()\n\n/**\n * Copy a Map object into a fresh Map object.\n *\n * @function\n * @template X,Y\n * @param {Map<X,Y>} m\n * @return {Map<X,Y>}\n */\nexport const copy = m => {\n  const r = create()\n  m.forEach((v, k) => { r.set(k, v) })\n  return r\n}\n\n/**\n * Get map property. Create T if property is undefined and set T on map.\n *\n * ```js\n * const listeners = map.setIfUndefined(events, 'eventName', set.create)\n * listeners.add(listener)\n * ```\n *\n * @function\n * @template V,K\n * @template {Map<K,V>} MAP\n * @param {MAP} map\n * @param {K} key\n * @param {function():V} createT\n * @return {V}\n */\nexport const setIfUndefined = (map, key, createT) => {\n  let set = map.get(key)\n  if (set === undefined) {\n    map.set(key, set = createT())\n  }\n  return set\n}\n\n/**\n * Creates an Array and populates it with the content of all key-value pairs using the `f(value, key)` function.\n *\n * @function\n * @template K\n * @template V\n * @template R\n * @param {Map<K,V>} m\n * @param {function(V,K):R} f\n * @return {Array<R>}\n */\nexport const map = (m, f) => {\n  const res = []\n  for (const [key, value] of m) {\n    res.push(f(value, key))\n  }\n  return res\n}\n\n/**\n * Tests whether any key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @todo should rename to some - similarly to Array.some\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const any = (m, f) => {\n  for (const [key, value] of m) {\n    if (f(value, key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Tests whether all key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const all = (m, f) => {\n  for (const [key, value] of m) {\n    if (!f(value, key)) {\n      return false\n    }\n  }\n  return true\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}