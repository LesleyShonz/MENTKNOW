{"ast":null,"code":"import _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from \"react\";\nfunction useLocalStorageState(key, defaultValue) {\n  var _React$useState = React.useState(defaultValue),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    state = _React$useState2[0],\n    setState = _React$useState2[1];\n  React.useLayoutEffect(function () {\n    var value = localStorage.getItem(key);\n    if (value) {\n      try {\n        setState(JSON.parse(value));\n      } catch (e) {\n        console.error(\"Could not restore value \".concat(key, \" from local storage.\"));\n      }\n    }\n  }, [key]);\n  var updateValue = React.useCallback(function (setter) {\n    setState(function (s) {\n      var value = typeof setter === \"function\" ? setter(s) : setter;\n      localStorage.setItem(key, JSON.stringify(value));\n      return value;\n    });\n  }, [key]);\n  return [state, updateValue];\n}\nexport { useLocalStorageState };","map":{"version":3,"names":["React","useLocalStorageState","key","defaultValue","_React$useState","useState","_React$useState2","_slicedToArray","state","setState","useLayoutEffect","value","localStorage","getItem","JSON","parse","e","console","error","concat","updateValue","useCallback","setter","s","setItem","stringify"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/hooks/useLocalStorageState.ts"],"sourcesContent":["import React from 'react'\n\n/** @public */\nexport function useLocalStorageState<T = any>(key: string, defaultValue: T) {\n\tconst [state, setState] = React.useState(defaultValue)\n\n\tReact.useLayoutEffect(() => {\n\t\tconst value = localStorage.getItem(key)\n\t\tif (value) {\n\t\t\ttry {\n\t\t\t\tsetState(JSON.parse(value))\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(`Could not restore value ${key} from local storage.`)\n\t\t\t}\n\t\t}\n\t}, [key])\n\n\tconst updateValue = React.useCallback(\n\t\t(setter: T | ((value: T) => T)) => {\n\t\t\tsetState((s) => {\n\t\t\t\tconst value = typeof setter === 'function' ? (setter as any)(s) : setter\n\t\t\t\tlocalStorage.setItem(key, JSON.stringify(value))\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\t[key]\n\t)\n\n\treturn [state, updateValue] as const\n}\n"],"mappings":";AAAA,OAAOA,KAAA,MAAW;AAGX,SAASC,qBAA8BC,GAAA,EAAaC,YAAA,EAAiB;EAC3E,IAAAC,eAAA,GAA0BJ,KAAA,CAAMK,QAAA,CAASF,YAAY;IAAAG,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAA9CI,KAAA,GAAAF,gBAAA;IAAOG,QAAQ,GAAAH,gBAAA;EAEtBN,KAAA,CAAMU,eAAA,CAAgB,YAAM;IAC3B,IAAMC,KAAA,GAAQC,YAAA,CAAaC,OAAA,CAAQX,GAAG;IACtC,IAAIS,KAAA,EAAO;MACV,IAAI;QACHF,QAAA,CAASK,IAAA,CAAKC,KAAA,CAAMJ,KAAK,CAAC;MAC3B,SAASK,CAAA,EAAP;QACDC,OAAA,CAAQC,KAAA,4BAAAC,MAAA,CAAiCjB,GAAA,yBAAyB;MACnE;IACD;EACD,GAAG,CAACA,GAAG,CAAC;EAER,IAAMkB,WAAA,GAAcpB,KAAA,CAAMqB,WAAA,CACzB,UAACC,MAAA,EAAkC;IAClCb,QAAA,CAAS,UAACc,CAAA,EAAM;MACf,IAAMZ,KAAA,GAAQ,OAAOW,MAAA,KAAW,aAAcA,MAAA,CAAeC,CAAC,IAAID,MAAA;MAClEV,YAAA,CAAaY,OAAA,CAAQtB,GAAA,EAAKY,IAAA,CAAKW,SAAA,CAAUd,KAAK,CAAC;MAC/C,OAAOA,KAAA;IACR,CAAC;EACF,GACA,CAACT,GAAG,CACL;EAEA,OAAO,CAACM,KAAA,EAAOY,WAAW;AAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}