{"ast":null,"code":"import * as React from \"react\";\nimport { useEditor } from \"./useEditor.mjs\";\nvar isMobileSafari = false;\nif (typeof window !== \"undefined\") {\n  var ua = window.navigator.userAgent;\n  var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);\n  var webkit = !!ua.match(/WebKit/i);\n  isMobileSafari = iOS && webkit && !ua.match(/CriOS/i);\n}\nfunction useSafariFocusOutFix() {\n  var editor = useEditor();\n  React.useEffect(function () {\n    if (!isMobileSafari) return;\n    function handleFocusOut(e) {\n      if (e.target instanceof HTMLInputElement && e.target.type === \"text\" || e.target instanceof HTMLTextAreaElement) {\n        editor.complete();\n      }\n    }\n    document.addEventListener(\"focusout\", handleFocusOut);\n    return function () {\n      return document.removeEventListener(\"focusout\", handleFocusOut);\n    };\n  }, [editor]);\n}\nexport { useSafariFocusOutFix };","map":{"version":3,"names":["React","useEditor","isMobileSafari","window","ua","navigator","userAgent","iOS","match","webkit","useSafariFocusOutFix","editor","useEffect","handleFocusOut","e","target","HTMLInputElement","type","HTMLTextAreaElement","complete","document","addEventListener","removeEventListener"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/hooks/useSafariFocusOutFix.ts"],"sourcesContent":["import * as React from 'react'\nimport { useEditor } from './useEditor'\n\nlet isMobileSafari = false\n\nif (typeof window !== 'undefined') {\n\tconst ua = window.navigator.userAgent\n\tconst iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i)\n\tconst webkit = !!ua.match(/WebKit/i)\n\tisMobileSafari = iOS && webkit && !ua.match(/CriOS/i)\n}\n\nexport function useSafariFocusOutFix(): void {\n\tconst editor = useEditor()\n\n\tReact.useEffect(() => {\n\t\tif (!isMobileSafari) return\n\n\t\tfunction handleFocusOut(e: FocusEvent) {\n\t\t\tif (\n\t\t\t\t(e.target instanceof HTMLInputElement && e.target.type === 'text') ||\n\t\t\t\te.target instanceof HTMLTextAreaElement\n\t\t\t) {\n\t\t\t\teditor.complete()\n\t\t\t}\n\t\t}\n\n\t\t// Send event on iOS when a user presses the \"Done\" key while editing a text element.\n\t\tdocument.addEventListener('focusout', handleFocusOut)\n\t\treturn () => document.removeEventListener('focusout', handleFocusOut)\n\t}, [editor])\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,SAAA,QAAiB;AAE1B,IAAIC,cAAA,GAAiB;AAErB,IAAI,OAAOC,MAAA,KAAW,aAAa;EAClC,IAAMC,EAAA,GAAKD,MAAA,CAAOE,SAAA,CAAUC,SAAA;EAC5B,IAAMC,GAAA,GAAM,CAAC,CAACH,EAAA,CAAGI,KAAA,CAAM,OAAO,KAAK,CAAC,CAACJ,EAAA,CAAGI,KAAA,CAAM,SAAS;EACvD,IAAMC,MAAA,GAAS,CAAC,CAACL,EAAA,CAAGI,KAAA,CAAM,SAAS;EACnCN,cAAA,GAAiBK,GAAA,IAAOE,MAAA,IAAU,CAACL,EAAA,CAAGI,KAAA,CAAM,QAAQ;AACrD;AAEO,SAASE,qBAAA,EAA6B;EAC5C,IAAMC,MAAA,GAASV,SAAA,CAAU;EAEzBD,KAAA,CAAMY,SAAA,CAAU,YAAM;IACrB,IAAI,CAACV,cAAA,EAAgB;IAErB,SAASW,eAAeC,CAAA,EAAe;MACtC,IACEA,CAAA,CAAEC,MAAA,YAAkBC,gBAAA,IAAoBF,CAAA,CAAEC,MAAA,CAAOE,IAAA,KAAS,UAC3DH,CAAA,CAAEC,MAAA,YAAkBG,mBAAA,EACnB;QACDP,MAAA,CAAOQ,QAAA,CAAS;MACjB;IACD;IAGAC,QAAA,CAASC,gBAAA,CAAiB,YAAYR,cAAc;IACpD,OAAO;MAAA,OAAMO,QAAA,CAASE,mBAAA,CAAoB,YAAYT,cAAc;IAAA;EACrE,GAAG,CAACF,MAAM,CAAC;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}