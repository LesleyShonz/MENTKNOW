{"ast":null,"code":"import { debounce } from \"@tldraw/utils\";\nimport * as React from \"react\";\nimport { EffectScheduler } from \"signia\";\nimport { useContainer } from \"./useContainer.mjs\";\nimport { useEditor } from \"./useEditor.mjs\";\nfunction useZoomCss() {\n  var editor = useEditor();\n  var container = useContainer();\n  React.useEffect(function () {\n    var setScale = function setScale(s) {\n      return container.style.setProperty(\"--tl-zoom\", s.toString());\n    };\n    var setScaleDebounced = debounce(setScale, 100);\n    var scheduler = new EffectScheduler(\"useZoomCss\", function () {\n      var numShapes = editor.currentPageShapeIds.size;\n      if (numShapes < 300) {\n        setScale(editor.zoomLevel);\n      } else {\n        setScaleDebounced(editor.zoomLevel);\n      }\n    });\n    scheduler.attach();\n    scheduler.execute();\n    return function () {\n      scheduler.detach();\n    };\n  }, [editor, container]);\n}\nexport { useZoomCss };","map":{"version":3,"names":["debounce","React","EffectScheduler","useContainer","useEditor","useZoomCss","editor","container","useEffect","setScale","s","style","setProperty","toString","setScaleDebounced","scheduler","numShapes","currentPageShapeIds","size","zoomLevel","attach","execute","detach"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/hooks/useZoomCss.ts"],"sourcesContent":["import { debounce } from '@tldraw/utils'\nimport * as React from 'react'\nimport { EffectScheduler } from 'signia'\nimport { useContainer } from './useContainer'\nimport { useEditor } from './useEditor'\n\nexport function useZoomCss() {\n\tconst editor = useEditor()\n\tconst container = useContainer()\n\n\tReact.useEffect(() => {\n\t\tconst setScale = (s: number) => container.style.setProperty('--tl-zoom', s.toString())\n\t\tconst setScaleDebounced = debounce(setScale, 100)\n\n\t\tconst scheduler = new EffectScheduler('useZoomCss', () => {\n\t\t\tconst numShapes = editor.currentPageShapeIds.size\n\t\t\tif (numShapes < 300) {\n\t\t\t\tsetScale(editor.zoomLevel)\n\t\t\t} else {\n\t\t\t\tsetScaleDebounced(editor.zoomLevel)\n\t\t\t}\n\t\t})\n\n\t\tscheduler.attach()\n\t\tscheduler.execute()\n\n\t\treturn () => {\n\t\t\tscheduler.detach()\n\t\t}\n\t}, [editor, container])\n}\n"],"mappings":"AAAA,SAASA,QAAA,QAAgB;AACzB,YAAYC,KAAA,MAAW;AACvB,SAASC,eAAA,QAAuB;AAChC,SAASC,YAAA,QAAoB;AAC7B,SAASC,SAAA,QAAiB;AAEnB,SAASC,WAAA,EAAa;EAC5B,IAAMC,MAAA,GAASF,SAAA,CAAU;EACzB,IAAMG,SAAA,GAAYJ,YAAA,CAAa;EAE/BF,KAAA,CAAMO,SAAA,CAAU,YAAM;IACrB,IAAMC,QAAA,GAAW,SAAXA,SAAYC,CAAA;MAAA,OAAcH,SAAA,CAAUI,KAAA,CAAMC,WAAA,CAAY,aAAaF,CAAA,CAAEG,QAAA,CAAS,CAAC;IAAA;IACrF,IAAMC,iBAAA,GAAoBd,QAAA,CAASS,QAAA,EAAU,GAAG;IAEhD,IAAMM,SAAA,GAAY,IAAIb,eAAA,CAAgB,cAAc,YAAM;MACzD,IAAMc,SAAA,GAAYV,MAAA,CAAOW,mBAAA,CAAoBC,IAAA;MAC7C,IAAIF,SAAA,GAAY,KAAK;QACpBP,QAAA,CAASH,MAAA,CAAOa,SAAS;MAC1B,OAAO;QACNL,iBAAA,CAAkBR,MAAA,CAAOa,SAAS;MACnC;IACD,CAAC;IAEDJ,SAAA,CAAUK,MAAA,CAAO;IACjBL,SAAA,CAAUM,OAAA,CAAQ;IAElB,OAAO,YAAM;MACZN,SAAA,CAAUO,MAAA,CAAO;IAClB;EACD,GAAG,CAAChB,MAAA,EAAQC,SAAS,CAAC;AACvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}