{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar WeakMapCache = /*#__PURE__*/function () {\n  function WeakMapCache() {\n    _classCallCheck(this, WeakMapCache);\n    _defineProperty(this, \"items\", /* @__PURE__ */new WeakMap());\n  }\n  _createClass(WeakMapCache, [{\n    key: \"get\",\n    value: function get(item, cb) {\n      if (!this.items.has(item)) {\n        this.items.set(item, cb(item));\n      }\n      return this.items.get(item);\n    }\n  }, {\n    key: \"access\",\n    value: function access(item) {\n      return this.items.get(item);\n    }\n  }, {\n    key: \"set\",\n    value: function set(item, value) {\n      this.items.set(item, value);\n    }\n  }, {\n    key: \"has\",\n    value: function has(item) {\n      return this.items.has(item);\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(item) {\n      this.items.delete(item);\n    }\n  }, {\n    key: \"bust\",\n    value: function bust() {\n      this.items = /* @__PURE__ */new WeakMap();\n    }\n  }]);\n  return WeakMapCache;\n}();\nexport { WeakMapCache };","map":{"version":3,"names":["WeakMapCache","_classCallCheck","_defineProperty","WeakMap","_createClass","key","value","get","item","cb","items","has","set","access","invalidate","delete","bust"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/utils/WeakMapCache.ts"],"sourcesContent":["/** @public */\nexport class WeakMapCache<T extends object, K> {\n\titems = new WeakMap<T, K>()\n\n\tget<P extends T>(item: P, cb: (item: P) => K) {\n\t\tif (!this.items.has(item)) {\n\t\t\tthis.items.set(item, cb(item))\n\t\t}\n\t\treturn this.items.get(item)!\n\t}\n\n\taccess(item: T) {\n\t\treturn this.items.get(item)\n\t}\n\n\tset(item: T, value: K) {\n\t\tthis.items.set(item, value)\n\t}\n\n\thas(item: T) {\n\t\treturn this.items.has(item)\n\t}\n\n\tinvalidate(item: T) {\n\t\tthis.items.delete(item)\n\t}\n\n\tbust() {\n\t\tthis.items = new WeakMap()\n\t}\n}\n"],"mappings":";;;IACaA,YAAA;EAAA,SAAAA,aAAA;IAAAC,eAAA,OAAAD,YAAA;IAAAE,eAAA,gBACJ,mBAAIC,OAAA,CAAc;EAAA;EAAAC,YAAA,CAAAJ,YAAA;IAAAK,GAAA;IAAAC,KAAA,EAE1B,SAAAC,IAAiBC,IAAA,EAASC,EAAA,EAAoB;MAC7C,IAAI,CAAC,KAAKC,KAAA,CAAMC,GAAA,CAAIH,IAAI,GAAG;QAC1B,KAAKE,KAAA,CAAME,GAAA,CAAIJ,IAAA,EAAMC,EAAA,CAAGD,IAAI,CAAC;MAC9B;MACA,OAAO,KAAKE,KAAA,CAAMH,GAAA,CAAIC,IAAI;IAC3B;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAEA,SAAAO,OAAOL,IAAA,EAAS;MACf,OAAO,KAAKE,KAAA,CAAMH,GAAA,CAAIC,IAAI;IAC3B;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAEA,SAAAM,IAAIJ,IAAA,EAASF,KAAA,EAAU;MACtB,KAAKI,KAAA,CAAME,GAAA,CAAIJ,IAAA,EAAMF,KAAK;IAC3B;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAEA,SAAAK,IAAIH,IAAA,EAAS;MACZ,OAAO,KAAKE,KAAA,CAAMC,GAAA,CAAIH,IAAI;IAC3B;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAEA,SAAAQ,WAAWN,IAAA,EAAS;MACnB,KAAKE,KAAA,CAAMK,MAAA,CAAOP,IAAI;IACvB;EAAA;IAAAH,GAAA;IAAAC,KAAA,EAEA,SAAAU,KAAA,EAAO;MACN,KAAKN,KAAA,GAAQ,mBAAIP,OAAA,CAAQ;IAC1B;EAAA;EAAA,OAAAH,YAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}