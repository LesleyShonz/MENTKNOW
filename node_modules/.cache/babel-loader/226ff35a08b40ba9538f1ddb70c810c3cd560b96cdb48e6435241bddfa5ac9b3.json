{"ast":null,"code":"/**\n * Utility functions to work with buffers (Uint8Array).\n *\n * @module buffer\n */\n\nimport * as string from './string.js';\nimport * as env from './environment.js';\nimport * as array from './array.js';\nimport * as math from './math.js';\nimport * as encoding from './encoding.js';\nimport * as decoding from './decoding.js';\n\n/**\n * @param {number} len\n */\nexport var createUint8ArrayFromLen = function createUint8ArrayFromLen(len) {\n  return new Uint8Array(len);\n};\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n * @param {number} byteOffset\n * @param {number} length\n */\nexport var createUint8ArrayViewFromArrayBuffer = function createUint8ArrayViewFromArrayBuffer(buffer, byteOffset, length) {\n  return new Uint8Array(buffer, byteOffset, length);\n};\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n */\nexport var createUint8ArrayFromArrayBuffer = function createUint8ArrayFromArrayBuffer(buffer) {\n  return new Uint8Array(buffer);\n};\n\n/* c8 ignore start */\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nvar toBase64Browser = function toBase64Browser(bytes) {\n  var s = '';\n  for (var i = 0; i < bytes.byteLength; i++) {\n    s += string.fromCharCode(bytes[i]);\n  }\n  // eslint-disable-next-line no-undef\n  return btoa(s);\n};\n/* c8 ignore stop */\n\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nvar toBase64Node = function toBase64Node(bytes) {\n  return Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength).toString('base64');\n};\n\n/* c8 ignore start */\n/**\n * @param {string} s\n * @return {Uint8Array}\n */\nvar fromBase64Browser = function fromBase64Browser(s) {\n  // eslint-disable-next-line no-undef\n  var a = atob(s);\n  var bytes = createUint8ArrayFromLen(a.length);\n  for (var i = 0; i < a.length; i++) {\n    bytes[i] = a.charCodeAt(i);\n  }\n  return bytes;\n};\n/* c8 ignore stop */\n\n/**\n * @param {string} s\n */\nvar fromBase64Node = function fromBase64Node(s) {\n  var buf = Buffer.from(s, 'base64');\n  return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n};\n\n/* c8 ignore next */\nexport var toBase64 = env.isBrowser ? toBase64Browser : toBase64Node;\n\n/* c8 ignore next */\nexport var fromBase64 = env.isBrowser ? fromBase64Browser : fromBase64Node;\n\n/**\n * Implements base64url - see https://datatracker.ietf.org/doc/html/rfc4648#section-5\n * @param {Uint8Array} buf\n */\nexport var toBase64UrlEncoded = function toBase64UrlEncoded(buf) {\n  return toBase64(buf).replaceAll('+', '-').replaceAll('/', '_').replaceAll('=', '');\n};\n\n/**\n * @param {string} base64\n */\nexport var fromBase64UrlEncoded = function fromBase64UrlEncoded(base64) {\n  return fromBase64(base64.replaceAll('-', '+').replaceAll('_', '/'));\n};\n\n/**\n * Base64 is always a more efficient choice. This exists for utility purposes only.\n *\n * @param {Uint8Array} buf\n */\nexport var toHexString = function toHexString(buf) {\n  return array.map(buf, function (b) {\n    return b.toString(16).padStart(2, '0');\n  }).join('');\n};\n\n/**\n * Note: This function expects that the hex doesn't start with 0x..\n *\n * @param {string} hex\n */\nexport var fromHexString = function fromHexString(hex) {\n  var hlen = hex.length;\n  var buf = new Uint8Array(math.ceil(hlen / 2));\n  for (var i = 0; i < hlen; i += 2) {\n    buf[buf.length - i / 2 - 1] = Number.parseInt(hex.slice(hlen - i - 2, hlen - i), 16);\n  }\n  return buf;\n};\n\n/**\n * Copy the content of an Uint8Array view to a new ArrayBuffer.\n *\n * @param {Uint8Array} uint8Array\n * @return {Uint8Array}\n */\nexport var copyUint8Array = function copyUint8Array(uint8Array) {\n  var newBuf = createUint8ArrayFromLen(uint8Array.byteLength);\n  newBuf.set(uint8Array);\n  return newBuf;\n};\n\n/**\n * Encode anything as a UInt8Array. It's a pun on typescripts's `any` type.\n * See encoding.writeAny for more information.\n *\n * @param {any} data\n * @return {Uint8Array}\n */\nexport var encodeAny = function encodeAny(data) {\n  var encoder = encoding.createEncoder();\n  encoding.writeAny(encoder, data);\n  return encoding.toUint8Array(encoder);\n};\n\n/**\n * Decode an any-encoded value.\n *\n * @param {Uint8Array} buf\n * @return {any}\n */\nexport var decodeAny = function decodeAny(buf) {\n  return decoding.readAny(decoding.createDecoder(buf));\n};\n\n/**\n * Shift Byte Array {N} bits to the left. Does not expand byte array.\n *\n * @param {Uint8Array} bs\n * @param {number} N should be in the range of [0-7]\n */\nexport var shiftNBitsLeft = function shiftNBitsLeft(bs, N) {\n  if (N === 0) return bs;\n  bs = new Uint8Array(bs);\n  bs[0] <<= N;\n  for (var i = 1; i < bs.length; i++) {\n    bs[i - 1] |= bs[i] >>> 8 - N;\n    bs[i] <<= N;\n  }\n  return bs;\n};","map":{"version":3,"names":["string","env","array","math","encoding","decoding","createUint8ArrayFromLen","len","Uint8Array","createUint8ArrayViewFromArrayBuffer","buffer","byteOffset","length","createUint8ArrayFromArrayBuffer","toBase64Browser","bytes","s","i","byteLength","fromCharCode","btoa","toBase64Node","Buffer","from","toString","fromBase64Browser","a","atob","charCodeAt","fromBase64Node","buf","toBase64","isBrowser","fromBase64","toBase64UrlEncoded","replaceAll","fromBase64UrlEncoded","base64","toHexString","map","b","padStart","join","fromHexString","hex","hlen","ceil","Number","parseInt","slice","copyUint8Array","uint8Array","newBuf","set","encodeAny","data","encoder","createEncoder","writeAny","toUint8Array","decodeAny","readAny","createDecoder","shiftNBitsLeft","bs","N"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/lib0/buffer.js"],"sourcesContent":["/**\n * Utility functions to work with buffers (Uint8Array).\n *\n * @module buffer\n */\n\nimport * as string from './string.js'\nimport * as env from './environment.js'\nimport * as array from './array.js'\nimport * as math from './math.js'\nimport * as encoding from './encoding.js'\nimport * as decoding from './decoding.js'\n\n/**\n * @param {number} len\n */\nexport const createUint8ArrayFromLen = len => new Uint8Array(len)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n * @param {number} byteOffset\n * @param {number} length\n */\nexport const createUint8ArrayViewFromArrayBuffer = (buffer, byteOffset, length) => new Uint8Array(buffer, byteOffset, length)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n */\nexport const createUint8ArrayFromArrayBuffer = buffer => new Uint8Array(buffer)\n\n/* c8 ignore start */\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Browser = bytes => {\n  let s = ''\n  for (let i = 0; i < bytes.byteLength; i++) {\n    s += string.fromCharCode(bytes[i])\n  }\n  // eslint-disable-next-line no-undef\n  return btoa(s)\n}\n/* c8 ignore stop */\n\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Node = bytes => Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength).toString('base64')\n\n/* c8 ignore start */\n/**\n * @param {string} s\n * @return {Uint8Array}\n */\nconst fromBase64Browser = s => {\n  // eslint-disable-next-line no-undef\n  const a = atob(s)\n  const bytes = createUint8ArrayFromLen(a.length)\n  for (let i = 0; i < a.length; i++) {\n    bytes[i] = a.charCodeAt(i)\n  }\n  return bytes\n}\n/* c8 ignore stop */\n\n/**\n * @param {string} s\n */\nconst fromBase64Node = s => {\n  const buf = Buffer.from(s, 'base64')\n  return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength)\n}\n\n/* c8 ignore next */\nexport const toBase64 = env.isBrowser ? toBase64Browser : toBase64Node\n\n/* c8 ignore next */\nexport const fromBase64 = env.isBrowser ? fromBase64Browser : fromBase64Node\n\n/**\n * Implements base64url - see https://datatracker.ietf.org/doc/html/rfc4648#section-5\n * @param {Uint8Array} buf\n */\nexport const toBase64UrlEncoded = buf => toBase64(buf).replaceAll('+', '-').replaceAll('/', '_').replaceAll('=', '')\n\n/**\n * @param {string} base64\n */\nexport const fromBase64UrlEncoded = base64 => fromBase64(base64.replaceAll('-', '+').replaceAll('_', '/'))\n\n/**\n * Base64 is always a more efficient choice. This exists for utility purposes only.\n *\n * @param {Uint8Array} buf\n */\nexport const toHexString = buf => array.map(buf, b => b.toString(16).padStart(2, '0')).join('')\n\n/**\n * Note: This function expects that the hex doesn't start with 0x..\n *\n * @param {string} hex\n */\nexport const fromHexString = hex => {\n  const hlen = hex.length\n  const buf = new Uint8Array(math.ceil(hlen / 2))\n  for (let i = 0; i < hlen; i += 2) {\n    buf[buf.length - i / 2 - 1] = Number.parseInt(hex.slice(hlen - i - 2, hlen - i), 16)\n  }\n  return buf\n}\n\n/**\n * Copy the content of an Uint8Array view to a new ArrayBuffer.\n *\n * @param {Uint8Array} uint8Array\n * @return {Uint8Array}\n */\nexport const copyUint8Array = uint8Array => {\n  const newBuf = createUint8ArrayFromLen(uint8Array.byteLength)\n  newBuf.set(uint8Array)\n  return newBuf\n}\n\n/**\n * Encode anything as a UInt8Array. It's a pun on typescripts's `any` type.\n * See encoding.writeAny for more information.\n *\n * @param {any} data\n * @return {Uint8Array}\n */\nexport const encodeAny = data => {\n  const encoder = encoding.createEncoder()\n  encoding.writeAny(encoder, data)\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * Decode an any-encoded value.\n *\n * @param {Uint8Array} buf\n * @return {any}\n */\nexport const decodeAny = buf => decoding.readAny(decoding.createDecoder(buf))\n\n/**\n * Shift Byte Array {N} bits to the left. Does not expand byte array.\n *\n * @param {Uint8Array} bs\n * @param {number} N should be in the range of [0-7]\n */\nexport const shiftNBitsLeft = (bs, N) => {\n  if (N === 0) return bs\n  bs = new Uint8Array(bs)\n  bs[0] <<= N\n  for (let i = 1; i < bs.length; i++) {\n    bs[i - 1] |= bs[i] >>> (8 - N)\n    bs[i] <<= N\n  }\n  return bs\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAO,KAAKA,MAAM,MAAM,aAAa;AACrC,OAAO,KAAKC,GAAG,MAAM,kBAAkB;AACvC,OAAO,KAAKC,KAAK,MAAM,YAAY;AACnC,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAO,KAAKC,QAAQ,MAAM,eAAe;;AAEzC;AACA;AACA;AACA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAGC,GAAG;EAAA,OAAI,IAAIC,UAAU,CAACD,GAAG,CAAC;AAAA;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAME,mCAAmC,GAAG,SAAtCA,mCAAmCA,CAAIC,MAAM,EAAEC,UAAU,EAAEC,MAAM;EAAA,OAAK,IAAIJ,UAAU,CAACE,MAAM,EAAEC,UAAU,EAAEC,MAAM,CAAC;AAAA;;AAE7H;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,+BAA+B,GAAG,SAAlCA,+BAA+BA,CAAGH,MAAM;EAAA,OAAI,IAAIF,UAAU,CAACE,MAAM,CAAC;AAAA;;AAE/E;AACA;AACA;AACA;AACA;AACA,IAAMI,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,KAAK,EAAI;EAC/B,IAAIC,CAAC,GAAG,EAAE;EACV,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,KAAK,CAACG,UAAU,EAAED,CAAC,EAAE,EAAE;IACzCD,CAAC,IAAIhB,MAAM,CAACmB,YAAY,CAACJ,KAAK,CAACE,CAAC,CAAC,CAAC;EACpC;EACA;EACA,OAAOG,IAAI,CAACJ,CAAC,CAAC;AAChB,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA,IAAMK,YAAY,GAAG,SAAfA,YAAYA,CAAGN,KAAK;EAAA,OAAIO,MAAM,CAACC,IAAI,CAACR,KAAK,CAACL,MAAM,EAAEK,KAAK,CAACJ,UAAU,EAAEI,KAAK,CAACG,UAAU,CAAC,CAACM,QAAQ,CAAC,QAAQ,CAAC;AAAA;;AAE9G;AACA;AACA;AACA;AACA;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAGT,CAAC,EAAI;EAC7B;EACA,IAAMU,CAAC,GAAGC,IAAI,CAACX,CAAC,CAAC;EACjB,IAAMD,KAAK,GAAGT,uBAAuB,CAACoB,CAAC,CAACd,MAAM,CAAC;EAC/C,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGS,CAAC,CAACd,MAAM,EAAEK,CAAC,EAAE,EAAE;IACjCF,KAAK,CAACE,CAAC,CAAC,GAAGS,CAAC,CAACE,UAAU,CAACX,CAAC,CAAC;EAC5B;EACA,OAAOF,KAAK;AACd,CAAC;AACD;;AAEA;AACA;AACA;AACA,IAAMc,cAAc,GAAG,SAAjBA,cAAcA,CAAGb,CAAC,EAAI;EAC1B,IAAMc,GAAG,GAAGR,MAAM,CAACC,IAAI,CAACP,CAAC,EAAE,QAAQ,CAAC;EACpC,OAAO,IAAIR,UAAU,CAACsB,GAAG,CAACpB,MAAM,EAAEoB,GAAG,CAACnB,UAAU,EAAEmB,GAAG,CAACZ,UAAU,CAAC;AACnE,CAAC;;AAED;AACA,OAAO,IAAMa,QAAQ,GAAG9B,GAAG,CAAC+B,SAAS,GAAGlB,eAAe,GAAGO,YAAY;;AAEtE;AACA,OAAO,IAAMY,UAAU,GAAGhC,GAAG,CAAC+B,SAAS,GAAGP,iBAAiB,GAAGI,cAAc;;AAE5E;AACA;AACA;AACA;AACA,OAAO,IAAMK,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAGJ,GAAG;EAAA,OAAIC,QAAQ,CAACD,GAAG,CAAC,CAACK,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC;AAAA;;AAEpH;AACA;AACA;AACA,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAGC,MAAM;EAAA,OAAIJ,UAAU,CAACI,MAAM,CAACF,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAAA;;AAE1G;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAWA,CAAGR,GAAG;EAAA,OAAI5B,KAAK,CAACqC,GAAG,CAACT,GAAG,EAAE,UAAAU,CAAC;IAAA,OAAIA,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC,CAACiB,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EAAA,EAAC,CAACC,IAAI,CAAC,EAAE,CAAC;AAAA;;AAE/F;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,GAAG,EAAI;EAClC,IAAMC,IAAI,GAAGD,GAAG,CAAChC,MAAM;EACvB,IAAMkB,GAAG,GAAG,IAAItB,UAAU,CAACL,IAAI,CAAC2C,IAAI,CAACD,IAAI,GAAG,CAAC,CAAC,CAAC;EAC/C,KAAK,IAAI5B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4B,IAAI,EAAE5B,CAAC,IAAI,CAAC,EAAE;IAChCa,GAAG,CAACA,GAAG,CAAClB,MAAM,GAAGK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG8B,MAAM,CAACC,QAAQ,CAACJ,GAAG,CAACK,KAAK,CAACJ,IAAI,GAAG5B,CAAC,GAAG,CAAC,EAAE4B,IAAI,GAAG5B,CAAC,CAAC,EAAE,EAAE,CAAC;EACtF;EACA,OAAOa,GAAG;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMoB,cAAc,GAAG,SAAjBA,cAAcA,CAAGC,UAAU,EAAI;EAC1C,IAAMC,MAAM,GAAG9C,uBAAuB,CAAC6C,UAAU,CAACjC,UAAU,CAAC;EAC7DkC,MAAM,CAACC,GAAG,CAACF,UAAU,CAAC;EACtB,OAAOC,MAAM;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAGC,IAAI,EAAI;EAC/B,IAAMC,OAAO,GAAGpD,QAAQ,CAACqD,aAAa,CAAC,CAAC;EACxCrD,QAAQ,CAACsD,QAAQ,CAACF,OAAO,EAAED,IAAI,CAAC;EAChC,OAAOnD,QAAQ,CAACuD,YAAY,CAACH,OAAO,CAAC;AACvC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAASA,CAAG9B,GAAG;EAAA,OAAIzB,QAAQ,CAACwD,OAAO,CAACxD,QAAQ,CAACyD,aAAa,CAAChC,GAAG,CAAC,CAAC;AAAA;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMiC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,EAAE,EAAEC,CAAC,EAAK;EACvC,IAAIA,CAAC,KAAK,CAAC,EAAE,OAAOD,EAAE;EACtBA,EAAE,GAAG,IAAIxD,UAAU,CAACwD,EAAE,CAAC;EACvBA,EAAE,CAAC,CAAC,CAAC,KAAKC,CAAC;EACX,KAAK,IAAIhD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,EAAE,CAACpD,MAAM,EAAEK,CAAC,EAAE,EAAE;IAClC+C,EAAE,CAAC/C,CAAC,GAAG,CAAC,CAAC,IAAI+C,EAAE,CAAC/C,CAAC,CAAC,KAAM,CAAC,GAAGgD,CAAE;IAC9BD,EAAE,CAAC/C,CAAC,CAAC,KAAKgD,CAAC;EACb;EACA,OAAOD,EAAE;AACX,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}