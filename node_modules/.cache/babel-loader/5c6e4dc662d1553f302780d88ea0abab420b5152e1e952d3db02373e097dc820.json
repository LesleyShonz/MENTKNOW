{"ast":null,"code":"import _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _migrators;\nvar _excluded = [\"url\"],\n  _excluded2 = [\"crop\"];\nimport { defineMigrations } from \"@tldraw/store\";\nimport { T } from \"@tldraw/validate\";\nimport { assetIdValidator } from \"../assets/TLBaseAsset.mjs\";\nimport { vec2dModelValidator } from \"../misc/geometry-types.mjs\";\nvar ImageShapeCrop = T.object({\n  topLeft: vec2dModelValidator,\n  bottomRight: vec2dModelValidator\n});\nvar imageShapeProps = {\n  w: T.nonZeroNumber,\n  h: T.nonZeroNumber,\n  playing: T.boolean,\n  url: T.string,\n  assetId: assetIdValidator.nullable(),\n  crop: ImageShapeCrop.nullable()\n};\nvar Versions = {\n  AddUrlProp: 1,\n  AddCropProp: 2\n};\nvar imageShapeMigrations = defineMigrations({\n  currentVersion: Versions.AddCropProp,\n  migrators: (_migrators = {}, _defineProperty(_migrators, Versions.AddUrlProp, {\n    up: function up(shape) {\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          url: \"\"\n        })\n      });\n    },\n    down: function down(shape) {\n      var _shape$props = shape.props,\n        _ = _shape$props.url,\n        props = _objectWithoutProperties(_shape$props, _excluded);\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: props\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddCropProp, {\n    up: function up(shape) {\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          crop: null\n        })\n      });\n    },\n    down: function down(shape) {\n      var _shape$props2 = shape.props,\n        _ = _shape$props2.crop,\n        props = _objectWithoutProperties(_shape$props2, _excluded2);\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: props\n      });\n    }\n  }), _migrators)\n});\nexport { ImageShapeCrop, imageShapeMigrations, imageShapeProps };","map":{"version":3,"names":["defineMigrations","T","assetIdValidator","vec2dModelValidator","ImageShapeCrop","object","topLeft","bottomRight","imageShapeProps","w","nonZeroNumber","h","playing","boolean","url","string","assetId","nullable","crop","Versions","AddUrlProp","AddCropProp","imageShapeMigrations","currentVersion","migrators","_migrators","_defineProperty","up","shape","_objectSpread","props","down","_shape$props","_","_objectWithoutProperties","_excluded","_shape$props2","_excluded2"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/tlschema/src/shapes/TLImageShape.ts"],"sourcesContent":["import { defineMigrations } from '@tldraw/store'\nimport { T } from '@tldraw/validate'\nimport { assetIdValidator } from '../assets/TLBaseAsset'\nimport { vec2dModelValidator } from '../misc/geometry-types'\nimport { ShapePropsType, TLBaseShape } from './TLBaseShape'\n\n/** @public */\nexport const ImageShapeCrop = T.object({\n\ttopLeft: vec2dModelValidator,\n\tbottomRight: vec2dModelValidator,\n})\n/** @public */\nexport type TLImageShapeCrop = T.TypeOf<typeof ImageShapeCrop>\n\n/** @public */\nexport const imageShapeProps = {\n\tw: T.nonZeroNumber,\n\th: T.nonZeroNumber,\n\tplaying: T.boolean,\n\turl: T.string,\n\tassetId: assetIdValidator.nullable(),\n\tcrop: ImageShapeCrop.nullable(),\n}\n\n/** @public */\nexport type TLImageShapeProps = ShapePropsType<typeof imageShapeProps>\n\n/** @public */\nexport type TLImageShape = TLBaseShape<'image', TLImageShapeProps>\n\nconst Versions = {\n\tAddUrlProp: 1,\n\tAddCropProp: 2,\n} as const\n\n/** @internal */\nexport const imageShapeMigrations = defineMigrations({\n\tcurrentVersion: Versions.AddCropProp,\n\tmigrators: {\n\t\t[Versions.AddUrlProp]: {\n\t\t\tup: (shape) => {\n\t\t\t\treturn { ...shape, props: { ...shape.props, url: '' } }\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\tconst { url: _, ...props } = shape.props\n\t\t\t\treturn { ...shape, props }\n\t\t\t},\n\t\t},\n\t\t[Versions.AddCropProp]: {\n\t\t\tup: (shape) => {\n\t\t\t\treturn { ...shape, props: { ...shape.props, crop: null } }\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\tconst { crop: _, ...props } = shape.props\n\t\t\t\treturn { ...shape, props }\n\t\t\t},\n\t\t},\n\t},\n})\n"],"mappings":";;;;;;AAAA,SAASA,gBAAA,QAAwB;AACjC,SAASC,CAAA,QAAS;AAClB,SAASC,gBAAA,QAAwB;AACjC,SAASC,mBAAA,QAA2B;AAI7B,IAAMC,cAAA,GAAiBH,CAAA,CAAEI,MAAA,CAAO;EACtCC,OAAA,EAASH,mBAAA;EACTI,WAAA,EAAaJ;AACd,CAAC;AAKM,IAAMK,eAAA,GAAkB;EAC9BC,CAAA,EAAGR,CAAA,CAAES,aAAA;EACLC,CAAA,EAAGV,CAAA,CAAES,aAAA;EACLE,OAAA,EAASX,CAAA,CAAEY,OAAA;EACXC,GAAA,EAAKb,CAAA,CAAEc,MAAA;EACPC,OAAA,EAASd,gBAAA,CAAiBe,QAAA,CAAS;EACnCC,IAAA,EAAMd,cAAA,CAAea,QAAA,CAAS;AAC/B;AAQA,IAAME,QAAA,GAAW;EAChBC,UAAA,EAAY;EACZC,WAAA,EAAa;AACd;AAGO,IAAMC,oBAAA,GAAuBtB,gBAAA,CAAiB;EACpDuB,cAAA,EAAgBJ,QAAA,CAASE,WAAA;EACzBG,SAAA,GAAAC,UAAA,OAAAC,eAAA,CAAAD,UAAA,EACEN,QAAA,CAASC,UAAU,EAAG;IACtBO,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,OAAAC,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KAAYD,KAAA,CAAME,KAAA;UAAOhB,GAAA,EAAK;QAAA;MAAG;IACrD;IACAiB,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAAI,YAAA,GAA6BJ,KAAA,CAAME,KAAA;QAAtBG,CAAA,GAAAD,YAAA,CAALlB,GAAA;QAAWgB,KAAA,GAAAI,wBAAA,CAAAF,YAAA,EAAAG,SAAA;MACnB,OAAAN,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAA;MAAA;IACpB;EACD,IAAAJ,eAAA,CAAAD,UAAA,EACCN,QAAA,CAASE,WAAW,EAAG;IACvBM,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,OAAAC,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KAAYD,KAAA,CAAME,KAAA;UAAOZ,IAAA,EAAM;QAAA;MAAK;IACxD;IACAa,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAAQ,aAAA,GAA8BR,KAAA,CAAME,KAAA;QAAtBG,CAAA,GAAAG,aAAA,CAANlB,IAAA;QAAYY,KAAA,GAAAI,wBAAA,CAAAE,aAAA,EAAAC,UAAA;MACpB,OAAAR,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAA;MAAA;IACpB;EACD,IAAAL,UAAA;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}