{"ast":null,"code":"import { jsx } from \"react/jsx-runtime\";\nimport { useEditor } from \"@tldraw/editor\";\nimport React, { useMemo } from \"react\";\nimport { track } from \"signia-react\";\nimport { menuItem, useAllowGroup, useAllowUngroup, useThreeStackableItems } from \"./menuHelpers.mjs\";\nimport { useActions } from \"./useActions.mjs\";\nimport { useBreakpoint } from \"./useBreakpoint.mjs\";\nimport { useHasLinkShapeSelected } from \"./useHasLinkShapeSelected.mjs\";\nvar ActionsMenuSchemaContext = React.createContext({});\nvar ActionsMenuSchemaProvider = track(function ActionsMenuSchemaProvider2(_ref) {\n  var overrides = _ref.overrides,\n    children = _ref.children;\n  var editor = useEditor();\n  var actions = useActions();\n  var selectedCount = editor.selectedIds.length;\n  var oneSelected = selectedCount > 0;\n  var twoSelected = selectedCount > 1;\n  var threeSelected = selectedCount > 2;\n  var threeStackableItems = useThreeStackableItems();\n  var allowGroup = useAllowGroup();\n  var allowUngroup = useAllowUngroup();\n  var showEditLink = useHasLinkShapeSelected();\n  var breakpoint = useBreakpoint();\n  var isZoomedTo100 = editor.zoomLevel === 1;\n  var actionTLUiMenuSchema = useMemo(function () {\n    var results = [menuItem(actions[\"align-left\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"align-center-horizontal\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"align-right\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"stretch-horizontal\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"align-top\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"align-center-vertical\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"align-bottom\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"stretch-vertical\"], {\n      disabled: !twoSelected\n    }), menuItem(actions[\"distribute-horizontal\"], {\n      disabled: !threeSelected\n    }), menuItem(actions[\"distribute-vertical\"], {\n      disabled: !threeSelected\n    }), menuItem(actions[\"stack-horizontal\"], {\n      disabled: !threeStackableItems\n    }), menuItem(actions[\"stack-vertical\"], {\n      disabled: !threeStackableItems\n    }), menuItem(actions[\"send-to-back\"], {\n      disabled: !oneSelected\n    }), menuItem(actions[\"send-backward\"], {\n      disabled: !oneSelected\n    }), menuItem(actions[\"bring-forward\"], {\n      disabled: !oneSelected\n    }), menuItem(actions[\"bring-to-front\"], {\n      disabled: !oneSelected\n    }), breakpoint < 5 ? menuItem(actions[\"zoom-to-100\"], {\n      disabled: !!isZoomedTo100\n    }) : menuItem(actions[\"rotate-ccw\"], {\n      disabled: !oneSelected\n    }), menuItem(actions[\"rotate-cw\"], {\n      disabled: !oneSelected\n    }), menuItem(actions[\"edit-link\"], {\n      disabled: !showEditLink\n    }), allowGroup ? menuItem(actions[\"group\"], {\n      disabled: !twoSelected\n    }) : allowUngroup ? menuItem(actions[\"ungroup\"]) : menuItem(actions[\"group\"], {\n      disabled: !twoSelected\n    })];\n    if (overrides) {\n      return overrides(editor, results, {\n        actions: actions,\n        oneSelected: oneSelected,\n        twoSelected: twoSelected,\n        threeSelected: threeSelected\n      });\n    }\n    return results;\n  }, [editor, isZoomedTo100, allowGroup, overrides, actions, oneSelected, twoSelected, threeSelected, threeStackableItems, allowUngroup, showEditLink, breakpoint]);\n  return /* @__PURE__ */jsx(ActionsMenuSchemaContext.Provider, {\n    value: actionTLUiMenuSchema,\n    children: children\n  });\n});\nfunction useActionsMenuSchema() {\n  var ctx = React.useContext(ActionsMenuSchemaContext);\n  if (!ctx) {\n    throw new Error(\"useActionsMenuSchema must be used inside of a ActionsMenuSchemaProvider.\");\n  }\n  return ctx;\n}\nexport { ActionsMenuSchemaContext, ActionsMenuSchemaProvider, useActionsMenuSchema };","map":{"version":3,"names":["jsx","useEditor","React","useMemo","track","menuItem","useAllowGroup","useAllowUngroup","useThreeStackableItems","useActions","useBreakpoint","useHasLinkShapeSelected","ActionsMenuSchemaContext","createContext","ActionsMenuSchemaProvider","ActionsMenuSchemaProvider2","_ref","overrides","children","editor","actions","selectedCount","selectedIds","length","oneSelected","twoSelected","threeSelected","threeStackableItems","allowGroup","allowUngroup","showEditLink","breakpoint","isZoomedTo100","zoomLevel","actionTLUiMenuSchema","results","disabled","Provider","value","useActionsMenuSchema","ctx","useContext","Error"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/hooks/useActionsMenuSchema.tsx"],"sourcesContent":["import { Editor, useEditor } from '@tldraw/editor'\nimport React, { useMemo } from 'react'\nimport { track } from 'signia-react'\nimport {\n\tTLUiMenuSchema,\n\tmenuItem,\n\tuseAllowGroup,\n\tuseAllowUngroup,\n\tuseThreeStackableItems,\n} from './menuHelpers'\nimport { useActions } from './useActions'\nimport { useBreakpoint } from './useBreakpoint'\nimport { useHasLinkShapeSelected } from './useHasLinkShapeSelected'\n\n/** @public */\nexport type TLUiActionsMenuSchemaContextType = TLUiMenuSchema\n\n/** @internal */\nexport const ActionsMenuSchemaContext = React.createContext({} as TLUiActionsMenuSchemaContextType)\n\n/** @public */\nexport type ActionsMenuSchemaProviderProps = {\n\toverrides?: (\n\t\teditor: Editor,\n\t\tschema: TLUiActionsMenuSchemaContextType,\n\t\thelpers: {\n\t\t\tactions: ReturnType<typeof useActions>\n\t\t\toneSelected: boolean\n\t\t\ttwoSelected: boolean\n\t\t\tthreeSelected: boolean\n\t\t}\n\t) => TLUiActionsMenuSchemaContextType\n\tchildren: any\n}\n\n/** @internal */\nexport const ActionsMenuSchemaProvider = track(function ActionsMenuSchemaProvider({\n\toverrides,\n\tchildren,\n}: ActionsMenuSchemaProviderProps) {\n\tconst editor = useEditor()\n\tconst actions = useActions()\n\n\tconst selectedCount = editor.selectedIds.length\n\n\tconst oneSelected = selectedCount > 0\n\tconst twoSelected = selectedCount > 1\n\tconst threeSelected = selectedCount > 2\n\tconst threeStackableItems = useThreeStackableItems()\n\tconst allowGroup = useAllowGroup()\n\tconst allowUngroup = useAllowUngroup()\n\tconst showEditLink = useHasLinkShapeSelected()\n\tconst breakpoint = useBreakpoint()\n\tconst isZoomedTo100 = editor.zoomLevel === 1\n\n\tconst actionTLUiMenuSchema = useMemo<TLUiMenuSchema>(() => {\n\t\tconst results = [\n\t\t\tmenuItem(actions['align-left'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['align-center-horizontal'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['align-right'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['stretch-horizontal'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['align-top'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['align-center-vertical'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['align-bottom'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['stretch-vertical'], { disabled: !twoSelected }),\n\t\t\tmenuItem(actions['distribute-horizontal'], { disabled: !threeSelected }),\n\t\t\tmenuItem(actions['distribute-vertical'], { disabled: !threeSelected }),\n\t\t\tmenuItem(actions['stack-horizontal'], { disabled: !threeStackableItems }),\n\t\t\tmenuItem(actions['stack-vertical'], { disabled: !threeStackableItems }),\n\t\t\tmenuItem(actions['send-to-back'], { disabled: !oneSelected }),\n\t\t\tmenuItem(actions['send-backward'], { disabled: !oneSelected }),\n\t\t\tmenuItem(actions['bring-forward'], { disabled: !oneSelected }),\n\t\t\tmenuItem(actions['bring-to-front'], { disabled: !oneSelected }),\n\t\t\tbreakpoint < 5\n\t\t\t\t? menuItem(actions['zoom-to-100'], { disabled: !!isZoomedTo100 })\n\t\t\t\t: menuItem(actions['rotate-ccw'], { disabled: !oneSelected }),\n\t\t\tmenuItem(actions['rotate-cw'], { disabled: !oneSelected }),\n\t\t\tmenuItem(actions['edit-link'], { disabled: !showEditLink }),\n\t\t\tallowGroup\n\t\t\t\t? menuItem(actions['group'], { disabled: !twoSelected })\n\t\t\t\t: allowUngroup\n\t\t\t\t? menuItem(actions['ungroup'])\n\t\t\t\t: menuItem(actions['group'], { disabled: !twoSelected }),\n\t\t]\n\n\t\tif (overrides) {\n\t\t\treturn overrides(editor, results, { actions, oneSelected, twoSelected, threeSelected })\n\t\t}\n\n\t\treturn results\n\t}, [\n\t\teditor,\n\t\tisZoomedTo100,\n\t\tallowGroup,\n\t\toverrides,\n\t\tactions,\n\t\toneSelected,\n\t\ttwoSelected,\n\t\tthreeSelected,\n\t\tthreeStackableItems,\n\t\tallowUngroup,\n\t\tshowEditLink,\n\t\tbreakpoint,\n\t])\n\n\treturn (\n\t\t<ActionsMenuSchemaContext.Provider value={actionTLUiMenuSchema}>\n\t\t\t{children}\n\t\t</ActionsMenuSchemaContext.Provider>\n\t)\n})\n\n/** @public */\nexport function useActionsMenuSchema(): TLUiMenuSchema {\n\tconst ctx = React.useContext(ActionsMenuSchemaContext)\n\n\tif (!ctx) {\n\t\tthrow new Error('useActionsMenuSchema must be used inside of a ActionsMenuSchemaProvider.')\n\t}\n\n\treturn ctx\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}