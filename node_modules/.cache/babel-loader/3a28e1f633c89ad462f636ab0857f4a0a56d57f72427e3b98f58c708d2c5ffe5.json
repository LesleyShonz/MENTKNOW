{"ast":null,"code":"import _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _migrators;\nvar _excluded = [\"url\"],\n  _excluded2 = [\"verticalAlign\"];\nimport { defineMigrations } from \"@tldraw/store\";\nimport { T } from \"@tldraw/validate\";\nimport { DefaultColorStyle } from \"../styles/TLColorStyle.mjs\";\nimport { DefaultFontStyle } from \"../styles/TLFontStyle.mjs\";\nimport { DefaultHorizontalAlignStyle } from \"../styles/TLHorizontalAlignStyle.mjs\";\nimport { DefaultSizeStyle } from \"../styles/TLSizeStyle.mjs\";\nimport { DefaultVerticalAlignStyle } from \"../styles/TLVerticalAlignStyle.mjs\";\nvar noteShapeProps = {\n  color: DefaultColorStyle,\n  size: DefaultSizeStyle,\n  font: DefaultFontStyle,\n  align: DefaultHorizontalAlignStyle,\n  verticalAlign: DefaultVerticalAlignStyle,\n  growY: T.positiveNumber,\n  url: T.string,\n  text: T.string\n};\nvar Versions = {\n  AddUrlProp: 1,\n  RemoveJustify: 2,\n  MigrateLegacyAlign: 3,\n  AddVerticalAlign: 4\n};\nvar noteShapeMigrations = defineMigrations({\n  currentVersion: Versions.AddVerticalAlign,\n  migrators: (_migrators = {}, _defineProperty(_migrators, Versions.AddUrlProp, {\n    up: function up(shape) {\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          url: \"\"\n        })\n      });\n    },\n    down: function down(shape) {\n      var _shape$props = shape.props,\n        _ = _shape$props.url,\n        props = _objectWithoutProperties(_shape$props, _excluded);\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: props\n      });\n    }\n  }), _defineProperty(_migrators, Versions.RemoveJustify, {\n    up: function up(shape) {\n      var newAlign = shape.props.align;\n      if (newAlign === \"justify\") {\n        newAlign = \"start\";\n      }\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          align: newAlign\n        })\n      });\n    },\n    down: function down(shape) {\n      return _objectSpread({}, shape);\n    }\n  }), _defineProperty(_migrators, Versions.MigrateLegacyAlign, {\n    up: function up(shape) {\n      var newAlign;\n      switch (shape.props.align) {\n        case \"start\":\n          newAlign = \"start-legacy\";\n          break;\n        case \"end\":\n          newAlign = \"end-legacy\";\n          break;\n        default:\n          newAlign = \"middle-legacy\";\n          break;\n      }\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          align: newAlign\n        })\n      });\n    },\n    down: function down(shape) {\n      var oldAlign;\n      switch (shape.props.align) {\n        case \"start-legacy\":\n          oldAlign = \"start\";\n          break;\n        case \"end-legacy\":\n          oldAlign = \"end\";\n          break;\n        case \"middle-legacy\":\n          oldAlign = \"middle\";\n          break;\n        default:\n          oldAlign = shape.props.align;\n      }\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          align: oldAlign\n        })\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddVerticalAlign, {\n    up: function up(shape) {\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: _objectSpread(_objectSpread({}, shape.props), {}, {\n          verticalAlign: \"middle\"\n        })\n      });\n    },\n    down: function down(shape) {\n      var _shape$props2 = shape.props,\n        _ = _shape$props2.verticalAlign,\n        props = _objectWithoutProperties(_shape$props2, _excluded2);\n      return _objectSpread(_objectSpread({}, shape), {}, {\n        props: props\n      });\n    }\n  }), _migrators)\n});\nexport { noteShapeMigrations, noteShapeProps };","map":{"version":3,"names":["defineMigrations","T","DefaultColorStyle","DefaultFontStyle","DefaultHorizontalAlignStyle","DefaultSizeStyle","DefaultVerticalAlignStyle","noteShapeProps","color","size","font","align","verticalAlign","growY","positiveNumber","url","string","text","Versions","AddUrlProp","RemoveJustify","MigrateLegacyAlign","AddVerticalAlign","noteShapeMigrations","currentVersion","migrators","_migrators","_defineProperty","up","shape","_objectSpread","props","down","_shape$props","_","_objectWithoutProperties","_excluded","newAlign","oldAlign","_shape$props2","_excluded2"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/tlschema/src/shapes/TLNoteShape.ts"],"sourcesContent":["import { defineMigrations } from '@tldraw/store'\nimport { T } from '@tldraw/validate'\nimport { DefaultColorStyle } from '../styles/TLColorStyle'\nimport { DefaultFontStyle } from '../styles/TLFontStyle'\nimport {\n\tDefaultHorizontalAlignStyle,\n\tTLDefaultHorizontalAlignStyle,\n} from '../styles/TLHorizontalAlignStyle'\nimport { DefaultSizeStyle } from '../styles/TLSizeStyle'\nimport { DefaultVerticalAlignStyle } from '../styles/TLVerticalAlignStyle'\nimport { ShapePropsType, TLBaseShape } from './TLBaseShape'\n\n/** @public */\nexport const noteShapeProps = {\n\tcolor: DefaultColorStyle,\n\tsize: DefaultSizeStyle,\n\tfont: DefaultFontStyle,\n\talign: DefaultHorizontalAlignStyle,\n\tverticalAlign: DefaultVerticalAlignStyle,\n\tgrowY: T.positiveNumber,\n\turl: T.string,\n\ttext: T.string,\n}\n\n/** @public */\nexport type TLNoteShapeProps = ShapePropsType<typeof noteShapeProps>\n\n/** @public */\nexport type TLNoteShape = TLBaseShape<'note', TLNoteShapeProps>\n\nconst Versions = {\n\tAddUrlProp: 1,\n\tRemoveJustify: 2,\n\tMigrateLegacyAlign: 3,\n\tAddVerticalAlign: 4,\n} as const\n\n/** @internal */\nexport const noteShapeMigrations = defineMigrations({\n\tcurrentVersion: Versions.AddVerticalAlign,\n\tmigrators: {\n\t\t[Versions.AddUrlProp]: {\n\t\t\tup: (shape) => {\n\t\t\t\treturn { ...shape, props: { ...shape.props, url: '' } }\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\tconst { url: _, ...props } = shape.props\n\t\t\t\treturn { ...shape, props }\n\t\t\t},\n\t\t},\n\t\t[Versions.RemoveJustify]: {\n\t\t\tup: (shape) => {\n\t\t\t\tlet newAlign = shape.props.align\n\t\t\t\tif (newAlign === 'justify') {\n\t\t\t\t\tnewAlign = 'start'\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...shape,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...shape.props,\n\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\treturn { ...shape }\n\t\t\t},\n\t\t},\n\n\t\t[Versions.MigrateLegacyAlign]: {\n\t\t\tup: (shape) => {\n\t\t\t\tlet newAlign: TLDefaultHorizontalAlignStyle\n\t\t\t\tswitch (shape.props.align) {\n\t\t\t\t\tcase 'start':\n\t\t\t\t\t\tnewAlign = 'start-legacy'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tnewAlign = 'end-legacy'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tnewAlign = 'middle-legacy'\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...shape,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...shape.props,\n\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\tlet oldAlign: TLDefaultHorizontalAlignStyle\n\t\t\t\tswitch (shape.props.align) {\n\t\t\t\t\tcase 'start-legacy':\n\t\t\t\t\t\toldAlign = 'start'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'end-legacy':\n\t\t\t\t\t\toldAlign = 'end'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'middle-legacy':\n\t\t\t\t\t\toldAlign = 'middle'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\toldAlign = shape.props.align\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...shape,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...shape.props,\n\t\t\t\t\t\talign: oldAlign,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t[Versions.AddVerticalAlign]: {\n\t\t\tup: (shape) => {\n\t\t\t\treturn {\n\t\t\t\t\t...shape,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...shape.props,\n\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (shape) => {\n\t\t\t\tconst { verticalAlign: _, ...props } = shape.props\n\n\t\t\t\treturn {\n\t\t\t\t\t...shape,\n\t\t\t\t\tprops,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n})\n"],"mappings":";;;;;;AAAA,SAASA,gBAAA,QAAwB;AACjC,SAASC,CAAA,QAAS;AAClB,SAASC,iBAAA,QAAyB;AAClC,SAASC,gBAAA,QAAwB;AACjC,SACCC,2BAAA,QAEM;AACP,SAASC,gBAAA,QAAwB;AACjC,SAASC,yBAAA,QAAiC;AAInC,IAAMC,cAAA,GAAiB;EAC7BC,KAAA,EAAON,iBAAA;EACPO,IAAA,EAAMJ,gBAAA;EACNK,IAAA,EAAMP,gBAAA;EACNQ,KAAA,EAAOP,2BAAA;EACPQ,aAAA,EAAeN,yBAAA;EACfO,KAAA,EAAOZ,CAAA,CAAEa,cAAA;EACTC,GAAA,EAAKd,CAAA,CAAEe,MAAA;EACPC,IAAA,EAAMhB,CAAA,CAAEe;AACT;AAQA,IAAME,QAAA,GAAW;EAChBC,UAAA,EAAY;EACZC,aAAA,EAAe;EACfC,kBAAA,EAAoB;EACpBC,gBAAA,EAAkB;AACnB;AAGO,IAAMC,mBAAA,GAAsBvB,gBAAA,CAAiB;EACnDwB,cAAA,EAAgBN,QAAA,CAASI,gBAAA;EACzBG,SAAA,GAAAC,UAAA,OAAAC,eAAA,CAAAD,UAAA,EACER,QAAA,CAASC,UAAU,EAAG;IACtBS,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,OAAAC,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KAAYD,KAAA,CAAME,KAAA;UAAOhB,GAAA,EAAK;QAAA;MAAG;IACrD;IACAiB,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAAI,YAAA,GAA6BJ,KAAA,CAAME,KAAA;QAAtBG,CAAA,GAAAD,YAAA,CAALlB,GAAA;QAAWgB,KAAA,GAAAI,wBAAA,CAAAF,YAAA,EAAAG,SAAA;MACnB,OAAAN,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAA;MAAA;IACpB;EACD,IAAAJ,eAAA,CAAAD,UAAA,EACCR,QAAA,CAASE,aAAa,EAAG;IACzBQ,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,IAAIQ,QAAA,GAAWR,KAAA,CAAME,KAAA,CAAMpB,KAAA;MAC3B,IAAI0B,QAAA,KAAa,WAAW;QAC3BA,QAAA,GAAW;MACZ;MAEA,OAAAP,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KACID,KAAA,CAAME,KAAA;UACTpB,KAAA,EAAO0B;QAAA;MACR;IAEF;IACAL,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,OAAAC,aAAA,KAAYD,KAAA;IACb;EACD,IAAAF,eAAA,CAAAD,UAAA,EAECR,QAAA,CAASG,kBAAkB,EAAG;IAC9BO,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,IAAIQ,QAAA;MACJ,QAAQR,KAAA,CAAME,KAAA,CAAMpB,KAAA;QACnB,KAAK;UACJ0B,QAAA,GAAW;UACX;QACD,KAAK;UACJA,QAAA,GAAW;UACX;QACD;UACCA,QAAA,GAAW;UACX;MACF;MACA,OAAAP,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KACID,KAAA,CAAME,KAAA;UACTpB,KAAA,EAAO0B;QAAA;MACR;IAEF;IACAL,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAIS,QAAA;MACJ,QAAQT,KAAA,CAAME,KAAA,CAAMpB,KAAA;QACnB,KAAK;UACJ2B,QAAA,GAAW;UACX;QACD,KAAK;UACJA,QAAA,GAAW;UACX;QACD,KAAK;UACJA,QAAA,GAAW;UACX;QACD;UACCA,QAAA,GAAWT,KAAA,CAAME,KAAA,CAAMpB,KAAA;MACzB;MACA,OAAAmB,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KACID,KAAA,CAAME,KAAA;UACTpB,KAAA,EAAO2B;QAAA;MACR;IAEF;EACD,IAAAX,eAAA,CAAAD,UAAA,EACCR,QAAA,CAASI,gBAAgB,EAAG;IAC5BM,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,OAAAC,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KACID,KAAA,CAAME,KAAA;UACTnB,aAAA,EAAe;QAAA;MAChB;IAEF;IACAoB,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAAU,aAAA,GAAuCV,KAAA,CAAME,KAAA;QAAtBG,CAAA,GAAAK,aAAA,CAAf3B,aAAA;QAAqBmB,KAAA,GAAAI,wBAAA,CAAAI,aAAA,EAAAC,UAAA;MAE7B,OAAAV,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAA;MAAA;IAEF;EACD,IAAAL,UAAA;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}