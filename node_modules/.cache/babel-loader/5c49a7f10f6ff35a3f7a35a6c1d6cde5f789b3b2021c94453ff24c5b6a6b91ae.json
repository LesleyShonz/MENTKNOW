{"ast":null,"code":"import { getIndexAbove, getIndexBelow, getIndexBetween } from \"@tldraw/editor\";\nvar onMovePage = function onMovePage(editor, id, from, to) {\n  var index;\n  var pages = editor.pages;\n  var below = from > to ? pages[to - 1] : pages[to];\n  var above = from > to ? pages[to] : pages[to + 1];\n  if (below && !above) {\n    index = getIndexAbove(below.index);\n  } else if (!below && above) {\n    index = getIndexBelow(pages[0].index);\n  } else {\n    index = getIndexBetween(below.index, above.index);\n  }\n  if (index !== pages[from].index) {\n    editor.mark(\"moving page\");\n    editor.updatePage({\n      id: id,\n      index: index\n    });\n  }\n};\nexport { onMovePage };","map":{"version":3,"names":["getIndexAbove","getIndexBelow","getIndexBetween","onMovePage","editor","id","from","to","index","pages","below","above","mark","updatePage"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/components/PageMenu/edit-pages-shared.ts"],"sourcesContent":["import { Editor, getIndexAbove, getIndexBelow, getIndexBetween, TLPageId } from '@tldraw/editor'\n\nexport const onMovePage = (editor: Editor, id: TLPageId, from: number, to: number) => {\n\tlet index: string\n\n\tconst pages = editor.pages\n\n\tconst below = from > to ? pages[to - 1] : pages[to]\n\tconst above = from > to ? pages[to] : pages[to + 1]\n\n\tif (below && !above) {\n\t\tindex = getIndexAbove(below.index)\n\t} else if (!below && above) {\n\t\tindex = getIndexBelow(pages[0].index)\n\t} else {\n\t\tindex = getIndexBetween(below.index, above.index)\n\t}\n\n\tif (index !== pages[from].index) {\n\t\teditor.mark('moving page')\n\t\teditor.updatePage({\n\t\t\tid: id as TLPageId,\n\t\t\tindex,\n\t\t})\n\t}\n}\n"],"mappings":"AAAA,SAAiBA,aAAA,EAAeC,aAAA,EAAeC,eAAA,QAAiC;AAEzE,IAAMC,UAAA,GAAa,SAAbA,WAAcC,MAAA,EAAgBC,EAAA,EAAcC,IAAA,EAAcC,EAAA,EAAe;EACrF,IAAIC,KAAA;EAEJ,IAAMC,KAAA,GAAQL,MAAA,CAAOK,KAAA;EAErB,IAAMC,KAAA,GAAQJ,IAAA,GAAOC,EAAA,GAAKE,KAAA,CAAMF,EAAA,GAAK,CAAC,IAAIE,KAAA,CAAMF,EAAE;EAClD,IAAMI,KAAA,GAAQL,IAAA,GAAOC,EAAA,GAAKE,KAAA,CAAMF,EAAE,IAAIE,KAAA,CAAMF,EAAA,GAAK,CAAC;EAElD,IAAIG,KAAA,IAAS,CAACC,KAAA,EAAO;IACpBH,KAAA,GAAQR,aAAA,CAAcU,KAAA,CAAMF,KAAK;EAClC,WAAW,CAACE,KAAA,IAASC,KAAA,EAAO;IAC3BH,KAAA,GAAQP,aAAA,CAAcQ,KAAA,CAAM,CAAC,EAAED,KAAK;EACrC,OAAO;IACNA,KAAA,GAAQN,eAAA,CAAgBQ,KAAA,CAAMF,KAAA,EAAOG,KAAA,CAAMH,KAAK;EACjD;EAEA,IAAIA,KAAA,KAAUC,KAAA,CAAMH,IAAI,EAAEE,KAAA,EAAO;IAChCJ,MAAA,CAAOQ,IAAA,CAAK,aAAa;IACzBR,MAAA,CAAOS,UAAA,CAAW;MACjBR,EAAA,EAAAA,EAAA;MACAG,KAAA,EAAAA;IACD,CAAC;EACF;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}