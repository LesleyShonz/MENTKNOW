{"ast":null,"code":"import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as _ContextMenu from \"@radix-ui/react-context-menu\";\nimport { PageRecordType, useContainer, useEditor } from \"@tldraw/editor\";\nimport { track } from \"signia-react\";\nimport { useToasts } from \"../hooks/useToastsProvider.mjs\";\nimport { useTranslation } from \"../hooks/useTranslation/useTranslation.mjs\";\nimport { Button } from \"./primitives/Button.mjs\";\nvar MoveToPageMenu = track(function MoveToPageMenu2() {\n  var editor = useEditor();\n  var container = useContainer();\n  var pages = editor.pages;\n  var currentPageId = editor.currentPageId;\n  var msg = useTranslation();\n  var _useToasts = useToasts(),\n    addToast = _useToasts.addToast;\n  return /* @__PURE__ */jsxs(_ContextMenu.Sub, {\n    children: [/* @__PURE__ */jsx(_ContextMenu.SubTrigger, {\n      dir: \"ltr\",\n      asChild: true,\n      children: /* @__PURE__ */jsx(Button, {\n        className: \"tlui-menu__button\",\n        label: \"context-menu.move-to-page\",\n        \"data-testid\": \"menu-item.move-to-page\",\n        icon: \"chevron-right\"\n      })\n    }), /* @__PURE__ */jsx(_ContextMenu.Portal, {\n      container: container,\n      dir: \"ltr\",\n      children: /* @__PURE__ */jsxs(_ContextMenu.SubContent, {\n        className: \"tlui-menu\",\n        sideOffset: -4,\n        collisionPadding: 4,\n        children: [/* @__PURE__ */jsx(_ContextMenu.Group, {\n          dir: \"ltr\",\n          className: \"tlui-menu__group\",\n          \"data-testid\": \"menu-item.pages\",\n          children: pages.map(function (page) {\n            return /* @__PURE__ */jsx(_ContextMenu.Item, {\n              disabled: currentPageId === page.id,\n              onSelect: function onSelect() {\n                editor.mark(\"move_shapes_to_page\");\n                editor.moveShapesToPage(editor.selectedIds, page.id);\n                var toPage = editor.getPageById(page.id);\n                if (toPage) {\n                  addToast({\n                    title: \"Changed Page\",\n                    description: \"Moved to \".concat(toPage.name, \".\"),\n                    actions: [{\n                      label: \"Go Back\",\n                      type: \"primary\",\n                      onClick: function onClick() {\n                        editor.mark(\"change-page\");\n                        editor.setCurrentPageId(currentPageId);\n                      }\n                    }]\n                  });\n                }\n              },\n              asChild: true,\n              children: /* @__PURE__ */jsx(Button, {\n                title: page.name,\n                className: \"tlui-menu__button tlui-context-menu__move-to-page__name\",\n                children: /* @__PURE__ */jsx(\"span\", {\n                  children: page.name\n                })\n              })\n            }, page.id);\n          })\n        }, \"pages\"), /* @__PURE__ */jsx(_ContextMenu.Group, {\n          dir: \"ltr\",\n          className: \"tlui-menu__group\",\n          \"data-testid\": \"menu-item.new-page\",\n          children: /* @__PURE__ */jsx(_ContextMenu.Item, {\n            onSelect: function onSelect() {\n              editor.mark(\"move_shapes_to_page\");\n              var newPageId = PageRecordType.createId();\n              var ids = editor.selectedIds;\n              var oldPageId = editor.currentPageId;\n              editor.batch(function () {\n                editor.createPage(\"Page 1\", newPageId);\n                editor.setCurrentPageId(oldPageId);\n                editor.moveShapesToPage(ids, newPageId);\n              });\n            },\n            asChild: true,\n            children: /* @__PURE__ */jsx(Button, {\n              title: msg(\"context.pages.new-page\"),\n              className: \"tlui-menu__button tlui-context-menu__move-to-page__name\",\n              children: msg(\"context.pages.new-page\")\n            })\n          }, \"new-page\")\n        }, \"new-page\")]\n      })\n    })]\n  });\n});\nexport { MoveToPageMenu };","map":{"version":3,"names":["jsx","jsxs","_ContextMenu","PageRecordType","useContainer","useEditor","track","useToasts","useTranslation","Button","MoveToPageMenu","MoveToPageMenu2","editor","container","pages","currentPageId","msg","_useToasts","addToast","Sub","children","SubTrigger","dir","asChild","className","label","icon","Portal","SubContent","sideOffset","collisionPadding","Group","map","page","Item","disabled","id","onSelect","mark","moveShapesToPage","selectedIds","toPage","getPageById","title","description","concat","name","actions","type","onClick","setCurrentPageId","newPageId","createId","ids","oldPageId","batch","createPage"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/components/MoveToPageMenu.tsx"],"sourcesContent":["import * as _ContextMenu from '@radix-ui/react-context-menu'\nimport { PageRecordType, TLPageId, useContainer, useEditor } from '@tldraw/editor'\nimport { track } from 'signia-react'\nimport { useToasts } from '../hooks/useToastsProvider'\nimport { useTranslation } from '../hooks/useTranslation/useTranslation'\nimport { Button } from './primitives/Button'\n\nexport const MoveToPageMenu = track(function MoveToPageMenu() {\n\tconst editor = useEditor()\n\tconst container = useContainer()\n\tconst pages = editor.pages\n\tconst currentPageId = editor.currentPageId\n\tconst msg = useTranslation()\n\tconst { addToast } = useToasts()\n\n\treturn (\n\t\t<_ContextMenu.Sub>\n\t\t\t<_ContextMenu.SubTrigger dir=\"ltr\" asChild>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"tlui-menu__button\"\n\t\t\t\t\tlabel=\"context-menu.move-to-page\"\n\t\t\t\t\tdata-testid=\"menu-item.move-to-page\"\n\t\t\t\t\ticon=\"chevron-right\"\n\t\t\t\t/>\n\t\t\t</_ContextMenu.SubTrigger>\n\t\t\t<_ContextMenu.Portal container={container} dir=\"ltr\">\n\t\t\t\t<_ContextMenu.SubContent className=\"tlui-menu\" sideOffset={-4} collisionPadding={4}>\n\t\t\t\t\t<_ContextMenu.Group\n\t\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\t\tclassName={'tlui-menu__group'}\n\t\t\t\t\t\tdata-testid={`menu-item.pages`}\n\t\t\t\t\t\tkey=\"pages\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{pages.map((page) => (\n\t\t\t\t\t\t\t<_ContextMenu.Item\n\t\t\t\t\t\t\t\tkey={page.id}\n\t\t\t\t\t\t\t\tdisabled={currentPageId === page.id}\n\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\teditor.mark('move_shapes_to_page')\n\t\t\t\t\t\t\t\t\teditor.moveShapesToPage(editor.selectedIds, page.id as TLPageId)\n\n\t\t\t\t\t\t\t\t\tconst toPage = editor.getPageById(page.id)\n\n\t\t\t\t\t\t\t\t\tif (toPage) {\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Changed Page',\n\t\t\t\t\t\t\t\t\t\t\tdescription: `Moved to ${toPage.name}.`,\n\t\t\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Go Back',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'primary',\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor.mark('change-page')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor.setCurrentPageId(currentPageId)\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttitle={page.name}\n\t\t\t\t\t\t\t\t\tclassName=\"tlui-menu__button tlui-context-menu__move-to-page__name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>{page.name}</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</_ContextMenu.Item>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</_ContextMenu.Group>\n\t\t\t\t\t<_ContextMenu.Group\n\t\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\t\tclassName={'tlui-menu__group'}\n\t\t\t\t\t\tdata-testid={`menu-item.new-page`}\n\t\t\t\t\t\tkey=\"new-page\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<_ContextMenu.Item\n\t\t\t\t\t\t\tkey=\"new-page\"\n\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\teditor.mark('move_shapes_to_page')\n\t\t\t\t\t\t\t\tconst newPageId = PageRecordType.createId()\n\t\t\t\t\t\t\t\tconst ids = editor.selectedIds\n\t\t\t\t\t\t\t\tconst oldPageId = editor.currentPageId\n\t\t\t\t\t\t\t\teditor.batch(() => {\n\t\t\t\t\t\t\t\t\teditor.createPage('Page 1', newPageId)\n\t\t\t\t\t\t\t\t\teditor.setCurrentPageId(oldPageId)\n\t\t\t\t\t\t\t\t\teditor.moveShapesToPage(ids, newPageId)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttitle={msg('context.pages.new-page')}\n\t\t\t\t\t\t\t\tclassName=\"tlui-menu__button tlui-context-menu__move-to-page__name\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{msg('context.pages.new-page')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</_ContextMenu.Item>\n\t\t\t\t\t</_ContextMenu.Group>\n\t\t\t\t</_ContextMenu.SubContent>\n\t\t\t</_ContextMenu.Portal>\n\t\t</_ContextMenu.Sub>\n\t)\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}