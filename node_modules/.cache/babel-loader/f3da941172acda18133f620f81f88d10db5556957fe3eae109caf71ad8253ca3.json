{"ast":null,"code":"import _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _migrators;\nvar _excluded = [\"isAnimated\"],\n  _excluded2 = [\"width\", \"height\"],\n  _excluded3 = [\"w\", \"h\"];\nimport { defineMigrations } from \"@tldraw/store\";\nimport { T } from \"@tldraw/validate\";\nimport { createAssetValidator } from \"./TLBaseAsset.mjs\";\nvar imageAssetValidator = createAssetValidator(\"image\", T.object({\n  w: T.number,\n  h: T.number,\n  name: T.string,\n  isAnimated: T.boolean,\n  mimeType: T.string.nullable(),\n  src: T.string.nullable()\n}));\nvar Versions = {\n  AddIsAnimated: 1,\n  RenameWidthHeight: 2\n};\nvar imageAssetMigrations = defineMigrations({\n  currentVersion: Versions.RenameWidthHeight,\n  migrators: (_migrators = {}, _defineProperty(_migrators, Versions.AddIsAnimated, {\n    up: function up(asset) {\n      return _objectSpread(_objectSpread({}, asset), {}, {\n        props: _objectSpread(_objectSpread({}, asset.props), {}, {\n          isAnimated: false\n        })\n      });\n    },\n    down: function down(asset) {\n      var _asset$props = asset.props,\n        isAnimated = _asset$props.isAnimated,\n        rest = _objectWithoutProperties(_asset$props, _excluded);\n      return _objectSpread(_objectSpread({}, asset), {}, {\n        props: rest\n      });\n    }\n  }), _defineProperty(_migrators, Versions.RenameWidthHeight, {\n    up: function up(asset) {\n      var _asset$props2 = asset.props,\n        width = _asset$props2.width,\n        height = _asset$props2.height,\n        others = _objectWithoutProperties(_asset$props2, _excluded2);\n      return _objectSpread(_objectSpread({}, asset), {}, {\n        props: _objectSpread({\n          w: width,\n          h: height\n        }, others)\n      });\n    },\n    down: function down(asset) {\n      var _asset$props3 = asset.props,\n        w = _asset$props3.w,\n        h = _asset$props3.h,\n        others = _objectWithoutProperties(_asset$props3, _excluded3);\n      return _objectSpread(_objectSpread({}, asset), {}, {\n        props: _objectSpread({\n          width: w,\n          height: h\n        }, others)\n      });\n    }\n  }), _migrators)\n});\nexport { imageAssetMigrations, imageAssetValidator };","map":{"version":3,"names":["defineMigrations","T","createAssetValidator","imageAssetValidator","object","w","number","h","name","string","isAnimated","boolean","mimeType","nullable","src","Versions","AddIsAnimated","RenameWidthHeight","imageAssetMigrations","currentVersion","migrators","_migrators","_defineProperty","up","asset","_objectSpread","props","down","_asset$props","rest","_objectWithoutProperties","_excluded","_asset$props2","width","height","others","_excluded2","_asset$props3","_excluded3"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/tlschema/src/assets/TLImageAsset.ts"],"sourcesContent":["import { defineMigrations } from '@tldraw/store'\nimport { T } from '@tldraw/validate'\nimport { createAssetValidator, TLBaseAsset } from './TLBaseAsset'\n\n/**\n * An asset for images such as PNGs and JPEGs, used by the TLImageShape.\n *\n * @public */\nexport type TLImageAsset = TLBaseAsset<\n\t'image',\n\t{\n\t\tw: number\n\t\th: number\n\t\tname: string\n\t\tisAnimated: boolean\n\t\tmimeType: string | null\n\t\tsrc: string | null\n\t}\n>\n\n/** @internal */\nexport const imageAssetValidator: T.Validator<TLImageAsset> = createAssetValidator(\n\t'image',\n\tT.object({\n\t\tw: T.number,\n\t\th: T.number,\n\t\tname: T.string,\n\t\tisAnimated: T.boolean,\n\t\tmimeType: T.string.nullable(),\n\t\tsrc: T.string.nullable(),\n\t})\n)\n\nconst Versions = {\n\tAddIsAnimated: 1,\n\tRenameWidthHeight: 2,\n} as const\n\n/** @internal */\nexport const imageAssetMigrations = defineMigrations({\n\tcurrentVersion: Versions.RenameWidthHeight,\n\tmigrators: {\n\t\t[Versions.AddIsAnimated]: {\n\t\t\tup: (asset) => {\n\t\t\t\treturn {\n\t\t\t\t\t...asset,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...asset.props,\n\t\t\t\t\t\tisAnimated: false,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (asset) => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\t\t\tconst { isAnimated, ...rest } = asset.props\n\t\t\t\treturn {\n\t\t\t\t\t...asset,\n\t\t\t\t\tprops: rest,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t[Versions.RenameWidthHeight]: {\n\t\t\tup: (asset) => {\n\t\t\t\tconst { width, height, ...others } = asset.props\n\t\t\t\treturn { ...asset, props: { w: width, h: height, ...others } }\n\t\t\t},\n\t\t\tdown: (asset) => {\n\t\t\t\tconst { w, h, ...others } = asset.props\n\t\t\t\treturn { ...asset, props: { width: w, height: h, ...others } }\n\t\t\t},\n\t\t},\n\t},\n})\n"],"mappings":";;;;;;;AAAA,SAASA,gBAAA,QAAwB;AACjC,SAASC,CAAA,QAAS;AAClB,SAASC,oBAAA,QAAyC;AAmB3C,IAAMC,mBAAA,GAAiDD,oBAAA,CAC7D,SACAD,CAAA,CAAEG,MAAA,CAAO;EACRC,CAAA,EAAGJ,CAAA,CAAEK,MAAA;EACLC,CAAA,EAAGN,CAAA,CAAEK,MAAA;EACLE,IAAA,EAAMP,CAAA,CAAEQ,MAAA;EACRC,UAAA,EAAYT,CAAA,CAAEU,OAAA;EACdC,QAAA,EAAUX,CAAA,CAAEQ,MAAA,CAAOI,QAAA,CAAS;EAC5BC,GAAA,EAAKb,CAAA,CAAEQ,MAAA,CAAOI,QAAA,CAAS;AACxB,CAAC,CACF;AAEA,IAAME,QAAA,GAAW;EAChBC,aAAA,EAAe;EACfC,iBAAA,EAAmB;AACpB;AAGO,IAAMC,oBAAA,GAAuBlB,gBAAA,CAAiB;EACpDmB,cAAA,EAAgBJ,QAAA,CAASE,iBAAA;EACzBG,SAAA,GAAAC,UAAA,OAAAC,eAAA,CAAAD,UAAA,EACEN,QAAA,CAASC,aAAa,EAAG;IACzBO,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,OAAAC,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAAD,aAAA,CAAAA,aAAA,KACID,KAAA,CAAME,KAAA;UACThB,UAAA,EAAY;QAAA;MACb;IAEF;IACAiB,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAEhB,IAAAI,YAAA,GAAgCJ,KAAA,CAAME,KAAA;QAA9BhB,UAAA,GAAAkB,YAAA,CAAAlB,UAAA;QAAemB,IAAA,GAAAC,wBAAA,CAAAF,YAAA,EAAAG,SAAA;MACvB,OAAAN,aAAA,CAAAA,aAAA,KACID,KAAA;QACHE,KAAA,EAAOG;MAAA;IAET;EACD,IAAAP,eAAA,CAAAD,UAAA,EACCN,QAAA,CAASE,iBAAiB,EAAG;IAC7BM,EAAA,EAAI,SAAAA,GAACC,KAAA,EAAU;MACd,IAAAQ,aAAA,GAAqCR,KAAA,CAAME,KAAA;QAAnCO,KAAA,GAAAD,aAAA,CAAAC,KAAA;QAAOC,MAAA,GAAAF,aAAA,CAAAE,MAAA;QAAWC,MAAA,GAAAL,wBAAA,CAAAE,aAAA,EAAAI,UAAA;MAC1B,OAAAX,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAD,aAAA;UAASpB,CAAA,EAAG4B,KAAA;UAAO1B,CAAA,EAAG2B;QAAA,GAAWC,MAAA;MAAO;IAC5D;IACAR,IAAA,EAAM,SAAAA,KAACH,KAAA,EAAU;MAChB,IAAAa,aAAA,GAA4Bb,KAAA,CAAME,KAAA;QAA1BrB,CAAA,GAAAgC,aAAA,CAAAhC,CAAA;QAAGE,CAAA,GAAA8B,aAAA,CAAA9B,CAAA;QAAM4B,MAAA,GAAAL,wBAAA,CAAAO,aAAA,EAAAC,UAAA;MACjB,OAAAb,aAAA,CAAAA,aAAA,KAAYD,KAAA;QAAOE,KAAA,EAAAD,aAAA;UAASQ,KAAA,EAAO5B,CAAA;UAAG6B,MAAA,EAAQ3B;QAAA,GAAM4B,MAAA;MAAO;IAC5D;EACD,IAAAd,UAAA;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}