{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { Vec2d } from \"@tldraw/primitives\";\nimport { HAND_TOOL_FRICTION } from \"../../../../constants.mjs\";\nimport { StateNode } from \"../../StateNode.mjs\";\nvar Dragging = /*#__PURE__*/function (_StateNode) {\n  _inherits(Dragging, _StateNode);\n  var _super = _createSuper(Dragging);\n  function Dragging() {\n    var _this;\n    _classCallCheck(this, Dragging);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function () {\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerMove\", function () {\n      _this.update();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerUp\", function () {\n      _this.complete();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCancel\", function () {\n      _this.complete();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onComplete\", function () {\n      _this.complete();\n    });\n    return _this;\n  }\n  _createClass(Dragging, [{\n    key: \"update\",\n    value: function update() {\n      var _this$editor$inputs = this.editor.inputs,\n        currentScreenPoint = _this$editor$inputs.currentScreenPoint,\n        previousScreenPoint = _this$editor$inputs.previousScreenPoint;\n      var delta = Vec2d.Sub(currentScreenPoint, previousScreenPoint);\n      if (Math.abs(delta.x) > 0 || Math.abs(delta.y) > 0) {\n        this.editor.pan(delta.x, delta.y);\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      this.editor.slideCamera({\n        speed: Math.min(2, this.editor.inputs.pointerVelocity.len()),\n        direction: this.editor.inputs.pointerVelocity,\n        friction: HAND_TOOL_FRICTION\n      });\n      this.parent.transition(\"idle\", {});\n    }\n  }]);\n  return Dragging;\n}(StateNode);\n_defineProperty(Dragging, \"id\", \"dragging\");\nexport { Dragging };","map":{"version":3,"names":["Vec2d","HAND_TOOL_FRICTION","StateNode","Dragging","_StateNode","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","_defineProperty","_assertThisInitialized","update","complete","_createClass","key","value","_this$editor$inputs","editor","inputs","currentScreenPoint","previousScreenPoint","delta","Sub","Math","abs","x","y","pan","slideCamera","speed","min","pointerVelocity","len","direction","friction","parent","transition"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/editor/tools/HandTool/children/Dragging.ts"],"sourcesContent":["import { Vec2d } from '@tldraw/primitives'\nimport { HAND_TOOL_FRICTION } from '../../../../constants'\nimport { TLEventHandlers } from '../../../types/event-types'\nimport { StateNode } from '../../StateNode'\n\nexport class Dragging extends StateNode {\n\tstatic override id = 'dragging'\n\n\tonEnter = () => {\n\t\tthis.update()\n\t}\n\n\tonPointerMove: TLEventHandlers['onPointerMove'] = () => {\n\t\tthis.update()\n\t}\n\n\tonPointerUp: TLEventHandlers['onPointerUp'] = () => {\n\t\tthis.complete()\n\t}\n\n\tonCancel: TLEventHandlers['onCancel'] = () => {\n\t\tthis.complete()\n\t}\n\n\tonComplete = () => {\n\t\tthis.complete()\n\t}\n\n\tprivate update() {\n\t\tconst { currentScreenPoint, previousScreenPoint } = this.editor.inputs\n\n\t\tconst delta = Vec2d.Sub(currentScreenPoint, previousScreenPoint)\n\n\t\tif (Math.abs(delta.x) > 0 || Math.abs(delta.y) > 0) {\n\t\t\tthis.editor.pan(delta.x, delta.y)\n\t\t}\n\t}\n\n\tprivate complete() {\n\t\tthis.editor.slideCamera({\n\t\t\tspeed: Math.min(2, this.editor.inputs.pointerVelocity.len()),\n\t\t\tdirection: this.editor.inputs.pointerVelocity,\n\t\t\tfriction: HAND_TOOL_FRICTION,\n\t\t})\n\n\t\tthis.parent.transition('idle', {})\n\t}\n}\n"],"mappings":";;;;;;AAAA,SAASA,KAAA,QAAa;AACtB,SAASC,kBAAA,QAA0B;AAEnC,SAASC,SAAA,QAAiB;AAAA,IAEbC,QAAA,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,QAAA,EAAAC,UAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,QAAA;EAAA,SAAAA,SAAA;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,QAAA;IAAA,SAAAO,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,SAAAY,MAAA,CAAAL,IAAA;IAAAM,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,cAGF,YAAM;MACfA,KAAA,CAAKa,MAAA,CAAO;IACb;IAAAF,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,oBAEkD,YAAM;MACvDA,KAAA,CAAKa,MAAA,CAAO;IACb;IAAAF,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,kBAE8C,YAAM;MACnDA,KAAA,CAAKc,QAAA,CAAS;IACf;IAAAH,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,eAEwC,YAAM;MAC7CA,KAAA,CAAKc,QAAA,CAAS;IACf;IAAAH,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,iBAEa,YAAM;MAClBA,KAAA,CAAKc,QAAA,CAAS;IACf;IAAA,OAAAd,KAAA;EAAA;EAAAe,YAAA,CAAApB,QAAA;IAAAqB,GAAA;IAAAC,KAAA,EAEQ,SAAAJ,OAAA,EAAS;MAChB,IAAAK,mBAAA,GAAoD,KAAKC,MAAA,CAAOC,MAAA;QAAxDC,kBAAA,GAAAH,mBAAA,CAAAG,kBAAA;QAAoBC,mBAAA,GAAAJ,mBAAA,CAAAI,mBAAA;MAE5B,IAAMC,KAAA,GAAQ/B,KAAA,CAAMgC,GAAA,CAAIH,kBAAA,EAAoBC,mBAAmB;MAE/D,IAAIG,IAAA,CAAKC,GAAA,CAAIH,KAAA,CAAMI,CAAC,IAAI,KAAKF,IAAA,CAAKC,GAAA,CAAIH,KAAA,CAAMK,CAAC,IAAI,GAAG;QACnD,KAAKT,MAAA,CAAOU,GAAA,CAAIN,KAAA,CAAMI,CAAA,EAAGJ,KAAA,CAAMK,CAAC;MACjC;IACD;EAAA;IAAAZ,GAAA;IAAAC,KAAA,EAEQ,SAAAH,SAAA,EAAW;MAClB,KAAKK,MAAA,CAAOW,WAAA,CAAY;QACvBC,KAAA,EAAON,IAAA,CAAKO,GAAA,CAAI,GAAG,KAAKb,MAAA,CAAOC,MAAA,CAAOa,eAAA,CAAgBC,GAAA,CAAI,CAAC;QAC3DC,SAAA,EAAW,KAAKhB,MAAA,CAAOC,MAAA,CAAOa,eAAA;QAC9BG,QAAA,EAAU3C;MACX,CAAC;MAED,KAAK4C,MAAA,CAAOC,UAAA,CAAW,QAAQ,CAAC,CAAC;IAClC;EAAA;EAAA,OAAA3C,QAAA;AAAA,EAzC6BD,SAAA;AAAAiB,eAAA,CAAjBhB,QAAA,QACS"},"metadata":{},"sourceType":"module","externalDependencies":[]}