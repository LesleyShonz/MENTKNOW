{"ast":null,"code":"import _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { jsx } from \"react/jsx-runtime\";\nimport { useEditor } from \"@tldraw/editor\";\nimport { useEffect, useState } from \"react\";\nimport { useActions } from \"../hooks/useActions.mjs\";\nimport { Button } from \"./primitives/Button.mjs\";\nfunction BackToContent() {\n  var editor = useEditor();\n  var actions = useActions();\n  var action = actions[\"back-to-content\"];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showBackToContent = _useState2[0],\n    setShowBackToContent = _useState2[1];\n  useEffect(function () {\n    var showBackToContentPrev = false;\n    var interval = setInterval(function () {\n      var renderingShapes = editor.renderingShapes;\n      var visibleShapes = renderingShapes.filter(function (s) {\n        return s.isInViewport;\n      });\n      var showBackToContentNow = visibleShapes.length === 0 && editor.shapesArray.length > 0;\n      if (showBackToContentPrev !== showBackToContentNow) {\n        setShowBackToContent(showBackToContentNow);\n        showBackToContentPrev = showBackToContentNow;\n      }\n    }, 1e3);\n    return function () {\n      clearInterval(interval);\n    };\n  }, [editor]);\n  if (!showBackToContent) return null;\n  return /* @__PURE__ */jsx(Button, {\n    iconLeft: action.icon,\n    label: action.label,\n    onClick: function onClick() {\n      action.onSelect(\"helper-buttons\");\n      setShowBackToContent(false);\n    }\n  });\n}\nexport { BackToContent };","map":{"version":3,"names":["jsx","useEditor","useEffect","useState","useActions","Button","BackToContent","editor","actions","action","_useState","_useState2","_slicedToArray","showBackToContent","setShowBackToContent","showBackToContentPrev","interval","setInterval","renderingShapes","visibleShapes","filter","s","isInViewport","showBackToContentNow","length","shapesArray","clearInterval","iconLeft","icon","label","onClick","onSelect"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/components/BackToContent.tsx"],"sourcesContent":["import { useEditor } from '@tldraw/editor'\nimport { useEffect, useState } from 'react'\nimport { useActions } from '../hooks/useActions'\nimport { Button } from './primitives/Button'\n\nexport function BackToContent() {\n\tconst editor = useEditor()\n\n\tconst actions = useActions()\n\tconst action = actions['back-to-content']\n\n\tconst [showBackToContent, setShowBackToContent] = useState(false)\n\n\tuseEffect(() => {\n\t\tlet showBackToContentPrev = false\n\n\t\tconst interval = setInterval(() => {\n\t\t\tconst { renderingShapes } = editor\n\n\t\t\t// renderingShapes will also include shapes that have the canUnmount flag\n\t\t\t// set to true. These shapes will be on the canvas but may not be in the\n\t\t\t// viewport... so we also need to narrow down the list to only shapes that\n\t\t\t// are ALSO in the viewport.\n\t\t\tconst visibleShapes = renderingShapes.filter((s) => s.isInViewport)\n\t\t\tconst showBackToContentNow = visibleShapes.length === 0 && editor.shapesArray.length > 0\n\n\t\t\tif (showBackToContentPrev !== showBackToContentNow) {\n\t\t\t\tsetShowBackToContent(showBackToContentNow)\n\t\t\t\tshowBackToContentPrev = showBackToContentNow\n\t\t\t}\n\t\t}, 1000)\n\n\t\treturn () => {\n\t\t\tclearInterval(interval)\n\t\t}\n\t}, [editor])\n\n\tif (!showBackToContent) return null\n\n\treturn (\n\t\t<Button\n\t\t\ticonLeft={action.icon}\n\t\t\tlabel={action.label}\n\t\t\tonClick={() => {\n\t\t\t\taction.onSelect('helper-buttons')\n\t\t\t\tsetShowBackToContent(false)\n\t\t\t}}\n\t\t/>\n\t)\n}\n"],"mappings":";AAwCE,SAAAA,GAAA;AAxCF,SAASC,SAAA,QAAiB;AAC1B,SAASC,SAAA,EAAWC,QAAA,QAAgB;AACpC,SAASC,UAAA,QAAkB;AAC3B,SAASC,MAAA,QAAc;AAEhB,SAASC,cAAA,EAAgB;EAC/B,IAAMC,MAAA,GAASN,SAAA,CAAU;EAEzB,IAAMO,OAAA,GAAUJ,UAAA,CAAW;EAC3B,IAAMK,MAAA,GAASD,OAAA,CAAQ,iBAAiB;EAExC,IAAAE,SAAA,GAAkDP,QAAA,CAAS,KAAK;IAAAQ,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzDG,iBAAA,GAAAF,UAAA;IAAmBG,oBAAoB,GAAAH,UAAA;EAE9CT,SAAA,CAAU,YAAM;IACf,IAAIa,qBAAA,GAAwB;IAE5B,IAAMC,QAAA,GAAWC,WAAA,CAAY,YAAM;MAClC,IAAQC,eAAA,GAAoBX,MAAA,CAApBW,eAAA;MAMR,IAAMC,aAAA,GAAgBD,eAAA,CAAgBE,MAAA,CAAO,UAACC,CAAA;QAAA,OAAMA,CAAA,CAAEC,YAAY;MAAA;MAClE,IAAMC,oBAAA,GAAuBJ,aAAA,CAAcK,MAAA,KAAW,KAAKjB,MAAA,CAAOkB,WAAA,CAAYD,MAAA,GAAS;MAEvF,IAAIT,qBAAA,KAA0BQ,oBAAA,EAAsB;QACnDT,oBAAA,CAAqBS,oBAAoB;QACzCR,qBAAA,GAAwBQ,oBAAA;MACzB;IACD,GAAG,GAAI;IAEP,OAAO,YAAM;MACZG,aAAA,CAAcV,QAAQ;IACvB;EACD,GAAG,CAACT,MAAM,CAAC;EAEX,IAAI,CAACM,iBAAA,EAAmB,OAAO;EAE/B,OACC,eAAAb,GAAA,CAACK,MAAA;IACAsB,QAAA,EAAUlB,MAAA,CAAOmB,IAAA;IACjBC,KAAA,EAAOpB,MAAA,CAAOoB,KAAA;IACdC,OAAA,EAAS,SAAAA,QAAA,EAAM;MACdrB,MAAA,CAAOsB,QAAA,CAAS,gBAAgB;MAChCjB,oBAAA,CAAqB,KAAK;IAC3B;EAAA,CACD;AAEF"},"metadata":{},"sourceType":"module","externalDependencies":[]}