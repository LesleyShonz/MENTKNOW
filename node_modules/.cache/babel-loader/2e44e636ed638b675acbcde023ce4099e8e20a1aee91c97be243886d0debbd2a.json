{"ast":null,"code":"import _toConsumableArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nfunction debounce(callback, wait) {\n  var state = void 0;\n  var fn = function fn() {\n    if (!state) {\n      state = {};\n      state.promise = new Promise(function (resolve, reject) {\n        state.resolve = resolve;\n        state.reject = reject;\n      });\n    }\n    clearTimeout(state.timeout);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    state.latestArgs = args;\n    state.timeout = setTimeout(function () {\n      var s = state;\n      state = void 0;\n      try {\n        s.resolve(callback.apply(void 0, _toConsumableArray(s.latestArgs)));\n      } catch (e) {\n        s.reject(e);\n      }\n    }, wait);\n    return state.promise;\n  };\n  fn.cancel = function () {\n    if (!state) return;\n    clearTimeout(state.timeout);\n  };\n  return fn;\n}\nexport { debounce };","map":{"version":3,"names":["debounce","callback","wait","state","fn","promise","Promise","resolve","reject","clearTimeout","timeout","_len","arguments","length","args","Array","_key","latestArgs","setTimeout","s","apply","_toConsumableArray","e","cancel"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/utils/src/lib/debounce.ts"],"sourcesContent":["/**\n * Debounce a function.\n *\n * @example\n *\n * ```ts\n * const A = debounce(myFunction, 1000)\n * ```\n *\n * @public\n * @see source - https://gist.github.com/ca0v/73a31f57b397606c9813472f7493a940\n */\nexport function debounce<T extends unknown[], U>(\n\tcallback: (...args: T) => PromiseLike<U> | U,\n\twait: number\n) {\n\tlet state:\n\t\t| undefined\n\t\t| {\n\t\t\t\ttimeout: ReturnType<typeof setTimeout>\n\t\t\t\tpromise: Promise<U>\n\t\t\t\tresolve: (value: U | PromiseLike<U>) => void\n\t\t\t\treject: (value: any) => void\n\t\t\t\tlatestArgs: T\n\t\t  } = undefined\n\n\tconst fn = (...args: T): Promise<U> => {\n\t\tif (!state) {\n\t\t\tstate = {} as any\n\t\t\tstate!.promise = new Promise((resolve, reject) => {\n\t\t\t\tstate!.resolve = resolve\n\t\t\t\tstate!.reject = reject\n\t\t\t})\n\t\t}\n\t\tclearTimeout(state!.timeout)\n\t\tstate!.latestArgs = args\n\t\tstate!.timeout = setTimeout(() => {\n\t\t\tconst s = state!\n\t\t\tstate = undefined\n\t\t\ttry {\n\t\t\t\ts.resolve(callback(...s.latestArgs))\n\t\t\t} catch (e) {\n\t\t\t\ts.reject(e)\n\t\t\t}\n\t\t}, wait)\n\n\t\treturn state!.promise\n\t}\n\tfn.cancel = () => {\n\t\tif (!state) return\n\t\tclearTimeout(state.timeout)\n\t}\n\treturn fn\n}\n"],"mappings":";AAYO,SAASA,SACfC,QAAA,EACAC,IAAA,EACC;EACD,IAAIC,KAAA,GAQG;EAEP,IAAMC,EAAA,GAAK,SAALA,GAAA,EAAiC;IACtC,IAAI,CAACD,KAAA,EAAO;MACXA,KAAA,GAAQ,CAAC;MACTA,KAAA,CAAOE,OAAA,GAAU,IAAIC,OAAA,CAAQ,UAACC,OAAA,EAASC,MAAA,EAAW;QACjDL,KAAA,CAAOI,OAAA,GAAUA,OAAA;QACjBJ,KAAA,CAAOK,MAAA,GAASA,MAAA;MACjB,CAAC;IACF;IACAC,YAAA,CAAaN,KAAA,CAAOO,OAAO;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EARbC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IASdb,KAAA,CAAOc,UAAA,GAAaH,IAAA;IACpBX,KAAA,CAAOO,OAAA,GAAUQ,UAAA,CAAW,YAAM;MACjC,IAAMC,CAAA,GAAIhB,KAAA;MACVA,KAAA,GAAQ;MACR,IAAI;QACHgB,CAAA,CAAEZ,OAAA,CAAQN,QAAA,CAAAmB,KAAA,SAAAC,kBAAA,CAAYF,CAAA,CAAEF,UAAU,EAAC;MACpC,SAASK,CAAA,EAAP;QACDH,CAAA,CAAEX,MAAA,CAAOc,CAAC;MACX;IACD,GAAGpB,IAAI;IAEP,OAAOC,KAAA,CAAOE,OAAA;EACf;EACAD,EAAA,CAAGmB,MAAA,GAAS,YAAM;IACjB,IAAI,CAACpB,KAAA,EAAO;IACZM,YAAA,CAAaN,KAAA,CAAMO,OAAO;EAC3B;EACA,OAAON,EAAA;AACR"},"metadata":{},"sourceType":"module","externalDependencies":[]}