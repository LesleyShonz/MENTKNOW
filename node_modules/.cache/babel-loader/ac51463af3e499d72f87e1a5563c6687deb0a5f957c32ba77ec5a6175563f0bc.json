{"ast":null,"code":"import _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nvar _migrators;\nvar _excluded = [\"exportBackground\"],\n  _excluded2 = [\"dialog\"],\n  _excluded3 = [\"isToolLocked\"],\n  _excluded4 = [\"propsForNextShape\"],\n  _excluded5 = [\"propsForNextShape\"],\n  _excluded6 = [\"labelColor\"],\n  _excluded7 = [\"followingUserId\"],\n  _excluded8 = [\"zoomBrush\"],\n  _excluded9 = [\"verticalAlign\"],\n  _excluded10 = [\"delay\"],\n  _excluded11 = [\"userId\"],\n  _excluded12 = [\"isPenMode\", \"isGridMode\"],\n  _excluded13 = [\"opacity\"],\n  _excluded14 = [\"propsForNextShape\"],\n  _excluded15 = [\"opacityForNextShape\"],\n  _excluded16 = [\"chatMessage\", \"isChatting\"],\n  _excluded17 = [\"highlightedUserIds\"],\n  _excluded18 = [\"propsForNextShape\"],\n  _excluded19 = [\"stylesForNextShape\"];\nimport { createRecordType, defineMigrations } from \"@tldraw/store\";\nimport { T } from \"@tldraw/validate\";\nimport { box2dModelValidator } from \"../misc/geometry-types.mjs\";\nimport { idValidator } from \"../misc/id-validator.mjs\";\nimport { cursorValidator } from \"../misc/TLCursor.mjs\";\nimport { opacityValidator } from \"../misc/TLOpacity.mjs\";\nimport { scribbleValidator } from \"../misc/TLScribble.mjs\";\nimport { pageIdValidator } from \"./TLPage.mjs\";\nvar instanceIdValidator = idValidator(\"instance\");\nfunction createInstanceRecordType(stylesById) {\n  var stylesForNextShapeValidators = {};\n  var _iterator = _createForOfIteratorHelper(stylesById),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        id = _step$value[0],\n        style = _step$value[1];\n      stylesForNextShapeValidators[id] = T.optional(style);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var instanceTypeValidator = T.model(\"instance\", T.object({\n    typeName: T.literal(\"instance\"),\n    id: idValidator(\"instance\"),\n    currentPageId: pageIdValidator,\n    followingUserId: T.string.nullable(),\n    brush: box2dModelValidator.nullable(),\n    opacityForNextShape: opacityValidator,\n    stylesForNextShape: T.object(stylesForNextShapeValidators),\n    cursor: cursorValidator,\n    scribble: scribbleValidator.nullable(),\n    isFocusMode: T.boolean,\n    isDebugMode: T.boolean,\n    isToolLocked: T.boolean,\n    exportBackground: T.boolean,\n    screenBounds: box2dModelValidator,\n    zoomBrush: box2dModelValidator.nullable(),\n    isPenMode: T.boolean,\n    isGridMode: T.boolean,\n    chatMessage: T.string,\n    isChatting: T.boolean,\n    highlightedUserIds: T.arrayOf(T.string)\n  }));\n  return createRecordType(\"instance\", {\n    migrations: instanceMigrations,\n    validator: instanceTypeValidator,\n    scope: \"session\"\n  }).withDefaultProperties(function () {\n    return {\n      followingUserId: null,\n      opacityForNextShape: 1,\n      stylesForNextShape: {},\n      brush: null,\n      scribble: null,\n      cursor: {\n        type: \"default\",\n        color: \"black\",\n        rotation: 0\n      },\n      isFocusMode: false,\n      exportBackground: false,\n      isDebugMode: process.env.NODE_ENV === \"development\",\n      isToolLocked: false,\n      screenBounds: {\n        x: 0,\n        y: 0,\n        w: 1080,\n        h: 720\n      },\n      zoomBrush: null,\n      isGridMode: false,\n      isPenMode: false,\n      chatMessage: \"\",\n      isChatting: false,\n      highlightedUserIds: []\n    };\n  });\n}\nvar Versions = {\n  AddTransparentExportBgs: 1,\n  RemoveDialog: 2,\n  AddToolLockMode: 3,\n  RemoveExtraPropsForNextShape: 4,\n  AddLabelColor: 5,\n  AddFollowingUserId: 6,\n  RemoveAlignJustify: 7,\n  AddZoom: 8,\n  AddVerticalAlign: 9,\n  AddScribbleDelay: 10,\n  RemoveUserId: 11,\n  AddIsPenModeAndIsGridMode: 12,\n  HoistOpacity: 13,\n  AddChat: 14,\n  AddHighlightedUserIds: 15,\n  ReplacePropsForNextShapeWithStylesForNextShape: 16\n};\nvar instanceMigrations = defineMigrations({\n  currentVersion: Versions.ReplacePropsForNextShapeWithStylesForNextShape,\n  migrators: (_migrators = {}, _defineProperty(_migrators, Versions.AddTransparentExportBgs, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        exportBackground: true\n      });\n    },\n    down: function down(_ref) {\n      var _ = _ref.exportBackground,\n        instance = _objectWithoutProperties(_ref, _excluded);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.RemoveDialog, {\n    up: function up(_ref2) {\n      var _ = _ref2.dialog,\n        instance = _objectWithoutProperties(_ref2, _excluded2);\n      return instance;\n    },\n    down: function down(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        dialog: null\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddToolLockMode, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        isToolLocked: false\n      });\n    },\n    down: function down(_ref3) {\n      var _ = _ref3.isToolLocked,\n        instance = _objectWithoutProperties(_ref3, _excluded3);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.RemoveExtraPropsForNextShape, {\n    up: function up(_ref4) {\n      var propsForNextShape = _ref4.propsForNextShape,\n        instance = _objectWithoutProperties(_ref4, _excluded4);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: Object.fromEntries(Object.entries(propsForNextShape).filter(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 1),\n            key = _ref6[0];\n          return [\"color\", \"labelColor\", \"dash\", \"fill\", \"size\", \"font\", \"align\", \"verticalAlign\", \"icon\", \"geo\", \"arrowheadStart\", \"arrowheadEnd\", \"spline\"].includes(key);\n        }))\n      });\n    },\n    down: function down(instance) {\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.AddLabelColor, {\n    up: function up(_ref7) {\n      var propsForNextShape = _ref7.propsForNextShape,\n        instance = _objectWithoutProperties(_ref7, _excluded5);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: _objectSpread(_objectSpread({}, propsForNextShape), {}, {\n          labelColor: \"black\"\n        })\n      });\n    },\n    down: function down(instance) {\n      var _instance$propsForNex = instance.propsForNextShape,\n        _ = _instance$propsForNex.labelColor,\n        rest = _objectWithoutProperties(_instance$propsForNex, _excluded6);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: _objectSpread({}, rest)\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddFollowingUserId, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        followingUserId: null\n      });\n    },\n    down: function down(_ref8) {\n      var _ = _ref8.followingUserId,\n        instance = _objectWithoutProperties(_ref8, _excluded7);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.RemoveAlignJustify, {\n    up: function up(instance) {\n      var newAlign = instance.propsForNextShape.align;\n      if (newAlign === \"justify\") {\n        newAlign = \"start\";\n      }\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: _objectSpread(_objectSpread({}, instance.propsForNextShape), {}, {\n          align: newAlign\n        })\n      });\n    },\n    down: function down(instance) {\n      return _objectSpread({}, instance);\n    }\n  }), _defineProperty(_migrators, Versions.AddZoom, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        zoomBrush: null\n      });\n    },\n    down: function down(_ref9) {\n      var _ = _ref9.zoomBrush,\n        instance = _objectWithoutProperties(_ref9, _excluded8);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.AddVerticalAlign, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: _objectSpread(_objectSpread({}, instance.propsForNextShape), {}, {\n          verticalAlign: \"middle\"\n        })\n      });\n    },\n    down: function down(instance) {\n      var _instance$propsForNex2 = instance.propsForNextShape,\n        _ = _instance$propsForNex2.verticalAlign,\n        propsForNextShape = _objectWithoutProperties(_instance$propsForNex2, _excluded9);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: propsForNextShape\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddScribbleDelay, {\n    up: function up(instance) {\n      if (instance.scribble !== null) {\n        return _objectSpread(_objectSpread({}, instance), {}, {\n          scribble: _objectSpread(_objectSpread({}, instance.scribble), {}, {\n            delay: 0\n          })\n        });\n      }\n      return _objectSpread({}, instance);\n    },\n    down: function down(instance) {\n      if (instance.scribble !== null) {\n        var _instance$scribble = instance.scribble,\n          _delay = _instance$scribble.delay,\n          rest = _objectWithoutProperties(_instance$scribble, _excluded10);\n        return _objectSpread(_objectSpread({}, instance), {}, {\n          scribble: rest\n        });\n      }\n      return _objectSpread({}, instance);\n    }\n  }), _defineProperty(_migrators, Versions.RemoveUserId, {\n    up: function up(_ref10) {\n      var _ = _ref10.userId,\n        instance = _objectWithoutProperties(_ref10, _excluded11);\n      return instance;\n    },\n    down: function down(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        userId: \"user:none\"\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddIsPenModeAndIsGridMode, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        isPenMode: false,\n        isGridMode: false\n      });\n    },\n    down: function down(_ref11) {\n      var _ = _ref11.isPenMode,\n        __ = _ref11.isGridMode,\n        instance = _objectWithoutProperties(_ref11, _excluded12);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.HoistOpacity, {\n    up: function up(_ref12) {\n      var _ref12$propsForNextSh = _ref12.propsForNextShape,\n        opacity = _ref12$propsForNextSh.opacity,\n        propsForNextShape = _objectWithoutProperties(_ref12$propsForNextSh, _excluded13),\n        instance = _objectWithoutProperties(_ref12, _excluded14);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        opacityForNextShape: Number(opacity !== null && opacity !== void 0 ? opacity : \"1\"),\n        propsForNextShape: propsForNextShape\n      });\n    },\n    down: function down(_ref13) {\n      var opacity = _ref13.opacityForNextShape,\n        instance = _objectWithoutProperties(_ref13, _excluded15);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: _objectSpread(_objectSpread({}, instance.propsForNextShape), {}, {\n          opacity: opacity < 0.175 ? \"0.1\" : opacity < 0.375 ? \"0.25\" : opacity < 0.625 ? \"0.5\" : opacity < 0.875 ? \"0.75\" : \"1\"\n        })\n      });\n    }\n  }), _defineProperty(_migrators, Versions.AddChat, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        chatMessage: \"\",\n        isChatting: false\n      });\n    },\n    down: function down(_ref14) {\n      var _ = _ref14.chatMessage,\n        __ = _ref14.isChatting,\n        instance = _objectWithoutProperties(_ref14, _excluded16);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.AddHighlightedUserIds, {\n    up: function up(instance) {\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        highlightedUserIds: []\n      });\n    },\n    down: function down(_ref15) {\n      var _ = _ref15.highlightedUserIds,\n        instance = _objectWithoutProperties(_ref15, _excluded17);\n      return instance;\n    }\n  }), _defineProperty(_migrators, Versions.ReplacePropsForNextShapeWithStylesForNextShape, {\n    up: function up(_ref16) {\n      var _ = _ref16.propsForNextShape,\n        instance = _objectWithoutProperties(_ref16, _excluded18);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        stylesForNextShape: {}\n      });\n    },\n    down: function down(_ref17) {\n      var _ = _ref17.stylesForNextShape,\n        instance = _objectWithoutProperties(_ref17, _excluded19);\n      return _objectSpread(_objectSpread({}, instance), {}, {\n        propsForNextShape: {\n          color: \"black\",\n          labelColor: \"black\",\n          dash: \"draw\",\n          fill: \"none\",\n          size: \"m\",\n          icon: \"file\",\n          font: \"draw\",\n          align: \"middle\",\n          verticalAlign: \"middle\",\n          geo: \"rectangle\",\n          arrowheadStart: \"none\",\n          arrowheadEnd: \"arrow\",\n          spline: \"line\"\n        }\n      });\n    }\n  }), _migrators)\n});\nvar TLINSTANCE_ID = \"instance:instance\";\nexport { TLINSTANCE_ID, createInstanceRecordType, instanceIdValidator, instanceMigrations, Versions as instanceTypeVersions };","map":{"version":3,"names":["createRecordType","defineMigrations","T","box2dModelValidator","idValidator","cursorValidator","opacityValidator","scribbleValidator","pageIdValidator","instanceIdValidator","createInstanceRecordType","stylesById","stylesForNextShapeValidators","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","_slicedToArray","value","id","style","optional","err","e","f","instanceTypeValidator","model","object","typeName","literal","currentPageId","followingUserId","string","nullable","brush","opacityForNextShape","stylesForNextShape","cursor","scribble","isFocusMode","boolean","isDebugMode","isToolLocked","exportBackground","screenBounds","zoomBrush","isPenMode","isGridMode","chatMessage","isChatting","highlightedUserIds","arrayOf","migrations","instanceMigrations","validator","scope","withDefaultProperties","type","color","rotation","process","env","NODE_ENV","x","y","w","h","Versions","AddTransparentExportBgs","RemoveDialog","AddToolLockMode","RemoveExtraPropsForNextShape","AddLabelColor","AddFollowingUserId","RemoveAlignJustify","AddZoom","AddVerticalAlign","AddScribbleDelay","RemoveUserId","AddIsPenModeAndIsGridMode","HoistOpacity","AddChat","AddHighlightedUserIds","ReplacePropsForNextShapeWithStylesForNextShape","currentVersion","migrators","_migrators","_defineProperty","up","instance","_objectSpread","down","_ref","_","_objectWithoutProperties","_excluded","_ref2","dialog","_excluded2","_ref3","_excluded3","_ref4","propsForNextShape","_excluded4","Object","fromEntries","entries","filter","_ref5","_ref6","key","includes","_ref7","_excluded5","labelColor","_instance$propsForNex","rest","_excluded6","_ref8","_excluded7","newAlign","align","_ref9","_excluded8","verticalAlign","_instance$propsForNex2","_excluded9","delay","_instance$scribble","_delay","_excluded10","_ref10","userId","_excluded11","_ref11","__","_excluded12","_ref12","_ref12$propsForNextSh","opacity","_excluded13","_excluded14","Number","_ref13","_excluded15","_ref14","_excluded16","_ref15","_excluded17","_ref16","_excluded18","_ref17","_excluded19","dash","fill","size","icon","font","geo","arrowheadStart","arrowheadEnd","spline","TLINSTANCE_ID"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/tlschema/src/records/TLInstance.ts"],"sourcesContent":["import { BaseRecord, createRecordType, defineMigrations, RecordId } from '@tldraw/store'\nimport { T } from '@tldraw/validate'\nimport { Box2dModel, box2dModelValidator } from '../misc/geometry-types'\nimport { idValidator } from '../misc/id-validator'\nimport { cursorValidator, TLCursor } from '../misc/TLCursor'\nimport { opacityValidator, TLOpacityType } from '../misc/TLOpacity'\nimport { scribbleValidator, TLScribble } from '../misc/TLScribble'\nimport { StyleProp } from '../styles/StyleProp'\nimport { pageIdValidator, TLPageId } from './TLPage'\n\n/**\n * TLInstance\n *\n * State that is particular to a single browser tab\n *\n * @public\n */\nexport interface TLInstance extends BaseRecord<'instance', TLInstanceId> {\n\tcurrentPageId: TLPageId\n\tfollowingUserId: string | null\n\thighlightedUserIds: string[]\n\tbrush: Box2dModel | null\n\topacityForNextShape: TLOpacityType\n\tstylesForNextShape: Record<string, unknown>\n\tcursor: TLCursor\n\tscribble: TLScribble | null\n\tisFocusMode: boolean\n\tisDebugMode: boolean\n\tisToolLocked: boolean\n\texportBackground: boolean\n\tscreenBounds: Box2dModel\n\tzoomBrush: Box2dModel | null\n\tchatMessage: string\n\tisChatting: boolean\n\tisPenMode: boolean\n\tisGridMode: boolean\n}\n\n/** @public */\nexport type TLInstanceId = RecordId<TLInstance>\n\n/** @internal */\nexport const instanceIdValidator = idValidator<TLInstanceId>('instance')\n\nexport function createInstanceRecordType(stylesById: Map<string, StyleProp<unknown>>) {\n\tconst stylesForNextShapeValidators = {} as Record<string, T.Validator<unknown>>\n\tfor (const [id, style] of stylesById) {\n\t\tstylesForNextShapeValidators[id] = T.optional(style)\n\t}\n\n\tconst instanceTypeValidator: T.Validator<TLInstance> = T.model(\n\t\t'instance',\n\t\tT.object({\n\t\t\ttypeName: T.literal('instance'),\n\t\t\tid: idValidator<TLInstanceId>('instance'),\n\t\t\tcurrentPageId: pageIdValidator,\n\t\t\tfollowingUserId: T.string.nullable(),\n\t\t\tbrush: box2dModelValidator.nullable(),\n\t\t\topacityForNextShape: opacityValidator,\n\t\t\tstylesForNextShape: T.object(stylesForNextShapeValidators),\n\t\t\tcursor: cursorValidator,\n\t\t\tscribble: scribbleValidator.nullable(),\n\t\t\tisFocusMode: T.boolean,\n\t\t\tisDebugMode: T.boolean,\n\t\t\tisToolLocked: T.boolean,\n\t\t\texportBackground: T.boolean,\n\t\t\tscreenBounds: box2dModelValidator,\n\t\t\tzoomBrush: box2dModelValidator.nullable(),\n\t\t\tisPenMode: T.boolean,\n\t\t\tisGridMode: T.boolean,\n\t\t\tchatMessage: T.string,\n\t\t\tisChatting: T.boolean,\n\t\t\thighlightedUserIds: T.arrayOf(T.string),\n\t\t})\n\t)\n\n\treturn createRecordType<TLInstance>('instance', {\n\t\tmigrations: instanceMigrations,\n\t\tvalidator: instanceTypeValidator,\n\t\tscope: 'session',\n\t}).withDefaultProperties(\n\t\t(): Omit<TLInstance, 'typeName' | 'id' | 'currentPageId'> => ({\n\t\t\tfollowingUserId: null,\n\t\t\topacityForNextShape: 1,\n\t\t\tstylesForNextShape: {},\n\t\t\tbrush: null,\n\t\t\tscribble: null,\n\t\t\tcursor: {\n\t\t\t\ttype: 'default',\n\t\t\t\tcolor: 'black',\n\t\t\t\trotation: 0,\n\t\t\t},\n\t\t\tisFocusMode: false,\n\t\t\texportBackground: false,\n\t\t\tisDebugMode: process.env.NODE_ENV === 'development',\n\t\t\tisToolLocked: false,\n\t\t\tscreenBounds: { x: 0, y: 0, w: 1080, h: 720 },\n\t\t\tzoomBrush: null,\n\t\t\tisGridMode: false,\n\t\t\tisPenMode: false,\n\t\t\tchatMessage: '',\n\t\t\tisChatting: false,\n\t\t\thighlightedUserIds: [],\n\t\t})\n\t)\n}\n\nconst Versions = {\n\tAddTransparentExportBgs: 1,\n\tRemoveDialog: 2,\n\tAddToolLockMode: 3,\n\tRemoveExtraPropsForNextShape: 4,\n\tAddLabelColor: 5,\n\tAddFollowingUserId: 6,\n\tRemoveAlignJustify: 7,\n\tAddZoom: 8,\n\tAddVerticalAlign: 9,\n\tAddScribbleDelay: 10,\n\tRemoveUserId: 11,\n\tAddIsPenModeAndIsGridMode: 12,\n\tHoistOpacity: 13,\n\tAddChat: 14,\n\tAddHighlightedUserIds: 15,\n\tReplacePropsForNextShapeWithStylesForNextShape: 16,\n} as const\n\nexport { Versions as instanceTypeVersions }\n\n/** @public */\nexport const instanceMigrations = defineMigrations({\n\tcurrentVersion: Versions.ReplacePropsForNextShapeWithStylesForNextShape,\n\tmigrators: {\n\t\t[Versions.AddTransparentExportBgs]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, exportBackground: true }\n\t\t\t},\n\t\t\tdown: ({ exportBackground: _, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.RemoveDialog]: {\n\t\t\tup: ({ dialog: _, ...instance }: any) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdown: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, dialog: null }\n\t\t\t},\n\t\t},\n\t\t[Versions.AddToolLockMode]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, isToolLocked: false }\n\t\t\t},\n\t\t\tdown: ({ isToolLocked: _, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.RemoveExtraPropsForNextShape]: {\n\t\t\tup: ({ propsForNextShape, ...instance }: any) => {\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: Object.fromEntries(\n\t\t\t\t\t\tObject.entries(propsForNextShape).filter(([key]) =>\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'color',\n\t\t\t\t\t\t\t\t'labelColor',\n\t\t\t\t\t\t\t\t'dash',\n\t\t\t\t\t\t\t\t'fill',\n\t\t\t\t\t\t\t\t'size',\n\t\t\t\t\t\t\t\t'font',\n\t\t\t\t\t\t\t\t'align',\n\t\t\t\t\t\t\t\t'verticalAlign',\n\t\t\t\t\t\t\t\t'icon',\n\t\t\t\t\t\t\t\t'geo',\n\t\t\t\t\t\t\t\t'arrowheadStart',\n\t\t\t\t\t\t\t\t'arrowheadEnd',\n\t\t\t\t\t\t\t\t'spline',\n\t\t\t\t\t\t\t].includes(key)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (instance: TLInstance) => {\n\t\t\t\t// we can't restore these, so do nothing :/\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.AddLabelColor]: {\n\t\t\tup: ({ propsForNextShape, ...instance }: any) => {\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\t...propsForNextShape,\n\t\t\t\t\t\tlabelColor: 'black',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (instance) => {\n\t\t\t\tconst { labelColor: _, ...rest } = instance.propsForNextShape\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\t...rest,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t[Versions.AddFollowingUserId]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, followingUserId: null }\n\t\t\t},\n\t\t\tdown: ({ followingUserId: _, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.RemoveAlignJustify]: {\n\t\t\tup: (instance: any) => {\n\t\t\t\tlet newAlign = instance.propsForNextShape.align\n\t\t\t\tif (newAlign === 'justify') {\n\t\t\t\t\tnewAlign = 'start'\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\t...instance.propsForNextShape,\n\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance }\n\t\t\t},\n\t\t},\n\t\t[Versions.AddZoom]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, zoomBrush: null }\n\t\t\t},\n\t\t\tdown: ({ zoomBrush: _, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.AddVerticalAlign]: {\n\t\t\tup: (instance) => {\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\t...instance.propsForNextShape,\n\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\tdown: (instance) => {\n\t\t\t\tconst { verticalAlign: _, ...propsForNextShape } = instance.propsForNextShape\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape,\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t[Versions.AddScribbleDelay]: {\n\t\t\tup: (instance) => {\n\t\t\t\tif (instance.scribble !== null) {\n\t\t\t\t\treturn { ...instance, scribble: { ...instance.scribble, delay: 0 } }\n\t\t\t\t}\n\t\t\t\treturn { ...instance }\n\t\t\t},\n\t\t\tdown: (instance) => {\n\t\t\t\tif (instance.scribble !== null) {\n\t\t\t\t\tconst { delay: _delay, ...rest } = instance.scribble\n\t\t\t\t\treturn { ...instance, scribble: rest }\n\t\t\t\t}\n\t\t\t\treturn { ...instance }\n\t\t\t},\n\t\t},\n\t\t[Versions.RemoveUserId]: {\n\t\t\tup: ({ userId: _, ...instance }: any) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdown: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, userId: 'user:none' }\n\t\t\t},\n\t\t},\n\t\t[Versions.AddIsPenModeAndIsGridMode]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, isPenMode: false, isGridMode: false }\n\t\t\t},\n\t\t\tdown: ({ isPenMode: _, isGridMode: __, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.HoistOpacity]: {\n\t\t\tup: ({ propsForNextShape: { opacity, ...propsForNextShape }, ...instance }: any) => {\n\t\t\t\treturn { ...instance, opacityForNextShape: Number(opacity ?? '1'), propsForNextShape }\n\t\t\t},\n\t\t\tdown: ({ opacityForNextShape: opacity, ...instance }: any) => {\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\t...instance.propsForNextShape,\n\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\topacity < 0.175\n\t\t\t\t\t\t\t\t? '0.1'\n\t\t\t\t\t\t\t\t: opacity < 0.375\n\t\t\t\t\t\t\t\t? '0.25'\n\t\t\t\t\t\t\t\t: opacity < 0.625\n\t\t\t\t\t\t\t\t? '0.5'\n\t\t\t\t\t\t\t\t: opacity < 0.875\n\t\t\t\t\t\t\t\t? '0.75'\n\t\t\t\t\t\t\t\t: '1',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t[Versions.AddChat]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, chatMessage: '', isChatting: false }\n\t\t\t},\n\t\t\tdown: ({ chatMessage: _, isChatting: __, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.AddHighlightedUserIds]: {\n\t\t\tup: (instance: TLInstance) => {\n\t\t\t\treturn { ...instance, highlightedUserIds: [] }\n\t\t\t},\n\t\t\tdown: ({ highlightedUserIds: _, ...instance }: TLInstance) => {\n\t\t\t\treturn instance\n\t\t\t},\n\t\t},\n\t\t[Versions.ReplacePropsForNextShapeWithStylesForNextShape]: {\n\t\t\tup: ({ propsForNextShape: _, ...instance }) => {\n\t\t\t\treturn { ...instance, stylesForNextShape: {} }\n\t\t\t},\n\t\t\tdown: ({ stylesForNextShape: _, ...instance }: TLInstance) => {\n\t\t\t\treturn {\n\t\t\t\t\t...instance,\n\t\t\t\t\tpropsForNextShape: {\n\t\t\t\t\t\tcolor: 'black',\n\t\t\t\t\t\tlabelColor: 'black',\n\t\t\t\t\t\tdash: 'draw',\n\t\t\t\t\t\tfill: 'none',\n\t\t\t\t\t\tsize: 'm',\n\t\t\t\t\t\ticon: 'file',\n\t\t\t\t\t\tfont: 'draw',\n\t\t\t\t\t\talign: 'middle',\n\t\t\t\t\t\tverticalAlign: 'middle',\n\t\t\t\t\t\tgeo: 'rectangle',\n\t\t\t\t\t\tarrowheadStart: 'none',\n\t\t\t\t\t\tarrowheadEnd: 'arrow',\n\t\t\t\t\t\tspline: 'line',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n})\n\n/** @public */\nexport const TLINSTANCE_ID = 'instance:instance' as TLInstanceId\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}