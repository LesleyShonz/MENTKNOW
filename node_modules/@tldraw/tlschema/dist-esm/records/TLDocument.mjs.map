{
  "version": 3,
  "sources": ["../../src/records/TLDocument.ts"],
  "sourcesContent": ["import { BaseRecord, createRecordType, defineMigrations, RecordId } from '@tldraw/store'\nimport { T } from '@tldraw/validate'\n\n/**\n * TLDocument\n *\n * @public\n */\nexport interface TLDocument extends BaseRecord<'document', RecordId<TLDocument>> {\n\tgridSize: number\n\tname: string\n}\n\n/** @internal */\nexport const documentValidator: T.Validator<TLDocument> = T.model(\n\t'document',\n\tT.object({\n\t\ttypeName: T.literal('document'),\n\t\tid: T.literal('document:document' as RecordId<TLDocument>),\n\t\tgridSize: T.number,\n\t\tname: T.string,\n\t})\n)\n\nconst Versions = {\n\tAddName: 1,\n} as const\n\n/** @internal */\nexport const documentMigrations = defineMigrations({\n\tcurrentVersion: Versions.AddName,\n\tmigrators: {\n\t\t[Versions.AddName]: {\n\t\t\tup: (document: TLDocument) => {\n\t\t\t\treturn { ...document, name: '' }\n\t\t\t},\n\t\t\tdown: ({ name: _, ...document }: TLDocument) => {\n\t\t\t\treturn document\n\t\t\t},\n\t\t},\n\t},\n})\n\n/** @public */\nexport const DocumentRecordType = createRecordType<TLDocument>('document', {\n\tmigrations: documentMigrations,\n\tvalidator: documentValidator,\n\tscope: 'document',\n}).withDefaultProperties(\n\t(): Omit<TLDocument, 'id' | 'typeName'> => ({\n\t\tgridSize: 10,\n\t\tname: '',\n\t})\n)\n\n// all document records have the same ID: 'document:document'\n/** @public */\nexport const TLDOCUMENT_ID: RecordId<TLDocument> = DocumentRecordType.createId('document')\n"],
  "mappings": "AAAA,SAAqB,kBAAkB,wBAAkC;AACzE,SAAS,SAAS;AAaX,MAAM,oBAA6C,EAAE;AAAA,EAC3D;AAAA,EACA,EAAE,OAAO;AAAA,IACR,UAAU,EAAE,QAAQ,UAAU;AAAA,IAC9B,IAAI,EAAE,QAAQ,mBAA2C;AAAA,IACzD,UAAU,EAAE;AAAA,IACZ,MAAM,EAAE;AAAA,EACT,CAAC;AACF;AAEA,MAAM,WAAW;AAAA,EAChB,SAAS;AACV;AAGO,MAAM,qBAAqB,iBAAiB;AAAA,EAClD,gBAAgB,SAAS;AAAA,EACzB,WAAW;AAAA,IACV,CAAC,SAAS,OAAO,GAAG;AAAA,MACnB,IAAI,CAAC,aAAyB;AAC7B,eAAO,EAAE,GAAG,UAAU,MAAM,GAAG;AAAA,MAChC;AAAA,MACA,MAAM,CAAC,EAAE,MAAM,GAAG,GAAG,SAAS,MAAkB;AAC/C,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AACD,CAAC;AAGM,MAAM,qBAAqB,iBAA6B,YAAY;AAAA,EAC1E,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,OAAO;AACR,CAAC,EAAE;AAAA,EACF,OAA4C;AAAA,IAC3C,UAAU;AAAA,IACV,MAAM;AAAA,EACP;AACD;AAIO,MAAM,gBAAsC,mBAAmB,SAAS,UAAU;",
  "names": []
}
