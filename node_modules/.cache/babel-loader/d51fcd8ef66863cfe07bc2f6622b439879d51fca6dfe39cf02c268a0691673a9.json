{"ast":null,"code":"import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport { useContainer } from \"@tldraw/editor\";\nimport { memo } from \"react\";\nimport { useActionsMenuSchema } from \"../hooks/useActionsMenuSchema.mjs\";\nimport { useReadonly } from \"../hooks/useReadonly.mjs\";\nimport { useTranslation } from \"../hooks/useTranslation/useTranslation.mjs\";\nimport { Button } from \"./primitives/Button.mjs\";\nimport { Popover, PopoverTrigger } from \"./primitives/Popover.mjs\";\nimport { kbdStr } from \"./primitives/shared.mjs\";\nvar ActionsMenu = memo(function ActionsMenu2() {\n  var msg = useTranslation();\n  var container = useContainer();\n  var menuSchema = useActionsMenuSchema();\n  var isReadonly = useReadonly();\n  function getActionMenuItem(item) {\n    if (isReadonly && !item.readonlyOk) return null;\n    switch (item.type) {\n      case \"item\":\n        {\n          var _item$actionItem = item.actionItem,\n            id = _item$actionItem.id,\n            icon = _item$actionItem.icon,\n            label = _item$actionItem.label,\n            kbd = _item$actionItem.kbd,\n            onSelect = _item$actionItem.onSelect;\n          return /* @__PURE__ */jsx(Button, {\n            className: \"tlui-button-grid__button\",\n            \"data-testid\": \"menu-item.\".concat(item.id),\n            icon: icon,\n            title: label ? kbd ? \"\".concat(msg(label), \" \").concat(kbdStr(kbd)) : \"\".concat(msg(label)) : kbd ? \"\".concat(kbdStr(kbd)) : \"\",\n            onClick: function onClick() {\n              return onSelect(\"actions-menu\");\n            },\n            disabled: item.disabled\n          }, id);\n        }\n    }\n  }\n  return /* @__PURE__ */jsxs(Popover, {\n    id: \"actions menu\",\n    children: [/* @__PURE__ */jsx(PopoverTrigger, {\n      children: /* @__PURE__ */jsx(Button, {\n        className: \"tlui-menu__trigger\",\n        \"data-testid\": \"main.action-menu\",\n        icon: \"dots-vertical\",\n        title: msg(\"actions-menu.title\"),\n        smallIcon: true\n      })\n    }), /* @__PURE__ */jsx(PopoverPrimitive.Portal, {\n      dir: \"ltr\",\n      container: container,\n      children: /* @__PURE__ */jsx(PopoverPrimitive.Content, {\n        className: \"tlui-popover__content\",\n        side: \"bottom\",\n        dir: \"ltr\",\n        sideOffset: 6,\n        children: /* @__PURE__ */jsx(\"div\", {\n          className: \"tlui-actions-menu tlui-button-grid__four\",\n          children: menuSchema.map(getActionMenuItem)\n        })\n      })\n    })]\n  });\n});\nexport { ActionsMenu };","map":{"version":3,"names":["jsx","jsxs","PopoverPrimitive","useContainer","memo","useActionsMenuSchema","useReadonly","useTranslation","Button","Popover","PopoverTrigger","kbdStr","ActionsMenu","ActionsMenu2","msg","container","menuSchema","isReadonly","getActionMenuItem","item","readonlyOk","type","_item$actionItem","actionItem","id","icon","label","kbd","onSelect","className","concat","title","onClick","disabled","children","smallIcon","Portal","dir","Content","side","sideOffset","map"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/components/ActionsMenu.tsx"],"sourcesContent":["import * as PopoverPrimitive from '@radix-ui/react-popover'\nimport { useContainer } from '@tldraw/editor'\nimport { memo } from 'react'\nimport { TLUiMenuChild } from '../hooks/menuHelpers'\nimport { useActionsMenuSchema } from '../hooks/useActionsMenuSchema'\nimport { useReadonly } from '../hooks/useReadonly'\nimport { useTranslation } from '../hooks/useTranslation/useTranslation'\nimport { Button } from './primitives/Button'\nimport { Popover, PopoverTrigger } from './primitives/Popover'\nimport { kbdStr } from './primitives/shared'\n\nexport const ActionsMenu = memo(function ActionsMenu() {\n\tconst msg = useTranslation()\n\tconst container = useContainer()\n\tconst menuSchema = useActionsMenuSchema()\n\tconst isReadonly = useReadonly()\n\n\tfunction getActionMenuItem(item: TLUiMenuChild) {\n\t\tif (isReadonly && !item.readonlyOk) return null\n\n\t\tswitch (item.type) {\n\t\t\tcase 'item': {\n\t\t\t\tconst { id, icon, label, kbd, onSelect } = item.actionItem\n\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tclassName=\"tlui-button-grid__button\"\n\t\t\t\t\t\tdata-testid={`menu-item.${item.id}`}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t? kbd\n\t\t\t\t\t\t\t\t\t? `${msg(label)} ${kbdStr(kbd)}`\n\t\t\t\t\t\t\t\t\t: `${msg(label)}`\n\t\t\t\t\t\t\t\t: kbd\n\t\t\t\t\t\t\t\t? `${kbdStr(kbd)}`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => onSelect('actions-menu')}\n\t\t\t\t\t\tdisabled={item.disabled}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Popover id=\"actions menu\">\n\t\t\t<PopoverTrigger>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"tlui-menu__trigger\"\n\t\t\t\t\tdata-testid=\"main.action-menu\"\n\t\t\t\t\ticon=\"dots-vertical\"\n\t\t\t\t\ttitle={msg('actions-menu.title')}\n\t\t\t\t\tsmallIcon\n\t\t\t\t/>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverPrimitive.Portal dir=\"ltr\" container={container}>\n\t\t\t\t<PopoverPrimitive.Content\n\t\t\t\t\tclassName=\"tlui-popover__content\"\n\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\tsideOffset={6}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"tlui-actions-menu tlui-button-grid__four\">\n\t\t\t\t\t\t{menuSchema.map(getActionMenuItem)}\n\t\t\t\t\t</div>\n\t\t\t\t</PopoverPrimitive.Content>\n\t\t\t</PopoverPrimitive.Portal>\n\t\t</Popover>\n\t)\n})\n"],"mappings":"AAyBK,SAAAA,GAAA,EAuBHC,IAAA,QAvBG;AAzBL,YAAYC,gBAAA,MAAsB;AAClC,SAASC,YAAA,QAAoB;AAC7B,SAASC,IAAA,QAAY;AAErB,SAASC,oBAAA,QAA4B;AACrC,SAASC,WAAA,QAAmB;AAC5B,SAASC,cAAA,QAAsB;AAC/B,SAASC,MAAA,QAAc;AACvB,SAASC,OAAA,EAASC,cAAA,QAAsB;AACxC,SAASC,MAAA,QAAc;AAEhB,IAAMC,WAAA,GAAcR,IAAA,CAAK,SAASS,aAAA,EAAc;EACtD,IAAMC,GAAA,GAAMP,cAAA,CAAe;EAC3B,IAAMQ,SAAA,GAAYZ,YAAA,CAAa;EAC/B,IAAMa,UAAA,GAAaX,oBAAA,CAAqB;EACxC,IAAMY,UAAA,GAAaX,WAAA,CAAY;EAE/B,SAASY,kBAAkBC,IAAA,EAAqB;IAC/C,IAAIF,UAAA,IAAc,CAACE,IAAA,CAAKC,UAAA,EAAY,OAAO;IAE3C,QAAQD,IAAA,CAAKE,IAAA;MACZ,KAAK;QAAQ;UACZ,IAAAC,gBAAA,GAA2CH,IAAA,CAAKI,UAAA;YAAxCC,EAAA,GAAAF,gBAAA,CAAAE,EAAA;YAAIC,IAAA,GAAAH,gBAAA,CAAAG,IAAA;YAAMC,KAAA,GAAAJ,gBAAA,CAAAI,KAAA;YAAOC,GAAA,GAAAL,gBAAA,CAAAK,GAAA;YAAKC,QAAA,GAAAN,gBAAA,CAAAM,QAAA;UAE9B,OACC,eAAA5B,GAAA,CAACQ,MAAA;YAEAqB,SAAA,EAAU;YACV,4BAAAC,MAAA,CAA0BX,IAAA,CAAKK,EAAA;YAC/BC,IAAA,EAAAA,IAAA;YACAM,KAAA,EACCL,KAAA,GACGC,GAAA,MAAAG,MAAA,CACIhB,GAAA,CAAIY,KAAK,QAAAI,MAAA,CAAKnB,MAAA,CAAOgB,GAAG,QAAAG,MAAA,CACxBhB,GAAA,CAAIY,KAAK,KACbC,GAAA,MAAAG,MAAA,CACGnB,MAAA,CAAOgB,GAAG,KACb;YAEJK,OAAA,EAAS,SAAAA,QAAA;cAAA,OAAMJ,QAAA,CAAS,cAAc;YAAA;YACtCK,QAAA,EAAUd,IAAA,CAAKc;UAAA,GAdVT,EAeN;QAEF;IACD;EACD;EAEA,OACC,eAAAvB,IAAA,CAACQ,OAAA;IAAQe,EAAA,EAAG;IACXU,QAAA,kBAAAlC,GAAA,CAACU,cAAA;MACAwB,QAAA,iBAAAlC,GAAA,CAACQ,MAAA;QACAqB,SAAA,EAAU;QACV,eAAY;QACZJ,IAAA,EAAK;QACLM,KAAA,EAAOjB,GAAA,CAAI,oBAAoB;QAC/BqB,SAAA,EAAS;MAAA,CACV;IAAA,CACD,GACA,eAAAnC,GAAA,CAACE,gBAAA,CAAiBkC,MAAA,EAAjB;MAAwBC,GAAA,EAAI;MAAMtB,SAAA,EAAAA,SAAA;MAClCmB,QAAA,iBAAAlC,GAAA,CAACE,gBAAA,CAAiBoC,OAAA,EAAjB;QACAT,SAAA,EAAU;QACVU,IAAA,EAAK;QACLF,GAAA,EAAI;QACJG,UAAA,EAAY;QAEZN,QAAA,iBAAAlC,GAAA,CAAC;UAAI6B,SAAA,EAAU;UACbK,QAAA,EAAAlB,UAAA,CAAWyB,GAAA,CAAIvB,iBAAiB;QAAA,CAClC;MAAA,CACD;IAAA,CACD;EAAA,CACD;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}