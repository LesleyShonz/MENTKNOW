{"ast":null,"code":"import throttle from \"lodash.throttle\";\nimport { useLayoutEffect } from \"react\";\nimport { useContainer } from \"./useContainer.mjs\";\nimport { useEditor } from \"./useEditor.mjs\";\nfunction useScreenBounds() {\n  var editor = useEditor();\n  var container = useContainer();\n  useLayoutEffect(function () {\n    var updateBounds = throttle(function () {\n      editor.updateViewportScreenBounds();\n    }, 200, {\n      trailing: true\n    });\n    var resizeObserver = new ResizeObserver(function (entries) {\n      if (entries[0].contentRect) {\n        updateBounds();\n      }\n    });\n    if (container) {\n      resizeObserver.observe(container);\n    }\n    updateBounds();\n    return function () {\n      resizeObserver.disconnect();\n    };\n  }, [editor, container]);\n}\nexport { useScreenBounds };","map":{"version":3,"names":["throttle","useLayoutEffect","useContainer","useEditor","useScreenBounds","editor","container","updateBounds","updateViewportScreenBounds","trailing","resizeObserver","ResizeObserver","entries","contentRect","observe","disconnect"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/hooks/useScreenBounds.ts"],"sourcesContent":["import throttle from 'lodash.throttle'\nimport { useLayoutEffect } from 'react'\nimport { useContainer } from './useContainer'\nimport { useEditor } from './useEditor'\n\nexport function useScreenBounds() {\n\tconst editor = useEditor()\n\tconst container = useContainer()\n\n\tuseLayoutEffect(() => {\n\t\tconst updateBounds = throttle(\n\t\t\t() => {\n\t\t\t\teditor.updateViewportScreenBounds()\n\t\t\t},\n\t\t\t200,\n\t\t\t{ trailing: true }\n\t\t)\n\n\t\tconst resizeObserver = new ResizeObserver((entries) => {\n\t\t\tif (entries[0].contentRect) {\n\t\t\t\tupdateBounds()\n\t\t\t}\n\t\t})\n\n\t\tif (container) {\n\t\t\tresizeObserver.observe(container)\n\t\t}\n\n\t\tupdateBounds()\n\n\t\treturn () => {\n\t\t\tresizeObserver.disconnect()\n\t\t}\n\t}, [editor, container])\n}\n"],"mappings":"AAAA,OAAOA,QAAA,MAAc;AACrB,SAASC,eAAA,QAAuB;AAChC,SAASC,YAAA,QAAoB;AAC7B,SAASC,SAAA,QAAiB;AAEnB,SAASC,gBAAA,EAAkB;EACjC,IAAMC,MAAA,GAASF,SAAA,CAAU;EACzB,IAAMG,SAAA,GAAYJ,YAAA,CAAa;EAE/BD,eAAA,CAAgB,YAAM;IACrB,IAAMM,YAAA,GAAeP,QAAA,CACpB,YAAM;MACLK,MAAA,CAAOG,0BAAA,CAA2B;IACnC,GACA,KACA;MAAEC,QAAA,EAAU;IAAK,CAClB;IAEA,IAAMC,cAAA,GAAiB,IAAIC,cAAA,CAAe,UAACC,OAAA,EAAY;MACtD,IAAIA,OAAA,CAAQ,CAAC,EAAEC,WAAA,EAAa;QAC3BN,YAAA,CAAa;MACd;IACD,CAAC;IAED,IAAID,SAAA,EAAW;MACdI,cAAA,CAAeI,OAAA,CAAQR,SAAS;IACjC;IAEAC,YAAA,CAAa;IAEb,OAAO,YAAM;MACZG,cAAA,CAAeK,UAAA,CAAW;IAC3B;EACD,GAAG,CAACV,MAAA,EAAQC,SAAS,CAAC;AACvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}