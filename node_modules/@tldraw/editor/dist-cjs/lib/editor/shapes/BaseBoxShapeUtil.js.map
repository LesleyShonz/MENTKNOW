{
  "version": 3,
  "sources": ["../../../../src/lib/editor/shapes/BaseBoxShapeUtil.tsx"],
  "sourcesContent": ["import { Box2d, linesIntersect, pointInPolygon, Vec2d, VecLike } from '@tldraw/primitives'\nimport { TLBaseShape } from '@tldraw/tlschema'\nimport { ShapeUtil, TLOnResizeHandler } from './ShapeUtil'\nimport { resizeBox } from './shared/resizeBox'\n\n/** @public */\nexport type TLBaseBoxShape = TLBaseShape<string, { w: number; h: number }>\n\n/** @public */\nexport abstract class BaseBoxShapeUtil<Shape extends TLBaseBoxShape> extends ShapeUtil<Shape> {\n\toverride getBounds(shape: Shape) {\n\t\treturn new Box2d(0, 0, shape.props.w, shape.props.h)\n\t}\n\n\toverride getCenter(shape: Shape) {\n\t\treturn new Vec2d(shape.props.w / 2, shape.props.h / 2)\n\t}\n\n\toverride getOutline(shape: Shape) {\n\t\treturn this.bounds(shape).corners\n\t}\n\n\thitTestPoint(shape: Shape, point: VecLike): boolean {\n\t\treturn pointInPolygon(point, this.outline(shape))\n\t}\n\n\thitTestLineSegment(shape: Shape, A: VecLike, B: VecLike): boolean {\n\t\tconst outline = this.outline(shape)\n\n\t\tfor (let i = 0; i < outline.length; i++) {\n\t\t\tconst C = outline[i]\n\t\t\tconst D = outline[(i + 1) % outline.length]\n\t\t\tif (linesIntersect(A, B, C, D)) return true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tonResize: TLOnResizeHandler<any> = (shape, info) => {\n\t\treturn resizeBox(shape, info)\n\t}\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAsE;AAEtE,uBAA6C;AAC7C,uBAA0B;AAMnB,MAAe,yBAAuD,2BAAiB;AAAA,EACpF,UAAU,OAAc;AAChC,WAAO,IAAI,wBAAM,GAAG,GAAG,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC;AAAA,EACpD;AAAA,EAES,UAAU,OAAc;AAChC,WAAO,IAAI,wBAAM,MAAM,MAAM,IAAI,GAAG,MAAM,MAAM,IAAI,CAAC;AAAA,EACtD;AAAA,EAES,WAAW,OAAc;AACjC,WAAO,KAAK,OAAO,KAAK,EAAE;AAAA,EAC3B;AAAA,EAEA,aAAa,OAAc,OAAyB;AACnD,eAAO,kCAAe,OAAO,KAAK,QAAQ,KAAK,CAAC;AAAA,EACjD;AAAA,EAEA,mBAAmB,OAAc,GAAY,GAAqB;AACjE,UAAM,UAAU,KAAK,QAAQ,KAAK;AAElC,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACxC,YAAM,IAAI,QAAQ,CAAC;AACnB,YAAM,IAAI,SAAS,IAAI,KAAK,QAAQ,MAAM;AAC1C,cAAI,kCAAe,GAAG,GAAG,GAAG,CAAC;AAAG,eAAO;AAAA,IACxC;AAEA,WAAO;AAAA,EACR;AAAA,EAEA,WAAmC,CAAC,OAAO,SAAS;AACnD,eAAO,4BAAU,OAAO,IAAI;AAAA,EAC7B;AACD;",
  "names": []
}
