{"ast":null,"code":"import _regeneratorRuntime from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport classNames from \"classnames\";\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { useValue } from \"signia-react\";\nimport { EditorContext } from \"../hooks/useEditor.mjs\";\nimport { hardResetEditor } from \"../utils/hard-reset.mjs\";\nimport { refreshPage } from \"../utils/refresh-page.mjs\";\nimport { Canvas } from \"./Canvas.mjs\";\nimport { ErrorBoundary } from \"./ErrorBoundary.mjs\";\nvar BASE_ERROR_URL = \"https://github.com/tldraw/tldraw/issues/new\";\nfunction noop() {}\nvar DefaultErrorFallback = function DefaultErrorFallback(_ref) {\n  var error = _ref.error,\n    editor = _ref.editor;\n  var containerRef = useRef(null);\n  var _useState = useState(process.env.NODE_ENV === \"development\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    shouldShowError = _useState2[0],\n    setShouldShowError = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    didCopy = _useState4[0],\n    setDidCopy = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    shouldShowResetConfirmation = _useState6[0],\n    setShouldShowResetConfirmation = _useState6[1];\n  var errorMessage = error instanceof Error ? error.message : String(error);\n  var errorStack = error instanceof Error ? error.stack : null;\n  var isDarkModeFromApp = useValue(\"isDarkMode\", function () {\n    try {\n      if (editor) {\n        return editor.isDarkMode;\n      }\n    } catch (_unused) {}\n    return null;\n  }, [editor]);\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isDarkMode = _useState8[0],\n    setIsDarkMode = _useState8[1];\n  useLayoutEffect(function () {\n    var _containerRef$current;\n    if (isDarkModeFromApp !== null) {\n      setIsDarkMode(isDarkModeFromApp);\n    }\n    var parent = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.parentElement;\n    var foundParentThemeClass = false;\n    while (parent) {\n      if (parent.classList.contains(\"tl-theme__dark\") || parent.classList.contains(\"tl-theme__light\")) {\n        foundParentThemeClass = true;\n        break;\n      }\n      parent = parent.parentElement;\n    }\n    if (foundParentThemeClass) {\n      setIsDarkMode(null);\n      return;\n    }\n    setIsDarkMode(window.matchMedia(\"(prefetl-color-scheme: dark)\").matches);\n  }, [isDarkModeFromApp]);\n  useEffect(function () {\n    if (didCopy) {\n      var timeout = setTimeout(function () {\n        setDidCopy(false);\n      }, 2e3);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [didCopy]);\n  var copyError = function copyError() {\n    var textarea = document.createElement(\"textarea\");\n    textarea.value = errorStack !== null && errorStack !== void 0 ? errorStack : errorMessage;\n    document.body.appendChild(textarea);\n    textarea.select();\n    document.execCommand(\"copy\");\n    textarea.remove();\n    setDidCopy(true);\n  };\n  var refresh = function refresh() {\n    refreshPage();\n  };\n  var resetLocalState = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            hardResetEditor();\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function resetLocalState() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var url = new URL(BASE_ERROR_URL);\n  url.searchParams.set(\"title\", errorMessage);\n  url.searchParams.set(\"labels\", \"bug\");\n  url.searchParams.set(\"body\", \"Hey, I ran into an error while using tldraw:\\n\\n```js\\n\".concat(errorStack !== null && errorStack !== void 0 ? errorStack : errorMessage, \"\\n```\\n\\nMy browser: \").concat(navigator.userAgent));\n  return /* @__PURE__ */jsxs(\"div\", {\n    ref: containerRef,\n    className: classNames(\"tl-container tl-error-boundary\",\n    // error-boundary is sometimes used outside of the theme\n    // container, so we need to provide it with a theme for our\n    // styles to work correctly\n    isDarkMode === null ? \"\" : isDarkMode ? \"tl-theme__dark\" : \"tl-theme__light\"),\n    children: [/* @__PURE__ */jsx(\"div\", {\n      className: \"tl-error-boundary__overlay\"\n    }), editor &&\n    // opportunistically attempt to render the canvas to reassure\n    // the user that their document is still there. there's a good\n    // chance this won't work (ie the error that we're currently\n    // notifying the user about originates in the canvas) so it's\n    // not a big deal if it doesn't work - in that case we just have\n    // a plain grey background.\n    /* @__PURE__ */\n    jsx(ErrorBoundary, {\n      onError: noop,\n      fallback: function fallback() {\n        return null;\n      },\n      children: /* @__PURE__ */jsx(EditorContext.Provider, {\n        value: editor,\n        children: /* @__PURE__ */jsx(\"div\", {\n          className: \"tl-overlay tl-error-boundary__canvas\",\n          children: /* @__PURE__ */jsx(Canvas, {})\n        })\n      })\n    }), /* @__PURE__ */jsx(\"div\", {\n      className: classNames(\"tl-modal\", \"tl-error-boundary__content\", {\n        \"tl-error-boundary__content__expanded\": shouldShowError && !shouldShowResetConfirmation\n      }),\n      children: shouldShowResetConfirmation ? /* @__PURE__ */jsxs(Fragment, {\n        children: [/* @__PURE__ */jsx(\"h2\", {\n          children: \"Are you sure?\"\n        }), /* @__PURE__ */jsx(\"p\", {\n          children: \"Resetting your data will delete your drawing and cannot be undone.\"\n        }), /* @__PURE__ */jsxs(\"div\", {\n          className: \"tl-error-boundary__content__actions\",\n          children: [/* @__PURE__ */jsx(\"button\", {\n            onClick: function onClick() {\n              return setShouldShowResetConfirmation(false);\n            },\n            children: \"Cancel\"\n          }), /* @__PURE__ */jsx(\"button\", {\n            className: \"tl-error-boundary__reset\",\n            onClick: resetLocalState,\n            children: \"Reset data\"\n          })]\n        })]\n      }) : /* @__PURE__ */jsxs(Fragment, {\n        children: [/* @__PURE__ */jsx(\"h2\", {\n          children: \"Something's gone wrong.\"\n        }), /* @__PURE__ */jsxs(\"p\", {\n          children: [\"Sorry, we encountered an error. Please refresh the page to continue. If you keep seeing this error, you can \", /* @__PURE__ */jsx(\"a\", {\n            href: url.toString(),\n            children: \"create a GitHub issue\"\n          }), \" or\", \" \", /* @__PURE__ */jsx(\"a\", {\n            href: \"https://discord.gg/Cq6cPsTfNy\",\n            children: \"ask for help on Discord\"\n          }), \".\"]\n        }), shouldShowError && /* @__PURE__ */jsxs(\"div\", {\n          className: \"tl-error-boundary__content__error\",\n          children: [/* @__PURE__ */jsx(\"pre\", {\n            children: /* @__PURE__ */jsx(\"code\", {\n              children: errorStack !== null && errorStack !== void 0 ? errorStack : errorMessage\n            })\n          }), /* @__PURE__ */jsx(\"button\", {\n            onClick: copyError,\n            children: didCopy ? \"Copied!\" : \"Copy\"\n          })]\n        }), /* @__PURE__ */jsxs(\"div\", {\n          className: \"tl-error-boundary__content__actions\",\n          children: [/* @__PURE__ */jsx(\"button\", {\n            onClick: function onClick() {\n              return setShouldShowError(!shouldShowError);\n            },\n            children: shouldShowError ? \"Hide details\" : \"Show details\"\n          }), /* @__PURE__ */jsxs(\"div\", {\n            className: \"tl-error-boundary__content__actions__group\",\n            children: [/* @__PURE__ */jsx(\"button\", {\n              className: \"tl-error-boundary__reset\",\n              onClick: function onClick() {\n                return setShouldShowResetConfirmation(true);\n              },\n              children: \"Reset data\"\n            }), /* @__PURE__ */jsx(\"button\", {\n              className: \"tl-error-boundary__refresh\",\n              onClick: refresh,\n              children: \"Refresh Page\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\nexport { DefaultErrorFallback };","map":{"version":3,"names":["Fragment","jsx","jsxs","classNames","useEffect","useLayoutEffect","useRef","useState","useValue","EditorContext","hardResetEditor","refreshPage","Canvas","ErrorBoundary","BASE_ERROR_URL","noop","DefaultErrorFallback","_ref","error","editor","containerRef","_useState","process","env","NODE_ENV","_useState2","_slicedToArray","shouldShowError","setShouldShowError","_useState3","_useState4","didCopy","setDidCopy","_useState5","_useState6","shouldShowResetConfirmation","setShouldShowResetConfirmation","errorMessage","Error","message","String","errorStack","stack","isDarkModeFromApp","isDarkMode","_unused","_useState7","_useState8","setIsDarkMode","_containerRef$current","parent","current","parentElement","foundParentThemeClass","classList","contains","window","matchMedia","matches","timeout","setTimeout","clearTimeout","copyError","textarea","document","createElement","value","body","appendChild","select","execCommand","remove","refresh","resetLocalState","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","url","URL","searchParams","set","concat","navigator","userAgent","ref","className","children","onError","fallback","Provider","onClick","href","toString"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/components/DefaultErrorFallback.tsx"],"sourcesContent":["import classNames from 'classnames'\nimport { useEffect, useLayoutEffect, useRef, useState } from 'react'\nimport { useValue } from 'signia-react'\nimport { Editor } from '../editor/Editor'\nimport { EditorContext } from '../hooks/useEditor'\nimport { hardResetEditor } from '../utils/hard-reset'\nimport { refreshPage } from '../utils/refresh-page'\nimport { Canvas } from './Canvas'\nimport { ErrorBoundary } from './ErrorBoundary'\n\nconst BASE_ERROR_URL = 'https://github.com/tldraw/tldraw/issues/new'\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() {}\n\n/** @public */\nexport type TLErrorFallbackComponent = (props: { error: unknown; editor?: Editor }) => any | null\n\n/** @internal */\nexport const DefaultErrorFallback: TLErrorFallbackComponent = ({ error, editor }) => {\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [shouldShowError, setShouldShowError] = useState(process.env.NODE_ENV === 'development')\n\tconst [didCopy, setDidCopy] = useState(false)\n\tconst [shouldShowResetConfirmation, setShouldShowResetConfirmation] = useState(false)\n\n\tconst errorMessage = error instanceof Error ? error.message : String(error)\n\tconst errorStack = error instanceof Error ? error.stack : null\n\n\tconst isDarkModeFromApp = useValue(\n\t\t'isDarkMode',\n\t\t() => {\n\t\t\ttry {\n\t\t\t\tif (editor) {\n\t\t\t\t\treturn editor.isDarkMode\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t// we're in a funky error state so this might not work for spooky\n\t\t\t\t// reasons. if not, we'll have another attempt later:\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\t[editor]\n\t)\n\tconst [isDarkMode, setIsDarkMode] = useState<null | boolean>(null)\n\tuseLayoutEffect(() => {\n\t\t// if we found a theme class from the app, we can just use that\n\t\tif (isDarkModeFromApp !== null) {\n\t\t\tsetIsDarkMode(isDarkModeFromApp)\n\t\t}\n\n\t\t// do any of our parents have a theme class? if yes then we can just\n\t\t// rely on that and don't need to set our own class\n\t\tlet parent = containerRef.current?.parentElement\n\t\tlet foundParentThemeClass = false\n\t\twhile (parent) {\n\t\t\tif (\n\t\t\t\tparent.classList.contains('tl-theme__dark') ||\n\t\t\t\tparent.classList.contains('tl-theme__light')\n\t\t\t) {\n\t\t\t\tfoundParentThemeClass = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tparent = parent.parentElement\n\t\t}\n\t\tif (foundParentThemeClass) {\n\t\t\tsetIsDarkMode(null)\n\t\t\treturn\n\t\t}\n\n\t\t// if we can't find a theme class from the app or from a parent, we have\n\t\t// to fall back on using a media query:\n\t\tsetIsDarkMode(window.matchMedia('(prefetl-color-scheme: dark)').matches)\n\t}, [isDarkModeFromApp])\n\n\tuseEffect(() => {\n\t\tif (didCopy) {\n\t\t\tconst timeout = setTimeout(() => {\n\t\t\t\tsetDidCopy(false)\n\t\t\t}, 2000)\n\t\t\treturn () => clearTimeout(timeout)\n\t\t}\n\t}, [didCopy])\n\n\tconst copyError = () => {\n\t\tconst textarea = document.createElement('textarea')\n\t\ttextarea.value = errorStack ?? errorMessage\n\t\tdocument.body.appendChild(textarea)\n\t\ttextarea.select()\n\t\tdocument.execCommand('copy')\n\t\ttextarea.remove()\n\t\tsetDidCopy(true)\n\t}\n\n\tconst refresh = () => {\n\t\trefreshPage()\n\t}\n\n\tconst resetLocalState = async () => {\n\t\thardResetEditor()\n\t}\n\n\tconst url = new URL(BASE_ERROR_URL)\n\turl.searchParams.set('title', errorMessage)\n\turl.searchParams.set('labels', `bug`)\n\turl.searchParams.set(\n\t\t'body',\n\t\t`Hey, I ran into an error while using tldraw:\n\n\\`\\`\\`js\n${errorStack ?? errorMessage}\n\\`\\`\\`\n\nMy browser: ${navigator.userAgent}`\n\t)\n\n\treturn (\n\t\t<div\n\t\t\tref={containerRef}\n\t\t\tclassName={classNames(\n\t\t\t\t'tl-container tl-error-boundary',\n\t\t\t\t// error-boundary is sometimes used outside of the theme\n\t\t\t\t// container, so we need to provide it with a theme for our\n\t\t\t\t// styles to work correctly\n\t\t\t\tisDarkMode === null ? '' : isDarkMode ? 'tl-theme__dark' : 'tl-theme__light'\n\t\t\t)}\n\t\t>\n\t\t\t<div className=\"tl-error-boundary__overlay\" />\n\t\t\t{editor && (\n\t\t\t\t// opportunistically attempt to render the canvas to reassure\n\t\t\t\t// the user that their document is still there. there's a good\n\t\t\t\t// chance this won't work (ie the error that we're currently\n\t\t\t\t// notifying the user about originates in the canvas) so it's\n\t\t\t\t// not a big deal if it doesn't work - in that case we just have\n\t\t\t\t// a plain grey background.\n\t\t\t\t<ErrorBoundary onError={noop} fallback={() => null}>\n\t\t\t\t\t<EditorContext.Provider value={editor}>\n\t\t\t\t\t\t<div className=\"tl-overlay tl-error-boundary__canvas\">\n\t\t\t\t\t\t\t<Canvas />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</EditorContext.Provider>\n\t\t\t\t</ErrorBoundary>\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName={classNames('tl-modal', 'tl-error-boundary__content', {\n\t\t\t\t\t'tl-error-boundary__content__expanded': shouldShowError && !shouldShowResetConfirmation,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{shouldShowResetConfirmation ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2>Are you sure?</h2>\n\t\t\t\t\t\t<p>Resetting your data will delete your drawing and cannot be undone.</p>\n\t\t\t\t\t\t<div className=\"tl-error-boundary__content__actions\">\n\t\t\t\t\t\t\t<button onClick={() => setShouldShowResetConfirmation(false)}>Cancel</button>\n\t\t\t\t\t\t\t<button className=\"tl-error-boundary__reset\" onClick={resetLocalState}>\n\t\t\t\t\t\t\t\tReset data\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2>Something&apos;s gone wrong.</h2>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tSorry, we encountered an error. Please refresh the page to continue. If you keep\n\t\t\t\t\t\t\tseeing this error, you can <a href={url.toString()}>create a GitHub issue</a> or{' '}\n\t\t\t\t\t\t\t<a href=\"https://discord.gg/Cq6cPsTfNy\">ask for help on Discord</a>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{shouldShowError && (\n\t\t\t\t\t\t\t<div className=\"tl-error-boundary__content__error\">\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code>{errorStack ?? errorMessage}</code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t<button onClick={copyError}>{didCopy ? 'Copied!' : 'Copy'}</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"tl-error-boundary__content__actions\">\n\t\t\t\t\t\t\t<button onClick={() => setShouldShowError(!shouldShowError)}>\n\t\t\t\t\t\t\t\t{shouldShowError ? 'Hide details' : 'Show details'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className=\"tl-error-boundary__content__actions__group\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"tl-error-boundary__reset\"\n\t\t\t\t\t\t\t\t\tonClick={() => setShouldShowResetConfirmation(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tReset data\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button className=\"tl-error-boundary__refresh\" onClick={refresh}>\n\t\t\t\t\t\t\t\t\tRefresh Page\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}