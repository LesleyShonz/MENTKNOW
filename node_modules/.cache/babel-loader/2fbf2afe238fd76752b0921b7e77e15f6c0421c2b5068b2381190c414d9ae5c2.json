{"ast":null,"code":"import { useEffect, useMemo } from \"react\";\nimport { EffectScheduler } from \"signia\";\nfunction useReactor(name, reactFn) {\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var scheduler = useMemo(function () {\n    return new EffectScheduler(name, reactFn, {\n      scheduleEffect: function scheduleEffect(cb) {\n        return requestAnimationFrame(cb);\n      }\n    });\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n  useEffect(function () {\n    scheduler.attach();\n    scheduler.execute();\n    return function () {\n      scheduler.detach();\n    };\n  }, [scheduler]);\n}\nexport { useReactor };","map":{"version":3,"names":["useEffect","useMemo","EffectScheduler","useReactor","name","reactFn","deps","arguments","length","undefined","scheduler","scheduleEffect","cb","requestAnimationFrame","attach","execute","detach"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/hooks/useReactor.ts"],"sourcesContent":["import { useEffect, useMemo } from 'react'\nimport { EffectScheduler } from 'signia'\n\n/** @public */\nexport function useReactor(name: string, reactFn: () => void, deps: undefined | any[] = []) {\n\tconst scheduler = useMemo(\n\t\t() => new EffectScheduler(name, reactFn, { scheduleEffect: (cb) => requestAnimationFrame(cb) }),\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\tdeps\n\t)\n\n\tuseEffect(() => {\n\t\tscheduler.attach()\n\t\tscheduler.execute()\n\t\treturn () => {\n\t\t\tscheduler.detach()\n\t\t}\n\t}, [scheduler])\n}\n"],"mappings":"AAAA,SAASA,SAAA,EAAWC,OAAA,QAAe;AACnC,SAASC,eAAA,QAAuB;AAGzB,SAASC,WAAWC,IAAA,EAAcC,OAAA,EAAmD;EAAA,IAA9BC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA0B,EAAC;EACxF,IAAMG,SAAA,GAAYT,OAAA,CACjB;IAAA,OAAM,IAAIC,eAAA,CAAgBE,IAAA,EAAMC,OAAA,EAAS;MAAEM,cAAA,EAAgB,SAAAA,eAACC,EAAA;QAAA,OAAOC,qBAAA,CAAsBD,EAAE;MAAA;IAAE,CAAC;EAAA;EAAA;EAE9FN,IACD;EAEAN,SAAA,CAAU,YAAM;IACfU,SAAA,CAAUI,MAAA,CAAO;IACjBJ,SAAA,CAAUK,OAAA,CAAQ;IAClB,OAAO,YAAM;MACZL,SAAA,CAAUM,MAAA,CAAO;IAClB;EACD,GAAG,CAACN,SAAS,CAAC;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}