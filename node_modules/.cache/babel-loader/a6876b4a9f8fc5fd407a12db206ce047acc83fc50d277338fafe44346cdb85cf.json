{"ast":null,"code":"import _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport { toDomPrecision } from \"@tldraw/primitives\";\nimport classNames from \"classnames\";\nimport { useRef } from \"react\";\nimport { track } from \"signia-react\";\nimport { EmbedShapeUtil } from \"../editor/shapes/embed/EmbedShapeUtil.mjs\";\nimport { TextShapeUtil } from \"../editor/shapes/text/TextShapeUtil.mjs\";\nimport { getCursor } from \"../hooks/useCursor.mjs\";\nimport { useEditor } from \"../hooks/useEditor.mjs\";\nimport { useSelectionEvents } from \"../hooks/useSelectionEvents.mjs\";\nimport { useTransform } from \"../hooks/useTransform.mjs\";\nimport { CropHandles } from \"./CropHandles.mjs\";\nvar IS_FIREFOX = typeof navigator !== \"undefined\" && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\nvar SelectionFg = track(function SelectionFg2() {\n  var _bounds, _bounds2;\n  var editor = useEditor();\n  var rSvg = useRef(null);\n  var isReadonlyMode = editor.isReadOnly;\n  var topEvents = useSelectionEvents(\"top\");\n  var rightEvents = useSelectionEvents(\"right\");\n  var bottomEvents = useSelectionEvents(\"bottom\");\n  var leftEvents = useSelectionEvents(\"left\");\n  var topLeftEvents = useSelectionEvents(\"top_left\");\n  var topRightEvents = useSelectionEvents(\"top_right\");\n  var bottomRightEvents = useSelectionEvents(\"bottom_right\");\n  var bottomLeftEvents = useSelectionEvents(\"bottom_left\");\n  var isDefaultCursor = !editor.isMenuOpen && editor.cursor.type === \"default\";\n  var isCoarsePointer = editor.isCoarsePointer;\n  var bounds = editor.selectionBounds;\n  var shapes = editor.selectedShapes;\n  var onlyShape = editor.onlySelectedShape;\n  var isLockedShape = onlyShape && editor.isShapeOrAncestorLocked(onlyShape);\n  var expandOutlineBy = onlyShape ? editor.getShapeUtil(onlyShape).expandSelectionOutlinePx(onlyShape) : 0;\n  useTransform(rSvg, (_bounds = bounds) === null || _bounds === void 0 ? void 0 : _bounds.x, (_bounds2 = bounds) === null || _bounds2 === void 0 ? void 0 : _bounds2.y, 1, editor.selectionRotation, {\n    x: -expandOutlineBy,\n    y: -expandOutlineBy\n  });\n  if (!bounds) return null;\n  bounds = bounds.clone().expandBy(expandOutlineBy);\n  var zoom = editor.zoomLevel;\n  var rotation = editor.selectionRotation;\n  var isChangingStyles = editor.isChangingStyle;\n  var width = Math.max(1, bounds.width);\n  var height = Math.max(1, bounds.height);\n  var size = 8 / zoom;\n  var isTinyX = width < size * 2;\n  var isTinyY = height < size * 2;\n  var isSmallX = width < size * 4;\n  var isSmallY = height < size * 4;\n  var isSmallCropX = width < size * 5;\n  var isSmallCropY = height < size * 5;\n  var mobileHandleMultiplier = isCoarsePointer ? 1.75 : 1;\n  var targetSize = 6 / zoom * mobileHandleMultiplier;\n  var targetSizeX = (isSmallX ? targetSize / 2 : targetSize) * (mobileHandleMultiplier * 0.75);\n  var targetSizeY = (isSmallY ? targetSize / 2 : targetSize) * (mobileHandleMultiplier * 0.75);\n  var showSelectionBounds = (onlyShape ? !editor.getShapeUtil(onlyShape).hideSelectionBoundsFg(onlyShape) : true) && !isChangingStyles;\n  var shouldDisplayBox = showSelectionBounds && editor.isInAny(\"select.idle\", \"select.brushing\", \"select.scribble_brushing\", \"select.pointing_canvas\", \"select.pointing_selection\", \"select.pointing_shape\", \"select.crop.idle\", \"select.crop.pointing_crop\", \"select.pointing_resize_handle\", \"select.pointing_crop_handle\", \"select.editing_shape\") || showSelectionBounds && editor.isIn(\"select.resizing\") && onlyShape && editor.isShapeOfType(onlyShape, TextShapeUtil);\n  if (onlyShape && editor.isShapeOfType(onlyShape, EmbedShapeUtil) && shouldDisplayBox && IS_FIREFOX) {\n    shouldDisplayBox = false;\n  }\n  var showCropHandles = editor.isInAny(\"select.pointing_crop_handle\", \"select.crop.idle\", \"select.crop.pointing_crop\") && !isChangingStyles && !isReadonlyMode;\n  var shouldDisplayControls = editor.isInAny(\"select.idle\", \"select.pointing_selection\", \"select.pointing_shape\", \"select.crop.idle\") && !isChangingStyles && !isReadonlyMode;\n  var showCornerRotateHandles = !isCoarsePointer && !(isTinyX || isTinyY) && (shouldDisplayControls || showCropHandles) && (onlyShape ? !editor.getShapeUtil(onlyShape).hideRotateHandle(onlyShape) : true) && !isLockedShape;\n  var showMobileRotateHandle = isCoarsePointer && (!isSmallX || !isSmallY) && (shouldDisplayControls || showCropHandles) && (onlyShape ? !editor.getShapeUtil(onlyShape).hideRotateHandle(onlyShape) : true) && !isLockedShape;\n  var showResizeHandles = shouldDisplayControls && (onlyShape ? editor.getShapeUtil(onlyShape).canResize(onlyShape) && !editor.getShapeUtil(onlyShape).hideResizeHandles(onlyShape) : true) && !showCropHandles && !isLockedShape;\n  var hideAlternateCornerHandles = isTinyX || isTinyY;\n  var showOnlyOneHandle = isTinyX && isTinyY;\n  var hideAlternateCropHandles = isSmallCropX || isSmallCropY;\n  var showHandles = showResizeHandles || showCropHandles;\n  var hideRotateCornerHandles = !showCornerRotateHandles;\n  var hideMobileRotateHandle = !shouldDisplayControls || !showMobileRotateHandle;\n  var hideTopLeftCorner = !shouldDisplayControls || !showHandles;\n  var hideTopRightCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles;\n  var hideBottomLeftCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles;\n  var hideBottomRightCorner = !shouldDisplayControls || !showHandles || showOnlyOneHandle && !showCropHandles;\n  var hideEdgeTargetsDueToCoarsePointer = isCoarsePointer;\n  if (hideEdgeTargetsDueToCoarsePointer && shapes.every(function (shape) {\n    return editor.getShapeUtil(shape).isAspectRatioLocked(shape);\n  })) {\n    hideEdgeTargetsDueToCoarsePointer = false;\n  }\n  var hideEdgeTargets = true;\n  if (showCropHandles) {\n    hideEdgeTargets = hideAlternateCropHandles;\n  } else if (showResizeHandles) {\n    hideEdgeTargets = hideAlternateCornerHandles || showOnlyOneHandle || hideEdgeTargetsDueToCoarsePointer;\n  }\n  var textHandleHeight = Math.min(24 / zoom, height - targetSizeY * 3);\n  var showTextResizeHandles = shouldDisplayControls && isCoarsePointer && onlyShape && editor.isShapeOfType(onlyShape, TextShapeUtil) && textHandleHeight * zoom >= 4;\n  return /* @__PURE__ */jsxs(\"svg\", {\n    ref: rSvg,\n    className: \"tl-overlays__item tl-selection__fg\",\n    \"data-testid\": \"selection-foreground\",\n    children: [shouldDisplayBox && /* @__PURE__ */jsx(\"rect\", {\n      className: classNames(\"tl-selection__fg__outline\"),\n      width: toDomPrecision(width),\n      height: toDomPrecision(height)\n    }), /* @__PURE__ */jsx(RotateCornerHandle, {\n      \"data-testid\": \"selection.rotate.top-left\",\n      cx: 0,\n      cy: 0,\n      targetSize: targetSize,\n      corner: \"top_left_rotate\",\n      cursor: isDefaultCursor ? getCursor(\"nwse-rotate\", rotation) : void 0,\n      isHidden: hideRotateCornerHandles\n    }), /* @__PURE__ */jsx(RotateCornerHandle, {\n      \"data-testid\": \"selection.rotate.top-right\",\n      cx: width + targetSize * 3,\n      cy: 0,\n      targetSize: targetSize,\n      corner: \"top_right_rotate\",\n      cursor: isDefaultCursor ? getCursor(\"nesw-rotate\", rotation) : void 0,\n      isHidden: hideRotateCornerHandles\n    }), /* @__PURE__ */jsx(RotateCornerHandle, {\n      \"data-testid\": \"selection.rotate.bottom-left\",\n      cx: 0,\n      cy: height + targetSize * 3,\n      targetSize: targetSize,\n      corner: \"bottom_left_rotate\",\n      cursor: isDefaultCursor ? getCursor(\"swne-rotate\", rotation) : void 0,\n      isHidden: hideRotateCornerHandles\n    }), /* @__PURE__ */jsx(RotateCornerHandle, {\n      \"data-testid\": \"selection.rotate.bottom-right\",\n      cx: width + targetSize * 3,\n      cy: height + targetSize * 3,\n      targetSize: targetSize,\n      corner: \"bottom_right_rotate\",\n      cursor: isDefaultCursor ? getCursor(\"senw-rotate\", rotation) : void 0,\n      isHidden: hideRotateCornerHandles\n    }), \" \", /* @__PURE__ */jsx(MobileRotateHandle, {\n      \"data-testid\": \"selection.rotate.mobile\",\n      cx: isSmallX ? -targetSize * 1.5 : width / 2,\n      cy: isSmallX ? height / 2 : -targetSize * 1.5,\n      size: size,\n      isHidden: hideMobileRotateHandle\n    }), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideEdgeTargets\n      }),\n      \"data-testid\": \"selection.resize.top\",\n      \"aria-label\": \"top target\",\n      pointerEvents: \"all\",\n      x: 0,\n      y: toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY)),\n      width: toDomPrecision(Math.max(1, width)),\n      height: toDomPrecision(Math.max(1, targetSizeY * 2)),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"ns-resize\", rotation)\n      } : void 0\n    }, topEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideEdgeTargets\n      }),\n      \"data-testid\": \"selection.resize.right\",\n      \"aria-label\": \"right target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(width - (isSmallX ? 0 : targetSizeX)),\n      y: 0,\n      height: toDomPrecision(Math.max(1, height)),\n      width: toDomPrecision(Math.max(1, targetSizeX * 2)),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"ew-resize\", rotation)\n      } : void 0\n    }, rightEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideEdgeTargets\n      }),\n      \"data-testid\": \"selection.resize.bottom\",\n      \"aria-label\": \"bottom target\",\n      pointerEvents: \"all\",\n      x: 0,\n      y: toDomPrecision(height - (isSmallY ? 0 : targetSizeY)),\n      width: toDomPrecision(Math.max(1, width)),\n      height: toDomPrecision(Math.max(1, targetSizeY * 2)),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"ns-resize\", rotation)\n      } : void 0\n    }, bottomEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideEdgeTargets\n      }),\n      \"data-testid\": \"selection.resize.left\",\n      \"aria-label\": \"left target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX)),\n      y: 0,\n      height: toDomPrecision(Math.max(1, height)),\n      width: toDomPrecision(Math.max(1, targetSizeX * 2)),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"ew-resize\", rotation)\n      } : void 0\n    }, leftEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideTopLeftCorner\n      }),\n      \"data-testid\": \"selection.target.top-left\",\n      \"aria-label\": \"top-left target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX * 1.5)),\n      y: toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5)),\n      width: toDomPrecision(targetSizeX * 3),\n      height: toDomPrecision(targetSizeY * 3),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"nwse-resize\", rotation)\n      } : void 0\n    }, topLeftEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideTopRightCorner\n      }),\n      \"data-testid\": \"selection.target.top-right\",\n      \"aria-label\": \"top-right target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(width - (isSmallX ? 0 : targetSizeX * 1.5)),\n      y: toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5)),\n      width: toDomPrecision(targetSizeX * 3),\n      height: toDomPrecision(targetSizeY * 3),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"nesw-resize\", rotation)\n      } : void 0\n    }, topRightEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideBottomRightCorner\n      }),\n      \"data-testid\": \"selection.target.bottom-right\",\n      \"aria-label\": \"bottom-right target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(width - (isSmallX ? targetSizeX : targetSizeX * 1.5)),\n      y: toDomPrecision(height - (isSmallY ? targetSizeY : targetSizeY * 1.5)),\n      width: toDomPrecision(targetSizeX * 3),\n      height: toDomPrecision(targetSizeY * 3),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"nwse-resize\", rotation)\n      } : void 0\n    }, bottomRightEvents)), /* @__PURE__ */jsx(\"rect\", _objectSpread({\n      className: classNames(\"tl-transparent\", {\n        \"tl-hidden\": hideBottomLeftCorner\n      }),\n      \"data-testid\": \"selection.target.bottom-left\",\n      \"aria-label\": \"bottom-left target\",\n      pointerEvents: \"all\",\n      x: toDomPrecision(0 - (isSmallX ? targetSizeX * 3 : targetSizeX * 1.5)),\n      y: toDomPrecision(height - (isSmallY ? 0 : targetSizeY * 1.5)),\n      width: toDomPrecision(targetSizeX * 3),\n      height: toDomPrecision(targetSizeY * 3),\n      style: isDefaultCursor ? {\n        cursor: getCursor(\"nesw-resize\", rotation)\n      } : void 0\n    }, bottomLeftEvents)), showResizeHandles && /* @__PURE__ */jsxs(Fragment, {\n      children: [/* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.resize.top-left\",\n        className: classNames(\"tl-corner-handle\", {\n          \"tl-hidden\": hideTopLeftCorner\n        }),\n        \"aria-label\": \"top_left handle\",\n        x: toDomPrecision(0 - size / 2),\n        y: toDomPrecision(0 - size / 2),\n        width: toDomPrecision(size),\n        height: toDomPrecision(size)\n      }), /* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.resize.top-right\",\n        className: classNames(\"tl-corner-handle\", {\n          \"tl-hidden\": hideTopRightCorner\n        }),\n        \"aria-label\": \"top_right handle\",\n        x: toDomPrecision(width - size / 2),\n        y: toDomPrecision(0 - size / 2),\n        width: toDomPrecision(size),\n        height: toDomPrecision(size)\n      }), /* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.resize.bottom-right\",\n        className: classNames(\"tl-corner-handle\", {\n          \"tl-hidden\": hideBottomRightCorner\n        }),\n        \"aria-label\": \"bottom_right handle\",\n        x: toDomPrecision(width - size / 2),\n        y: toDomPrecision(height - size / 2),\n        width: toDomPrecision(size),\n        height: toDomPrecision(size)\n      }), /* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.resize.bottom-left\",\n        className: classNames(\"tl-corner-handle\", {\n          \"tl-hidden\": hideBottomLeftCorner\n        }),\n        \"aria-label\": \"bottom_left handle\",\n        x: toDomPrecision(0 - size / 2),\n        y: toDomPrecision(height - size / 2),\n        width: toDomPrecision(size),\n        height: toDomPrecision(size)\n      })]\n    }), showTextResizeHandles && /* @__PURE__ */jsxs(Fragment, {\n      children: [/* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.text-resize.left.handle\",\n        className: \"tl-text-handle\",\n        \"aria-label\": \"bottom_left handle\",\n        x: toDomPrecision(0 - size / 4),\n        y: toDomPrecision(height / 2 - textHandleHeight / 2),\n        rx: size / 4,\n        width: toDomPrecision(size / 2),\n        height: toDomPrecision(textHandleHeight)\n      }), /* @__PURE__ */jsx(\"rect\", {\n        \"data-testid\": \"selection.text-resize.right.handle\",\n        className: \"tl-text-handle\",\n        \"aria-label\": \"bottom_left handle\",\n        rx: size / 4,\n        x: toDomPrecision(width - size / 4),\n        y: toDomPrecision(height / 2 - textHandleHeight / 2),\n        width: toDomPrecision(size / 2),\n        height: toDomPrecision(textHandleHeight)\n      })]\n    }), showCropHandles && /* @__PURE__ */jsx(CropHandles, _objectSpread({}, {\n      size: size,\n      width: width,\n      height: height,\n      hideAlternateHandles: hideAlternateCropHandles\n    }))]\n  });\n});\nvar RotateCornerHandle = function RotateCornerHandle2(_ref) {\n  var cx = _ref.cx,\n    cy = _ref.cy,\n    targetSize = _ref.targetSize,\n    corner = _ref.corner,\n    cursor = _ref.cursor,\n    isHidden = _ref.isHidden,\n    testId = _ref[\"data-testid\"];\n  var events = useSelectionEvents(corner);\n  return /* @__PURE__ */jsx(\"rect\", _objectSpread({\n    className: classNames(\"tl-transparent\", \"tl-rotate-corner\", {\n      \"tl-hidden\": isHidden\n    }),\n    \"data-testid\": testId,\n    \"aria-label\": \"\".concat(corner, \" target\"),\n    pointerEvents: \"all\",\n    x: toDomPrecision(cx - targetSize * 3),\n    y: toDomPrecision(cy - targetSize * 3),\n    width: toDomPrecision(Math.max(1, targetSize * 3)),\n    height: toDomPrecision(Math.max(1, targetSize * 3)),\n    cursor: cursor\n  }, events));\n};\nvar SQUARE_ROOT_PI = Math.sqrt(Math.PI);\nvar MobileRotateHandle = function RotateHandle(_ref2) {\n  var cx = _ref2.cx,\n    cy = _ref2.cy,\n    size = _ref2.size,\n    isHidden = _ref2.isHidden,\n    testId = _ref2[\"data-testid\"];\n  var events = useSelectionEvents(\"mobile_rotate\");\n  return /* @__PURE__ */jsxs(\"g\", {\n    children: [/* @__PURE__ */jsx(\"circle\", _objectSpread({\n      \"data-testid\": testId,\n      pointerEvents: \"all\",\n      className: classNames(\"tl-transparent\", \"tl-mobile-rotate__bg\", {\n        \"tl-hidden\": isHidden\n      }),\n      cx: cx,\n      cy: cy\n    }, events)), /* @__PURE__ */jsx(\"circle\", {\n      className: classNames(\"tl-mobile-rotate__fg\", {\n        \"tl-hidden\": isHidden\n      }),\n      cx: cx,\n      cy: cy,\n      r: size / SQUARE_ROOT_PI\n    })]\n  });\n};\nexport { MobileRotateHandle, RotateCornerHandle, SelectionFg };","map":{"version":3,"names":["Fragment","jsx","jsxs","toDomPrecision","classNames","useRef","track","EmbedShapeUtil","TextShapeUtil","getCursor","useEditor","useSelectionEvents","useTransform","CropHandles","IS_FIREFOX","navigator","userAgent","toLowerCase","indexOf","SelectionFg","SelectionFg2","_bounds","_bounds2","editor","rSvg","isReadonlyMode","isReadOnly","topEvents","rightEvents","bottomEvents","leftEvents","topLeftEvents","topRightEvents","bottomRightEvents","bottomLeftEvents","isDefaultCursor","isMenuOpen","cursor","type","isCoarsePointer","bounds","selectionBounds","shapes","selectedShapes","onlyShape","onlySelectedShape","isLockedShape","isShapeOrAncestorLocked","expandOutlineBy","getShapeUtil","expandSelectionOutlinePx","x","y","selectionRotation","clone","expandBy","zoom","zoomLevel","rotation","isChangingStyles","isChangingStyle","width","Math","max","height","size","isTinyX","isTinyY","isSmallX","isSmallY","isSmallCropX","isSmallCropY","mobileHandleMultiplier","targetSize","targetSizeX","targetSizeY","showSelectionBounds","hideSelectionBoundsFg","shouldDisplayBox","isInAny","isIn","isShapeOfType","showCropHandles","shouldDisplayControls","showCornerRotateHandles","hideRotateHandle","showMobileRotateHandle","showResizeHandles","canResize","hideResizeHandles","hideAlternateCornerHandles","showOnlyOneHandle","hideAlternateCropHandles","showHandles","hideRotateCornerHandles","hideMobileRotateHandle","hideTopLeftCorner","hideTopRightCorner","hideBottomLeftCorner","hideBottomRightCorner","hideEdgeTargetsDueToCoarsePointer","every","shape","isAspectRatioLocked","hideEdgeTargets","textHandleHeight","min","showTextResizeHandles","ref","className","children","RotateCornerHandle","cx","cy","corner","isHidden","MobileRotateHandle","_objectSpread","pointerEvents","style","rx","hideAlternateHandles","RotateCornerHandle2","_ref","testId","events","concat","SQUARE_ROOT_PI","sqrt","PI","RotateHandle","_ref2","r"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/components/SelectionFg.tsx"],"sourcesContent":["import { RotateCorner, toDomPrecision } from '@tldraw/primitives'\nimport classNames from 'classnames'\nimport { useRef } from 'react'\nimport { track } from 'signia-react'\nimport { EmbedShapeUtil } from '../editor/shapes/embed/EmbedShapeUtil'\nimport { TextShapeUtil } from '../editor/shapes/text/TextShapeUtil'\nimport { getCursor } from '../hooks/useCursor'\nimport { useEditor } from '../hooks/useEditor'\nimport { useSelectionEvents } from '../hooks/useSelectionEvents'\nimport { useTransform } from '../hooks/useTransform'\nimport { CropHandles } from './CropHandles'\n\nconst IS_FIREFOX =\n\ttypeof navigator !== 'undefined' &&\n\tnavigator.userAgent &&\n\tnavigator.userAgent.toLowerCase().indexOf('firefox') > -1\n\nexport const SelectionFg = track(function SelectionFg() {\n\tconst editor = useEditor()\n\tconst rSvg = useRef<SVGSVGElement>(null)\n\n\tconst isReadonlyMode = editor.isReadOnly\n\tconst topEvents = useSelectionEvents('top')\n\tconst rightEvents = useSelectionEvents('right')\n\tconst bottomEvents = useSelectionEvents('bottom')\n\tconst leftEvents = useSelectionEvents('left')\n\tconst topLeftEvents = useSelectionEvents('top_left')\n\tconst topRightEvents = useSelectionEvents('top_right')\n\tconst bottomRightEvents = useSelectionEvents('bottom_right')\n\tconst bottomLeftEvents = useSelectionEvents('bottom_left')\n\n\tconst isDefaultCursor = !editor.isMenuOpen && editor.cursor.type === 'default'\n\tconst isCoarsePointer = editor.isCoarsePointer\n\n\tlet bounds = editor.selectionBounds\n\tconst shapes = editor.selectedShapes\n\tconst onlyShape = editor.onlySelectedShape\n\tconst isLockedShape = onlyShape && editor.isShapeOrAncestorLocked(onlyShape)\n\n\t// if all shapes have an expandBy for the selection outline, we can expand by the l\n\tconst expandOutlineBy = onlyShape\n\t\t? editor.getShapeUtil(onlyShape).expandSelectionOutlinePx(onlyShape)\n\t\t: 0\n\n\tuseTransform(rSvg, bounds?.x, bounds?.y, 1, editor.selectionRotation, {\n\t\tx: -expandOutlineBy,\n\t\ty: -expandOutlineBy,\n\t})\n\n\tif (!bounds) return null\n\tbounds = bounds.clone().expandBy(expandOutlineBy)\n\n\tconst zoom = editor.zoomLevel\n\tconst rotation = editor.selectionRotation\n\tconst isChangingStyles = editor.isChangingStyle\n\n\tconst width = Math.max(1, bounds.width)\n\tconst height = Math.max(1, bounds.height)\n\n\tconst size = 8 / zoom\n\tconst isTinyX = width < size * 2\n\tconst isTinyY = height < size * 2\n\n\tconst isSmallX = width < size * 4\n\tconst isSmallY = height < size * 4\n\tconst isSmallCropX = width < size * 5\n\tconst isSmallCropY = height < size * 5\n\n\tconst mobileHandleMultiplier = isCoarsePointer ? 1.75 : 1\n\tconst targetSize = (6 / zoom) * mobileHandleMultiplier\n\n\tconst targetSizeX = (isSmallX ? targetSize / 2 : targetSize) * (mobileHandleMultiplier * 0.75)\n\tconst targetSizeY = (isSmallY ? targetSize / 2 : targetSize) * (mobileHandleMultiplier * 0.75)\n\n\tconst showSelectionBounds =\n\t\t(onlyShape ? !editor.getShapeUtil(onlyShape).hideSelectionBoundsFg(onlyShape) : true) &&\n\t\t!isChangingStyles\n\n\tlet shouldDisplayBox =\n\t\t(showSelectionBounds &&\n\t\t\teditor.isInAny(\n\t\t\t\t'select.idle',\n\t\t\t\t'select.brushing',\n\t\t\t\t'select.scribble_brushing',\n\t\t\t\t'select.pointing_canvas',\n\t\t\t\t'select.pointing_selection',\n\t\t\t\t'select.pointing_shape',\n\t\t\t\t'select.crop.idle',\n\t\t\t\t'select.crop.pointing_crop',\n\t\t\t\t'select.pointing_resize_handle',\n\t\t\t\t'select.pointing_crop_handle',\n\t\t\t\t'select.editing_shape'\n\t\t\t)) ||\n\t\t(showSelectionBounds &&\n\t\t\teditor.isIn('select.resizing') &&\n\t\t\tonlyShape &&\n\t\t\teditor.isShapeOfType(onlyShape, TextShapeUtil))\n\n\tif (\n\t\tonlyShape &&\n\t\teditor.isShapeOfType(onlyShape, EmbedShapeUtil) &&\n\t\tshouldDisplayBox &&\n\t\tIS_FIREFOX\n\t) {\n\t\tshouldDisplayBox = false\n\t}\n\n\tconst showCropHandles =\n\t\teditor.isInAny(\n\t\t\t'select.pointing_crop_handle',\n\t\t\t'select.crop.idle',\n\t\t\t'select.crop.pointing_crop'\n\t\t) &&\n\t\t!isChangingStyles &&\n\t\t!isReadonlyMode\n\n\tconst shouldDisplayControls =\n\t\teditor.isInAny(\n\t\t\t'select.idle',\n\t\t\t'select.pointing_selection',\n\t\t\t'select.pointing_shape',\n\t\t\t'select.crop.idle'\n\t\t) &&\n\t\t!isChangingStyles &&\n\t\t!isReadonlyMode\n\n\tconst showCornerRotateHandles =\n\t\t!isCoarsePointer &&\n\t\t!(isTinyX || isTinyY) &&\n\t\t(shouldDisplayControls || showCropHandles) &&\n\t\t(onlyShape ? !editor.getShapeUtil(onlyShape).hideRotateHandle(onlyShape) : true) &&\n\t\t!isLockedShape\n\n\tconst showMobileRotateHandle =\n\t\tisCoarsePointer &&\n\t\t(!isSmallX || !isSmallY) &&\n\t\t(shouldDisplayControls || showCropHandles) &&\n\t\t(onlyShape ? !editor.getShapeUtil(onlyShape).hideRotateHandle(onlyShape) : true) &&\n\t\t!isLockedShape\n\n\tconst showResizeHandles =\n\t\tshouldDisplayControls &&\n\t\t(onlyShape\n\t\t\t? editor.getShapeUtil(onlyShape).canResize(onlyShape) &&\n\t\t\t  !editor.getShapeUtil(onlyShape).hideResizeHandles(onlyShape)\n\t\t\t: true) &&\n\t\t!showCropHandles &&\n\t\t!isLockedShape\n\n\tconst hideAlternateCornerHandles = isTinyX || isTinyY\n\tconst showOnlyOneHandle = isTinyX && isTinyY\n\tconst hideAlternateCropHandles = isSmallCropX || isSmallCropY\n\n\tconst showHandles = showResizeHandles || showCropHandles\n\tconst hideRotateCornerHandles = !showCornerRotateHandles\n\tconst hideMobileRotateHandle = !shouldDisplayControls || !showMobileRotateHandle\n\tconst hideTopLeftCorner = !shouldDisplayControls || !showHandles\n\tconst hideTopRightCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles\n\tconst hideBottomLeftCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles\n\tconst hideBottomRightCorner =\n\t\t!shouldDisplayControls || !showHandles || (showOnlyOneHandle && !showCropHandles)\n\n\tlet hideEdgeTargetsDueToCoarsePointer = isCoarsePointer\n\n\tif (\n\t\thideEdgeTargetsDueToCoarsePointer &&\n\t\tshapes.every((shape) => editor.getShapeUtil(shape).isAspectRatioLocked(shape))\n\t) {\n\t\thideEdgeTargetsDueToCoarsePointer = false\n\t}\n\n\t// If we're showing crop handles, then show the edges too.\n\t// If we're showing resize handles, then show the edges only\n\t// if we're not hiding them for some other reason\n\tlet hideEdgeTargets = true\n\n\tif (showCropHandles) {\n\t\thideEdgeTargets = hideAlternateCropHandles\n\t} else if (showResizeHandles) {\n\t\thideEdgeTargets =\n\t\t\thideAlternateCornerHandles || showOnlyOneHandle || hideEdgeTargetsDueToCoarsePointer\n\t}\n\n\tconst textHandleHeight = Math.min(24 / zoom, height - targetSizeY * 3)\n\tconst showTextResizeHandles =\n\t\tshouldDisplayControls &&\n\t\tisCoarsePointer &&\n\t\tonlyShape &&\n\t\teditor.isShapeOfType(onlyShape, TextShapeUtil) &&\n\t\ttextHandleHeight * zoom >= 4\n\n\treturn (\n\t\t<svg\n\t\t\tref={rSvg}\n\t\t\tclassName=\"tl-overlays__item tl-selection__fg\"\n\t\t\tdata-testid=\"selection-foreground\"\n\t\t>\n\t\t\t{shouldDisplayBox && (\n\t\t\t\t<rect\n\t\t\t\t\tclassName={classNames('tl-selection__fg__outline')}\n\t\t\t\t\twidth={toDomPrecision(width)}\n\t\t\t\t\theight={toDomPrecision(height)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<RotateCornerHandle\n\t\t\t\tdata-testid=\"selection.rotate.top-left\"\n\t\t\t\tcx={0}\n\t\t\t\tcy={0}\n\t\t\t\ttargetSize={targetSize}\n\t\t\t\tcorner=\"top_left_rotate\"\n\t\t\t\tcursor={isDefaultCursor ? getCursor('nwse-rotate', rotation) : undefined}\n\t\t\t\tisHidden={hideRotateCornerHandles}\n\t\t\t/>\n\t\t\t<RotateCornerHandle\n\t\t\t\tdata-testid=\"selection.rotate.top-right\"\n\t\t\t\tcx={width + targetSize * 3}\n\t\t\t\tcy={0}\n\t\t\t\ttargetSize={targetSize}\n\t\t\t\tcorner=\"top_right_rotate\"\n\t\t\t\tcursor={isDefaultCursor ? getCursor('nesw-rotate', rotation) : undefined}\n\t\t\t\tisHidden={hideRotateCornerHandles}\n\t\t\t/>\n\t\t\t<RotateCornerHandle\n\t\t\t\tdata-testid=\"selection.rotate.bottom-left\"\n\t\t\t\tcx={0}\n\t\t\t\tcy={height + targetSize * 3}\n\t\t\t\ttargetSize={targetSize}\n\t\t\t\tcorner=\"bottom_left_rotate\"\n\t\t\t\tcursor={isDefaultCursor ? getCursor('swne-rotate', rotation) : undefined}\n\t\t\t\tisHidden={hideRotateCornerHandles}\n\t\t\t/>\n\t\t\t<RotateCornerHandle\n\t\t\t\tdata-testid=\"selection.rotate.bottom-right\"\n\t\t\t\tcx={width + targetSize * 3}\n\t\t\t\tcy={height + targetSize * 3}\n\t\t\t\ttargetSize={targetSize}\n\t\t\t\tcorner=\"bottom_right_rotate\"\n\t\t\t\tcursor={isDefaultCursor ? getCursor('senw-rotate', rotation) : undefined}\n\t\t\t\tisHidden={hideRotateCornerHandles}\n\t\t\t/>{' '}\n\t\t\t<MobileRotateHandle\n\t\t\t\tdata-testid=\"selection.rotate.mobile\"\n\t\t\t\tcx={isSmallX ? -targetSize * 1.5 : width / 2}\n\t\t\t\tcy={isSmallX ? height / 2 : -targetSize * 1.5}\n\t\t\t\tsize={size}\n\t\t\t\tisHidden={hideMobileRotateHandle}\n\t\t\t/>\n\t\t\t{/* Targets */}\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideEdgeTargets,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.resize.top\"\n\t\t\t\taria-label=\"top target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={0}\n\t\t\t\ty={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY))}\n\t\t\t\twidth={toDomPrecision(Math.max(1, width))}\n\t\t\t\theight={toDomPrecision(Math.max(1, targetSizeY * 2))}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('ns-resize', rotation) } : undefined}\n\t\t\t\t{...topEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideEdgeTargets,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.resize.right\"\n\t\t\t\taria-label=\"right target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(width - (isSmallX ? 0 : targetSizeX))}\n\t\t\t\ty={0}\n\t\t\t\theight={toDomPrecision(Math.max(1, height))}\n\t\t\t\twidth={toDomPrecision(Math.max(1, targetSizeX * 2))}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('ew-resize', rotation) } : undefined}\n\t\t\t\t{...rightEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideEdgeTargets,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.resize.bottom\"\n\t\t\t\taria-label=\"bottom target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={0}\n\t\t\t\ty={toDomPrecision(height - (isSmallY ? 0 : targetSizeY))}\n\t\t\t\twidth={toDomPrecision(Math.max(1, width))}\n\t\t\t\theight={toDomPrecision(Math.max(1, targetSizeY * 2))}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('ns-resize', rotation) } : undefined}\n\t\t\t\t{...bottomEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideEdgeTargets,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.resize.left\"\n\t\t\t\taria-label=\"left target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX))}\n\t\t\t\ty={0}\n\t\t\t\theight={toDomPrecision(Math.max(1, height))}\n\t\t\t\twidth={toDomPrecision(Math.max(1, targetSizeX * 2))}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('ew-resize', rotation) } : undefined}\n\t\t\t\t{...leftEvents}\n\t\t\t/>\n\t\t\t{/* Corner Targets */}\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideTopLeftCorner,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.target.top-left\"\n\t\t\t\taria-label=\"top-left target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX * 1.5))}\n\t\t\t\ty={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5))}\n\t\t\t\twidth={toDomPrecision(targetSizeX * 3)}\n\t\t\t\theight={toDomPrecision(targetSizeY * 3)}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('nwse-resize', rotation) } : undefined}\n\t\t\t\t{...topLeftEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideTopRightCorner,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.target.top-right\"\n\t\t\t\taria-label=\"top-right target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(width - (isSmallX ? 0 : targetSizeX * 1.5))}\n\t\t\t\ty={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5))}\n\t\t\t\twidth={toDomPrecision(targetSizeX * 3)}\n\t\t\t\theight={toDomPrecision(targetSizeY * 3)}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('nesw-resize', rotation) } : undefined}\n\t\t\t\t{...topRightEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideBottomRightCorner,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.target.bottom-right\"\n\t\t\t\taria-label=\"bottom-right target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(width - (isSmallX ? targetSizeX : targetSizeX * 1.5))}\n\t\t\t\ty={toDomPrecision(height - (isSmallY ? targetSizeY : targetSizeY * 1.5))}\n\t\t\t\twidth={toDomPrecision(targetSizeX * 3)}\n\t\t\t\theight={toDomPrecision(targetSizeY * 3)}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('nwse-resize', rotation) } : undefined}\n\t\t\t\t{...bottomRightEvents}\n\t\t\t/>\n\t\t\t<rect\n\t\t\t\tclassName={classNames('tl-transparent', {\n\t\t\t\t\t'tl-hidden': hideBottomLeftCorner,\n\t\t\t\t})}\n\t\t\t\tdata-testid=\"selection.target.bottom-left\"\n\t\t\t\taria-label=\"bottom-left target\"\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tx={toDomPrecision(0 - (isSmallX ? targetSizeX * 3 : targetSizeX * 1.5))}\n\t\t\t\ty={toDomPrecision(height - (isSmallY ? 0 : targetSizeY * 1.5))}\n\t\t\t\twidth={toDomPrecision(targetSizeX * 3)}\n\t\t\t\theight={toDomPrecision(targetSizeY * 3)}\n\t\t\t\tstyle={isDefaultCursor ? { cursor: getCursor('nesw-resize', rotation) } : undefined}\n\t\t\t\t{...bottomLeftEvents}\n\t\t\t/>\n\t\t\t{/* Resize Handles */}\n\t\t\t{showResizeHandles && (\n\t\t\t\t<>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.resize.top-left\"\n\t\t\t\t\t\tclassName={classNames('tl-corner-handle', {\n\t\t\t\t\t\t\t'tl-hidden': hideTopLeftCorner,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\taria-label=\"top_left handle\"\n\t\t\t\t\t\tx={toDomPrecision(0 - size / 2)}\n\t\t\t\t\t\ty={toDomPrecision(0 - size / 2)}\n\t\t\t\t\t\twidth={toDomPrecision(size)}\n\t\t\t\t\t\theight={toDomPrecision(size)}\n\t\t\t\t\t/>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.resize.top-right\"\n\t\t\t\t\t\tclassName={classNames('tl-corner-handle', {\n\t\t\t\t\t\t\t'tl-hidden': hideTopRightCorner,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\taria-label=\"top_right handle\"\n\t\t\t\t\t\tx={toDomPrecision(width - size / 2)}\n\t\t\t\t\t\ty={toDomPrecision(0 - size / 2)}\n\t\t\t\t\t\twidth={toDomPrecision(size)}\n\t\t\t\t\t\theight={toDomPrecision(size)}\n\t\t\t\t\t/>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.resize.bottom-right\"\n\t\t\t\t\t\tclassName={classNames('tl-corner-handle', {\n\t\t\t\t\t\t\t'tl-hidden': hideBottomRightCorner,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\taria-label=\"bottom_right handle\"\n\t\t\t\t\t\tx={toDomPrecision(width - size / 2)}\n\t\t\t\t\t\ty={toDomPrecision(height - size / 2)}\n\t\t\t\t\t\twidth={toDomPrecision(size)}\n\t\t\t\t\t\theight={toDomPrecision(size)}\n\t\t\t\t\t/>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.resize.bottom-left\"\n\t\t\t\t\t\tclassName={classNames('tl-corner-handle', {\n\t\t\t\t\t\t\t'tl-hidden': hideBottomLeftCorner,\n\t\t\t\t\t\t})}\n\t\t\t\t\t\taria-label=\"bottom_left handle\"\n\t\t\t\t\t\tx={toDomPrecision(0 - size / 2)}\n\t\t\t\t\t\ty={toDomPrecision(height - size / 2)}\n\t\t\t\t\t\twidth={toDomPrecision(size)}\n\t\t\t\t\t\theight={toDomPrecision(size)}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{showTextResizeHandles && (\n\t\t\t\t<>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.text-resize.left.handle\"\n\t\t\t\t\t\tclassName=\"tl-text-handle\"\n\t\t\t\t\t\taria-label=\"bottom_left handle\"\n\t\t\t\t\t\tx={toDomPrecision(0 - size / 4)}\n\t\t\t\t\t\ty={toDomPrecision(height / 2 - textHandleHeight / 2)}\n\t\t\t\t\t\trx={size / 4}\n\t\t\t\t\t\twidth={toDomPrecision(size / 2)}\n\t\t\t\t\t\theight={toDomPrecision(textHandleHeight)}\n\t\t\t\t\t/>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tdata-testid=\"selection.text-resize.right.handle\"\n\t\t\t\t\t\tclassName=\"tl-text-handle\"\n\t\t\t\t\t\taria-label=\"bottom_left handle\"\n\t\t\t\t\t\trx={size / 4}\n\t\t\t\t\t\tx={toDomPrecision(width - size / 4)}\n\t\t\t\t\t\ty={toDomPrecision(height / 2 - textHandleHeight / 2)}\n\t\t\t\t\t\twidth={toDomPrecision(size / 2)}\n\t\t\t\t\t\theight={toDomPrecision(textHandleHeight)}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{/* Crop Handles */}\n\t\t\t{showCropHandles && (\n\t\t\t\t<CropHandles\n\t\t\t\t\t{...{\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight,\n\t\t\t\t\t\thideAlternateHandles: hideAlternateCropHandles,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</svg>\n\t)\n})\n\nexport const RotateCornerHandle = function RotateCornerHandle({\n\tcx,\n\tcy,\n\ttargetSize,\n\tcorner,\n\tcursor,\n\tisHidden,\n\t'data-testid': testId,\n}: {\n\tcx: number\n\tcy: number\n\ttargetSize: number\n\tcorner: RotateCorner\n\tcursor?: string\n\tisHidden: boolean\n\t'data-testid'?: string\n}) {\n\tconst events = useSelectionEvents(corner)\n\treturn (\n\t\t<rect\n\t\t\tclassName={classNames('tl-transparent', 'tl-rotate-corner', { 'tl-hidden': isHidden })}\n\t\t\tdata-testid={testId}\n\t\t\taria-label={`${corner} target`}\n\t\t\tpointerEvents=\"all\"\n\t\t\tx={toDomPrecision(cx - targetSize * 3)}\n\t\t\ty={toDomPrecision(cy - targetSize * 3)}\n\t\t\twidth={toDomPrecision(Math.max(1, targetSize * 3))}\n\t\t\theight={toDomPrecision(Math.max(1, targetSize * 3))}\n\t\t\tcursor={cursor}\n\t\t\t{...events}\n\t\t/>\n\t)\n}\n\nconst SQUARE_ROOT_PI = Math.sqrt(Math.PI)\n\nexport const MobileRotateHandle = function RotateHandle({\n\tcx,\n\tcy,\n\tsize,\n\tisHidden,\n\t'data-testid': testId,\n}: {\n\tcx: number\n\tcy: number\n\tsize: number\n\tisHidden: boolean\n\t'data-testid'?: string\n}) {\n\tconst events = useSelectionEvents('mobile_rotate')\n\n\treturn (\n\t\t<g>\n\t\t\t<circle\n\t\t\t\tdata-testid={testId}\n\t\t\t\tpointerEvents=\"all\"\n\t\t\t\tclassName={classNames('tl-transparent', 'tl-mobile-rotate__bg', { 'tl-hidden': isHidden })}\n\t\t\t\tcx={cx}\n\t\t\t\tcy={cy}\n\t\t\t\t{...events}\n\t\t\t/>\n\t\t\t<circle\n\t\t\t\tclassName={classNames('tl-mobile-rotate__fg', { 'tl-hidden': isHidden })}\n\t\t\t\tcx={cx}\n\t\t\t\tcy={cy}\n\t\t\t\tr={size / SQUARE_ROOT_PI}\n\t\t\t/>\n\t\t</g>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}