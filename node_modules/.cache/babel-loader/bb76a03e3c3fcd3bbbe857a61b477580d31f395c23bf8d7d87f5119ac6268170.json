{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { BaseSpline2d } from \"./BaseSpline2d.mjs\";\nimport { CubicSegment2d } from \"./CubicSegment2d.mjs\";\nimport { Vec2d } from \"./Vec2d.mjs\";\nvar CubicSpline2d = /*#__PURE__*/function (_BaseSpline2d) {\n  _inherits(CubicSpline2d, _BaseSpline2d);\n  var _super = _createSuper(CubicSpline2d);\n  function CubicSpline2d(points) {\n    var _this;\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.2;\n    var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n    _classCallCheck(this, CubicSpline2d);\n    _this = _super.call(this, points, k, p);\n    _defineProperty(_assertThisInitialized(_this), \"segments\", void 0);\n    _this.segments = _this.getSegmentsFromPoints(points, k, p);\n    return _this;\n  }\n  _createClass(CubicSpline2d, [{\n    key: \"getSegmentsFromPoints\",\n    value: function getSegmentsFromPoints(points) {\n      var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.25;\n      var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n      var len = points.length;\n      var last = len - 2;\n      var results = [];\n      for (var i = 0; i < len - 1; i++) {\n        var p0 = i === 0 ? points[0] : points[i - 1];\n        var p1 = points[i];\n        var p2 = points[i + 1];\n        var p3 = i === last ? p2 : points[i + 2];\n        results.push(new CubicSegment2d(p1, i === 0 ? p0 : new Vec2d(p1.x + (p2.x - p0.x) / 6 * k, p1.y + (p2.y - p0.y) / 6 * k), i === last ? p2 : new Vec2d(p2.x - (p3.x - p1.x) / 6 * k, p2.y - (p3.y - p1.y) / 6 * k), p2, p));\n      }\n      return results;\n    }\n  }], [{\n    key: \"FromPoints\",\n    value: function FromPoints(points) {\n      return new CubicSpline2d(points);\n    }\n  }]);\n  return CubicSpline2d;\n}(BaseSpline2d);\nexport { CubicSpline2d };","map":{"version":3,"names":["BaseSpline2d","CubicSegment2d","Vec2d","CubicSpline2d","_BaseSpline2d","_inherits","_super","_createSuper","points","_this","k","arguments","length","undefined","p","_classCallCheck","call","_defineProperty","_assertThisInitialized","segments","getSegmentsFromPoints","_createClass","key","value","len","last","results","i","p0","p1","p2","p3","push","x","y","FromPoints"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/primitives/src/lib/CubicSpline2d.ts"],"sourcesContent":["import { BaseSpline2d } from './BaseSpline2d'\nimport { CubicSegment2d, CubicSegment2dModel } from './CubicSegment2d'\nimport { Vec2d, VecLike } from './Vec2d'\n\n/** @public */\nexport class CubicSpline2d extends BaseSpline2d<CubicSegment2dModel> {\n\tconstructor(points: VecLike[], k = 1.2, p = 20) {\n\t\tsuper(points, k, p)\n\t\tthis.segments = this.getSegmentsFromPoints(points, k, p)\n\t}\n\n\tsegments: CubicSegment2d[]\n\n\tgetSegmentsFromPoints(points: VecLike[], k = 1.25, p = 20) {\n\t\tconst len = points.length\n\t\tconst last = len - 2\n\t\tconst results: CubicSegment2d[] = []\n\n\t\tfor (let i = 0; i < len - 1; i++) {\n\t\t\tconst p0 = i === 0 ? points[0] : points[i - 1]\n\t\t\tconst p1 = points[i]\n\t\t\tconst p2 = points[i + 1]\n\t\t\tconst p3 = i === last ? p2 : points[i + 2]\n\n\t\t\tresults.push(\n\t\t\t\tnew CubicSegment2d(\n\t\t\t\t\tp1,\n\t\t\t\t\ti === 0 ? p0 : new Vec2d(p1.x + ((p2.x - p0.x) / 6) * k, p1.y + ((p2.y - p0.y) / 6) * k),\n\t\t\t\t\ti === last\n\t\t\t\t\t\t? p2\n\t\t\t\t\t\t: new Vec2d(p2.x - ((p3.x - p1.x) / 6) * k, p2.y - ((p3.y - p1.y) / 6) * k),\n\t\t\t\t\tp2,\n\t\t\t\t\tp\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\treturn results\n\t}\n\n\tstatic FromPoints(points: Vec2d[]) {\n\t\treturn new CubicSpline2d(points)\n\t}\n}\n"],"mappings":";;;;;;AAAA,SAASA,YAAA,QAAoB;AAC7B,SAASC,cAAA,QAA2C;AACpD,SAASC,KAAA,QAAsB;AAAA,IAGlBC,aAAA,0BAAAC,aAAA;EAAAC,SAAA,CAAAF,aAAA,EAAAC,aAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,aAAA;EACZ,SAAAA,cAAYK,MAAA,EAAoC;IAAA,IAAAC,KAAA;IAAA,IAAjBC,CAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAI;IAAA,IAAKG,CAAA,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAI;IAAAI,eAAA,OAAAZ,aAAA;IAC3CM,KAAA,GAAAH,MAAA,CAAAU,IAAA,OAAMR,MAAA,EAAQE,CAAA,EAAGI,CAAC;IAAAG,eAAA,CAAAC,sBAAA,CAAAT,KAAA;IAClBA,KAAA,CAAKU,QAAA,GAAWV,KAAA,CAAKW,qBAAA,CAAsBZ,MAAA,EAAQE,CAAA,EAAGI,CAAC;IAAA,OAAAL,KAAA;EACxD;EAAAY,YAAA,CAAAlB,aAAA;IAAAmB,GAAA;IAAAC,KAAA,EAIA,SAAAH,sBAAsBZ,MAAA,EAAqC;MAAA,IAAlBE,CAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAI;MAAA,IAAMG,CAAA,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAI;MACtD,IAAMa,GAAA,GAAMhB,MAAA,CAAOI,MAAA;MACnB,IAAMa,IAAA,GAAOD,GAAA,GAAM;MACnB,IAAME,OAAA,GAA4B,EAAC;MAEnC,SAASC,CAAA,GAAI,GAAGA,CAAA,GAAIH,GAAA,GAAM,GAAGG,CAAA,IAAK;QACjC,IAAMC,EAAA,GAAKD,CAAA,KAAM,IAAInB,MAAA,CAAO,CAAC,IAAIA,MAAA,CAAOmB,CAAA,GAAI,CAAC;QAC7C,IAAME,EAAA,GAAKrB,MAAA,CAAOmB,CAAC;QACnB,IAAMG,EAAA,GAAKtB,MAAA,CAAOmB,CAAA,GAAI,CAAC;QACvB,IAAMI,EAAA,GAAKJ,CAAA,KAAMF,IAAA,GAAOK,EAAA,GAAKtB,MAAA,CAAOmB,CAAA,GAAI,CAAC;QAEzCD,OAAA,CAAQM,IAAA,CACP,IAAI/B,cAAA,CACH4B,EAAA,EACAF,CAAA,KAAM,IAAIC,EAAA,GAAK,IAAI1B,KAAA,CAAM2B,EAAA,CAAGI,CAAA,IAAMH,EAAA,CAAGG,CAAA,GAAIL,EAAA,CAAGK,CAAA,IAAK,IAAKvB,CAAA,EAAGmB,EAAA,CAAGK,CAAA,IAAMJ,EAAA,CAAGI,CAAA,GAAIN,EAAA,CAAGM,CAAA,IAAK,IAAKxB,CAAC,GACvFiB,CAAA,KAAMF,IAAA,GACHK,EAAA,GACA,IAAI5B,KAAA,CAAM4B,EAAA,CAAGG,CAAA,IAAMF,EAAA,CAAGE,CAAA,GAAIJ,EAAA,CAAGI,CAAA,IAAK,IAAKvB,CAAA,EAAGoB,EAAA,CAAGI,CAAA,IAAMH,EAAA,CAAGG,CAAA,GAAIL,EAAA,CAAGK,CAAA,IAAK,IAAKxB,CAAC,GAC3EoB,EAAA,EACAhB,CACD,CACD;MACD;MAEA,OAAOY,OAAA;IACR;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAEA,SAAAY,WAAkB3B,MAAA,EAAiB;MAClC,OAAO,IAAIL,aAAA,CAAcK,MAAM;IAChC;EAAA;EAAA,OAAAL,aAAA;AAAA,EArCkCH,YAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}