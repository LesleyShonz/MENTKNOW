{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/* global requestIdleCallback, requestAnimationFrame, cancelIdleCallback, cancelAnimationFrame */\n\n/**\n * Utility module to work with EcmaScript's event loop.\n *\n * @module eventloop\n */\n\n/**\n * @type {Array<function>}\n */\nvar queue = [];\nvar _runQueue = function _runQueue() {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue = [];\n};\n\n/**\n * @param {function():void} f\n */\nexport var enqueue = function enqueue(f) {\n  queue.push(f);\n  if (queue.length === 1) {\n    setTimeout(_runQueue, 0);\n  }\n};\n\n/**\n * @typedef {Object} TimeoutObject\n * @property {function} TimeoutObject.destroy\n */\n\n/**\n * @param {function(number):void} clearFunction\n */\nvar createTimeoutClass = function createTimeoutClass(clearFunction) {\n  return /*#__PURE__*/function () {\n    /**\n     * @param {number} timeoutId\n     */\n    function TT(timeoutId) {\n      _classCallCheck(this, TT);\n      this._ = timeoutId;\n    }\n    _createClass(TT, [{\n      key: \"destroy\",\n      value: function destroy() {\n        clearFunction(this._);\n      }\n    }]);\n    return TT;\n  }();\n};\nvar Timeout = createTimeoutClass(clearTimeout);\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport var timeout = function timeout(_timeout, callback) {\n  return new Timeout(setTimeout(callback, _timeout));\n};\nvar Interval = createTimeoutClass(clearInterval);\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport var interval = function interval(timeout, callback) {\n  return new Interval(setInterval(callback, timeout));\n};\n\n/* c8 ignore next */\nexport var Animation = createTimeoutClass(function (arg) {\n  return typeof requestAnimationFrame !== 'undefined' && cancelAnimationFrame(arg);\n});\n\n/**\n * @param {function(number):void} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next */\nexport var animationFrame = function animationFrame(cb) {\n  return typeof requestAnimationFrame === 'undefined' ? timeout(0, cb) : new Animation(requestAnimationFrame(cb));\n};\n\n/* c8 ignore next */\n// @ts-ignore\nvar Idle = createTimeoutClass(function (arg) {\n  return typeof cancelIdleCallback !== 'undefined' && cancelIdleCallback(arg);\n});\n\n/**\n * Note: this is experimental and is probably only useful in browsers.\n *\n * @param {function} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next 2 */\n// @ts-ignore\nexport var idleCallback = function idleCallback(cb) {\n  return typeof requestIdleCallback !== 'undefined' ? new Idle(requestIdleCallback(cb)) : timeout(1000, cb);\n};\n\n/**\n * @param {number} timeout Timeout of the debounce action\n * @return {function(function():void):void}\n */\nexport var createDebouncer = function createDebouncer(timeout) {\n  var timer = -1;\n  return function (f) {\n    clearTimeout(timer);\n    if (f) {\n      timer = /** @type {any} */setTimeout(f, timeout);\n    }\n  };\n};","map":{"version":3,"names":["queue","_runQueue","i","length","enqueue","f","push","setTimeout","createTimeoutClass","clearFunction","TT","timeoutId","_classCallCheck","_","_createClass","key","value","destroy","Timeout","clearTimeout","timeout","callback","Interval","clearInterval","interval","setInterval","Animation","arg","requestAnimationFrame","cancelAnimationFrame","animationFrame","cb","Idle","cancelIdleCallback","idleCallback","requestIdleCallback","createDebouncer","timer"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/lib0/eventloop.js"],"sourcesContent":["/* global requestIdleCallback, requestAnimationFrame, cancelIdleCallback, cancelAnimationFrame */\n\n/**\n * Utility module to work with EcmaScript's event loop.\n *\n * @module eventloop\n */\n\n/**\n * @type {Array<function>}\n */\nlet queue = []\n\nconst _runQueue = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]()\n  }\n  queue = []\n}\n\n/**\n * @param {function():void} f\n */\nexport const enqueue = f => {\n  queue.push(f)\n  if (queue.length === 1) {\n    setTimeout(_runQueue, 0)\n  }\n}\n\n/**\n * @typedef {Object} TimeoutObject\n * @property {function} TimeoutObject.destroy\n */\n\n/**\n * @param {function(number):void} clearFunction\n */\nconst createTimeoutClass = clearFunction => class TT {\n  /**\n   * @param {number} timeoutId\n   */\n  constructor (timeoutId) {\n    this._ = timeoutId\n  }\n\n  destroy () {\n    clearFunction(this._)\n  }\n}\n\nconst Timeout = createTimeoutClass(clearTimeout)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const timeout = (timeout, callback) => new Timeout(setTimeout(callback, timeout))\n\nconst Interval = createTimeoutClass(clearInterval)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const interval = (timeout, callback) => new Interval(setInterval(callback, timeout))\n\n/* c8 ignore next */\nexport const Animation = createTimeoutClass(arg => typeof requestAnimationFrame !== 'undefined' && cancelAnimationFrame(arg))\n\n/**\n * @param {function(number):void} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next */\nexport const animationFrame = cb => typeof requestAnimationFrame === 'undefined' ? timeout(0, cb) : new Animation(requestAnimationFrame(cb))\n\n/* c8 ignore next */\n// @ts-ignore\nconst Idle = createTimeoutClass(arg => typeof cancelIdleCallback !== 'undefined' && cancelIdleCallback(arg))\n\n/**\n * Note: this is experimental and is probably only useful in browsers.\n *\n * @param {function} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next 2 */\n// @ts-ignore\nexport const idleCallback = cb => typeof requestIdleCallback !== 'undefined' ? new Idle(requestIdleCallback(cb)) : timeout(1000, cb)\n\n/**\n * @param {number} timeout Timeout of the debounce action\n * @return {function(function():void):void}\n */\nexport const createDebouncer = timeout => {\n  let timer = -1\n  return f => {\n    clearTimeout(timer)\n    if (f) {\n      timer = /** @type {any} */ (setTimeout(f, timeout))\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}