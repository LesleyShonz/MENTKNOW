{"ast":null,"code":"import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as DropdownMenu from \"@radix-ui/react-dropdown-menu\";\nimport { MAX_PAGES, PageRecordType, useEditor } from \"@tldraw/editor\";\nimport { useCallback } from \"react\";\nimport { track } from \"signia-react\";\nimport { useTranslation } from \"../../hooks/useTranslation/useTranslation.mjs\";\nimport { Button } from \"../primitives/Button.mjs\";\nimport * as M from \"../primitives/DropdownMenu.mjs\";\nimport { onMovePage } from \"./edit-pages-shared.mjs\";\nvar PageItemSubmenu = track(function PageItemSubmenu2(_ref) {\n  var index = _ref.index,\n    listSize = _ref.listSize,\n    item = _ref.item,\n    onRename = _ref.onRename;\n  var editor = useEditor();\n  var msg = useTranslation();\n  var pages = editor.pages;\n  var onDuplicate = useCallback(function () {\n    editor.mark(\"creating page\");\n    var newId = PageRecordType.createId();\n    editor.duplicatePage(item.id, newId);\n  }, [editor, item]);\n  var onMoveUp = useCallback(function () {\n    onMovePage(editor, item.id, index, index - 1);\n  }, [editor, item, index]);\n  var onMoveDown = useCallback(function () {\n    onMovePage(editor, item.id, index, index + 1);\n  }, [editor, item, index]);\n  var onDelete = useCallback(function () {\n    editor.mark(\"deleting page\");\n    editor.deletePage(item.id);\n  }, [editor, item]);\n  return /* @__PURE__ */jsxs(M.Root, {\n    id: \"page item submenu \".concat(index),\n    children: [/* @__PURE__ */jsx(M.Trigger, {\n      children: /* @__PURE__ */jsx(Button, {\n        title: msg(\"page-menu.submenu.title\"),\n        icon: \"dots-vertical\"\n      })\n    }), /* @__PURE__ */jsxs(M.Content, {\n      alignOffset: 0,\n      children: [/* @__PURE__ */jsxs(M.Group, {\n        children: [onRename && /* @__PURE__ */jsx(DropdownMenu.Item, {\n          dir: \"ltr\",\n          onSelect: onRename,\n          asChild: true,\n          children: /* @__PURE__ */jsx(Button, {\n            className: \"tlui-menu__button\",\n            label: \"page-menu.submenu.rename\"\n          })\n        }), /* @__PURE__ */jsx(DropdownMenu.Item, {\n          dir: \"ltr\",\n          onSelect: onDuplicate,\n          disabled: pages.length >= MAX_PAGES,\n          asChild: true,\n          children: /* @__PURE__ */jsx(Button, {\n            className: \"tlui-menu__button\",\n            label: \"page-menu.submenu.duplicate-page\"\n          })\n        }), index > 0 && /* @__PURE__ */jsx(DropdownMenu.Item, {\n          dir: \"ltr\",\n          onSelect: onMoveUp,\n          asChild: true,\n          children: /* @__PURE__ */jsx(Button, {\n            className: \"tlui-menu__button\",\n            label: \"page-menu.submenu.move-up\"\n          })\n        }), index < listSize - 1 && /* @__PURE__ */jsx(DropdownMenu.Item, {\n          dir: \"ltr\",\n          onSelect: onMoveDown,\n          asChild: true,\n          children: /* @__PURE__ */jsx(Button, {\n            className: \"tlui-menu__button\",\n            label: \"page-menu.submenu.move-down\"\n          })\n        })]\n      }), listSize > 1 && /* @__PURE__ */jsx(M.Group, {\n        children: /* @__PURE__ */jsx(DropdownMenu.Item, {\n          dir: \"ltr\",\n          onSelect: onDelete,\n          asChild: true,\n          children: /* @__PURE__ */jsx(Button, {\n            className: \"tlui-menu__button\",\n            label: \"page-menu.submenu.delete\"\n          })\n        })\n      })]\n    })]\n  });\n});\nexport { PageItemSubmenu };","map":{"version":3,"names":["jsx","jsxs","DropdownMenu","MAX_PAGES","PageRecordType","useEditor","useCallback","track","useTranslation","Button","M","onMovePage","PageItemSubmenu","PageItemSubmenu2","_ref","index","listSize","item","onRename","editor","msg","pages","onDuplicate","mark","newId","createId","duplicatePage","id","onMoveUp","onMoveDown","onDelete","deletePage","Root","concat","children","Trigger","title","icon","Content","alignOffset","Group","Item","dir","onSelect","asChild","className","label","disabled","length"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/ui/src/lib/components/PageMenu/PageItemSubmenu.tsx"],"sourcesContent":["import * as DropdownMenu from '@radix-ui/react-dropdown-menu'\nimport { MAX_PAGES, PageRecordType, TLPageId, useEditor } from '@tldraw/editor'\nimport { useCallback } from 'react'\nimport { track } from 'signia-react'\nimport { useTranslation } from '../../hooks/useTranslation/useTranslation'\nimport { Button } from '../primitives/Button'\nimport * as M from '../primitives/DropdownMenu'\nimport { onMovePage } from './edit-pages-shared'\n\nexport interface PageItemSubmenuProps {\n\tindex: number\n\titem: { id: string; name: string }\n\tlistSize: number\n\tonRename?: () => void\n}\n\nexport const PageItemSubmenu = track(function PageItemSubmenu({\n\tindex,\n\tlistSize,\n\titem,\n\tonRename,\n}: PageItemSubmenuProps) {\n\tconst editor = useEditor()\n\tconst msg = useTranslation()\n\tconst pages = editor.pages\n\n\tconst onDuplicate = useCallback(() => {\n\t\teditor.mark('creating page')\n\t\tconst newId = PageRecordType.createId()\n\t\teditor.duplicatePage(item.id as TLPageId, newId)\n\t}, [editor, item])\n\n\tconst onMoveUp = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index - 1)\n\t}, [editor, item, index])\n\n\tconst onMoveDown = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index + 1)\n\t}, [editor, item, index])\n\n\tconst onDelete = useCallback(() => {\n\t\teditor.mark('deleting page')\n\t\teditor.deletePage(item.id as TLPageId)\n\t}, [editor, item])\n\n\treturn (\n\t\t<M.Root id={`page item submenu ${index}`}>\n\t\t\t<M.Trigger>\n\t\t\t\t<Button title={msg('page-menu.submenu.title')} icon=\"dots-vertical\" />\n\t\t\t</M.Trigger>\n\t\t\t<M.Content alignOffset={0}>\n\t\t\t\t<M.Group>\n\t\t\t\t\t{onRename && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onRename} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.rename\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\t\tonSelect={onDuplicate}\n\t\t\t\t\t\tdisabled={pages.length >= MAX_PAGES}\n\t\t\t\t\t\tasChild\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.duplicate-page\" />\n\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t{index > 0 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveUp} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.move-up\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t{index < listSize - 1 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveDown} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.move-down\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t</M.Group>\n\t\t\t\t{listSize > 1 && (\n\t\t\t\t\t<M.Group>\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onDelete} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.delete\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t</M.Group>\n\t\t\t\t)}\n\t\t\t</M.Content>\n\t\t</M.Root>\n\t)\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}