{"ast":null,"code":"import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { useValue } from \"signia-react\";\nimport { HASH_PATERN_ZOOM_NAMES } from \"../../../constants.mjs\";\nimport { useEditor } from \"../../../hooks/useEditor.mjs\";\nvar ShapeFill = React.memo(function ShapeFill2(_ref) {\n  var d = _ref.d,\n    color = _ref.color,\n    fill = _ref.fill;\n  switch (fill) {\n    case \"none\":\n      {\n        return /* @__PURE__ */jsx(\"path\", {\n          className: \"tl-hitarea-stroke\",\n          fill: \"none\",\n          d: d\n        });\n      }\n    case \"solid\":\n      {\n        return /* @__PURE__ */jsx(\"path\", {\n          className: \"tl-hitarea-fill-solid\",\n          fill: \"var(--palette-\".concat(color, \"-semi)\"),\n          d: d\n        });\n      }\n    case \"semi\":\n      {\n        return /* @__PURE__ */jsx(\"path\", {\n          className: \"tl-hitarea-fill-solid\",\n          fill: \"var(--palette-solid)\",\n          d: d\n        });\n      }\n    case \"pattern\":\n      {\n        return /* @__PURE__ */jsx(PatternFill, {\n          color: color,\n          fill: fill,\n          d: d\n        });\n      }\n  }\n});\nvar PatternFill = function PatternFill2(_ref2) {\n  var d = _ref2.d,\n    color = _ref2.color;\n  var editor = useEditor();\n  var zoomLevel = useValue(\"zoomLevel\", function () {\n    return editor.zoomLevel;\n  }, [editor]);\n  var isDarkMode = useValue(\"isDarkMode\", function () {\n    return editor.isDarkMode;\n  }, [editor]);\n  var intZoom = Math.ceil(zoomLevel);\n  var teenyTiny = editor.zoomLevel <= 0.18;\n  return /* @__PURE__ */jsxs(Fragment, {\n    children: [/* @__PURE__ */jsx(\"path\", {\n      className: \"tl-hitarea-fill-solid\",\n      fill: \"var(--palette-\".concat(color, \"-pattern)\"),\n      d: d\n    }), /* @__PURE__ */jsx(\"path\", {\n      fill: teenyTiny ? \"var(--palette-\".concat(color, \"-semi)\") : \"url(#\".concat(HASH_PATERN_ZOOM_NAMES[intZoom + (isDarkMode ? \"_dark\" : \"_light\")], \")\"),\n      d: d\n    })]\n  });\n};\nfunction getShapeFillSvg(_ref3) {\n  var d = _ref3.d,\n    color = _ref3.color,\n    fill = _ref3.fill,\n    colors = _ref3.colors;\n  if (fill === \"none\") {\n    return;\n  }\n  if (fill === \"pattern\") {\n    var gEl = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    var path1El = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    path1El.setAttribute(\"d\", d);\n    path1El.setAttribute(\"fill\", colors.pattern[color]);\n    var path2El = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    path2El.setAttribute(\"d\", d);\n    path2El.setAttribute(\"fill\", \"url(#hash_pattern)\");\n    gEl.appendChild(path1El);\n    gEl.appendChild(path2El);\n    return gEl;\n  }\n  var path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  path.setAttribute(\"d\", d);\n  switch (fill) {\n    case \"semi\":\n      {\n        path.setAttribute(\"fill\", colors.solid);\n        break;\n      }\n    case \"solid\":\n      {\n        {\n          path.setAttribute(\"fill\", colors.semi[color]);\n        }\n        break;\n      }\n  }\n  return path;\n}\nfunction getSvgWithShapeFill(foregroundPath, backgroundPath) {\n  if (backgroundPath) {\n    var g = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    g.appendChild(backgroundPath);\n    g.appendChild(foregroundPath);\n    return g;\n  } else {\n    return foregroundPath;\n  }\n}\nexport { ShapeFill, getShapeFillSvg, getSvgWithShapeFill };","map":{"version":3,"names":["Fragment","jsx","jsxs","React","useValue","HASH_PATERN_ZOOM_NAMES","useEditor","ShapeFill","memo","ShapeFill2","_ref","d","color","fill","className","concat","PatternFill","PatternFill2","_ref2","editor","zoomLevel","isDarkMode","intZoom","Math","ceil","teenyTiny","children","getShapeFillSvg","_ref3","colors","gEl","document","createElementNS","path1El","setAttribute","pattern","path2El","appendChild","path","solid","semi","getSvgWithShapeFill","foregroundPath","backgroundPath","g"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/editor/shapes/shared/ShapeFill.tsx"],"sourcesContent":["import { TLDefaultColorStyle, TLDefaultFillStyle } from '@tldraw/tlschema'\nimport * as React from 'react'\nimport { useValue } from 'signia-react'\nimport { HASH_PATERN_ZOOM_NAMES } from '../../../constants'\nimport { useEditor } from '../../../hooks/useEditor'\nimport { TLExportColors } from './TLExportColors'\n\nexport interface ShapeFillProps {\n\td: string\n\tfill: TLDefaultFillStyle\n\tcolor: TLDefaultColorStyle\n}\n\nexport const ShapeFill = React.memo(function ShapeFill({ d, color, fill }: ShapeFillProps) {\n\tswitch (fill) {\n\t\tcase 'none': {\n\t\t\treturn <path className={'tl-hitarea-stroke'} fill=\"none\" d={d} />\n\t\t}\n\t\tcase 'solid': {\n\t\t\treturn (\n\t\t\t\t<path className={'tl-hitarea-fill-solid'} fill={`var(--palette-${color}-semi)`} d={d} />\n\t\t\t)\n\t\t}\n\t\tcase 'semi': {\n\t\t\treturn <path className={'tl-hitarea-fill-solid'} fill={`var(--palette-solid)`} d={d} />\n\t\t}\n\t\tcase 'pattern': {\n\t\t\treturn <PatternFill color={color} fill={fill} d={d} />\n\t\t}\n\t}\n})\n\nconst PatternFill = function PatternFill({ d, color }: ShapeFillProps) {\n\tconst editor = useEditor()\n\tconst zoomLevel = useValue('zoomLevel', () => editor.zoomLevel, [editor])\n\tconst isDarkMode = useValue('isDarkMode', () => editor.isDarkMode, [editor])\n\n\tconst intZoom = Math.ceil(zoomLevel)\n\tconst teenyTiny = editor.zoomLevel <= 0.18\n\n\treturn (\n\t\t<>\n\t\t\t<path className={'tl-hitarea-fill-solid'} fill={`var(--palette-${color}-pattern)`} d={d} />\n\t\t\t<path\n\t\t\t\tfill={\n\t\t\t\t\tteenyTiny\n\t\t\t\t\t\t? `var(--palette-${color}-semi)`\n\t\t\t\t\t\t: `url(#${HASH_PATERN_ZOOM_NAMES[intZoom + (isDarkMode ? '_dark' : '_light')]})`\n\t\t\t\t}\n\t\t\t\td={d}\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport function getShapeFillSvg({\n\td,\n\tcolor,\n\tfill,\n\tcolors,\n}: ShapeFillProps & { colors: TLExportColors }) {\n\tif (fill === 'none') {\n\t\treturn\n\t}\n\n\tif (fill === 'pattern') {\n\t\tconst gEl = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\t\tconst path1El = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\t\tpath1El.setAttribute('d', d)\n\t\tpath1El.setAttribute('fill', colors.pattern[color])\n\n\t\tconst path2El = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\t\tpath2El.setAttribute('d', d)\n\t\tpath2El.setAttribute('fill', `url(#hash_pattern)`)\n\n\t\tgEl.appendChild(path1El)\n\t\tgEl.appendChild(path2El)\n\t\treturn gEl\n\t}\n\n\tconst path = document.createElementNS('http://www.w3.org/2000/svg', 'path')\n\tpath.setAttribute('d', d)\n\n\tswitch (fill) {\n\t\tcase 'semi': {\n\t\t\tpath.setAttribute('fill', colors.solid)\n\t\t\tbreak\n\t\t}\n\t\tcase 'solid': {\n\t\t\t{\n\t\t\t\tpath.setAttribute('fill', colors.semi[color])\n\t\t\t}\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn path\n}\n\nexport function getSvgWithShapeFill(foregroundPath: SVGElement, backgroundPath?: SVGElement) {\n\tif (backgroundPath) {\n\t\t// If there is a fill element, return a group containing the fill and the path\n\t\tconst g = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\t\tg.appendChild(backgroundPath)\n\t\tg.appendChild(foregroundPath)\n\t\treturn g\n\t} else {\n\t\t// Otherwise, just return the path\n\t\treturn foregroundPath\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}