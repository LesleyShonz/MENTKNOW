{
  "version": 3,
  "sources": ["../../../../../src/lib/editor/tools/ZoomTool/ZoomTool.ts"],
  "sourcesContent": ["import { TLInterruptEvent, TLKeyboardEvent, TLPointerEventInfo } from '../../types/event-types'\nimport { StateNode } from '../StateNode'\nimport { Idle } from './children/Idle'\nimport { Pointing } from './children/Pointing'\nimport { ZoomBrushing } from './children/ZoomBrushing'\n\nexport class ZoomTool extends StateNode {\n\tstatic override id = 'zoom'\n\tstatic initial = 'idle'\n\tstatic children = () => [Idle, ZoomBrushing, Pointing]\n\n\tinfo = {} as TLPointerEventInfo & { onInteractionEnd?: string }\n\n\tonEnter = (info: TLPointerEventInfo & { onInteractionEnd: string }) => {\n\t\tthis.info = info\n\t\tthis.updateCursor()\n\t}\n\n\tupdateCursor() {\n\t\tif (this.editor.inputs.altKey) {\n\t\t\tthis.editor.setCursor({ type: 'zoom-out' })\n\t\t} else {\n\t\t\tthis.editor.setCursor({ type: 'zoom-in' })\n\t\t}\n\t}\n\n\tonExit = () => {\n\t\tthis.editor.setZoomBrush(null)\n\t\tthis.editor.setCursor({ type: 'default' })\n\t}\n\n\tonKeyDown: TLKeyboardEvent | undefined = () => {\n\t\tthis.updateCursor()\n\t}\n\n\tonKeyUp: TLKeyboardEvent = (info) => {\n\t\tthis.updateCursor()\n\n\t\tif (info.code === 'KeyZ') {\n\t\t\tthis.complete()\n\t\t}\n\t}\n\n\tonInterrupt: TLInterruptEvent = () => {\n\t\tthis.complete()\n\t}\n\n\tprivate complete() {\n\t\t// Go back to the previous tool. If we are already in select we want to transition to idle\n\t\tif (this.info.onInteractionEnd && this.info.onInteractionEnd !== 'select') {\n\t\t\tthis.editor.setSelectedTool(this.info.onInteractionEnd, this.info)\n\t\t} else {\n\t\t\tthis.parent.transition('select', {})\n\t\t}\n\t}\n}\n"],
  "mappings": "AACA,SAAS,iBAAiB;AAC1B,SAAS,YAAY;AACrB,SAAS,gBAAgB;AACzB,SAAS,oBAAoB;AAEtB,MAAM,iBAAiB,UAAU;AAAA,EACvC,OAAgB,KAAK;AAAA,EACrB,OAAO,UAAU;AAAA,EACjB,OAAO,WAAW,MAAM,CAAC,MAAM,cAAc,QAAQ;AAAA,EAErD,OAAO,CAAC;AAAA,EAER,UAAU,CAAC,SAA4D;AACtE,SAAK,OAAO;AACZ,SAAK,aAAa;AAAA,EACnB;AAAA,EAEA,eAAe;AACd,QAAI,KAAK,OAAO,OAAO,QAAQ;AAC9B,WAAK,OAAO,UAAU,EAAE,MAAM,WAAW,CAAC;AAAA,IAC3C,OAAO;AACN,WAAK,OAAO,UAAU,EAAE,MAAM,UAAU,CAAC;AAAA,IAC1C;AAAA,EACD;AAAA,EAEA,SAAS,MAAM;AACd,SAAK,OAAO,aAAa,IAAI;AAC7B,SAAK,OAAO,UAAU,EAAE,MAAM,UAAU,CAAC;AAAA,EAC1C;AAAA,EAEA,YAAyC,MAAM;AAC9C,SAAK,aAAa;AAAA,EACnB;AAAA,EAEA,UAA2B,CAAC,SAAS;AACpC,SAAK,aAAa;AAElB,QAAI,KAAK,SAAS,QAAQ;AACzB,WAAK,SAAS;AAAA,IACf;AAAA,EACD;AAAA,EAEA,cAAgC,MAAM;AACrC,SAAK,SAAS;AAAA,EACf;AAAA,EAEQ,WAAW;AAElB,QAAI,KAAK,KAAK,oBAAoB,KAAK,KAAK,qBAAqB,UAAU;AAC1E,WAAK,OAAO,gBAAgB,KAAK,KAAK,kBAAkB,KAAK,IAAI;AAAA,IAClE,OAAO;AACN,WAAK,OAAO,WAAW,UAAU,CAAC,CAAC;AAAA,IACpC;AAAA,EACD;AACD;",
  "names": []
}
