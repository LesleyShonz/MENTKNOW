{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { StateNode } from \"../StateNode.mjs\";\nimport { Idle } from \"./children/Idle.mjs\";\nimport { Pointing } from \"./children/Pointing.mjs\";\nimport { ZoomBrushing } from \"./children/ZoomBrushing.mjs\";\nvar ZoomTool = /*#__PURE__*/function (_StateNode) {\n  _inherits(ZoomTool, _StateNode);\n  var _super = _createSuper(ZoomTool);\n  function ZoomTool() {\n    var _this;\n    _classCallCheck(this, ZoomTool);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"info\", {});\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function (info) {\n      _this.info = info;\n      _this.updateCursor();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onExit\", function () {\n      _this.editor.setZoomBrush(null);\n      _this.editor.setCursor({\n        type: \"default\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function () {\n      _this.updateCursor();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyUp\", function (info) {\n      _this.updateCursor();\n      if (info.code === \"KeyZ\") {\n        _this.complete();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onInterrupt\", function () {\n      _this.complete();\n    });\n    return _this;\n  }\n  _createClass(ZoomTool, [{\n    key: \"updateCursor\",\n    value: function updateCursor() {\n      if (this.editor.inputs.altKey) {\n        this.editor.setCursor({\n          type: \"zoom-out\"\n        });\n      } else {\n        this.editor.setCursor({\n          type: \"zoom-in\"\n        });\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      if (this.info.onInteractionEnd && this.info.onInteractionEnd !== \"select\") {\n        this.editor.setSelectedTool(this.info.onInteractionEnd, this.info);\n      } else {\n        this.parent.transition(\"select\", {});\n      }\n    }\n  }]);\n  return ZoomTool;\n}(StateNode);\n_defineProperty(ZoomTool, \"id\", \"zoom\");\n_defineProperty(ZoomTool, \"initial\", \"idle\");\n_defineProperty(ZoomTool, \"children\", function () {\n  return [Idle, ZoomBrushing, Pointing];\n});\nexport { ZoomTool };","map":{"version":3,"names":["StateNode","Idle","Pointing","ZoomBrushing","ZoomTool","_StateNode","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","_defineProperty","_assertThisInitialized","info","updateCursor","editor","setZoomBrush","setCursor","type","code","complete","_createClass","key","value","inputs","altKey","onInteractionEnd","setSelectedTool","parent","transition"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/editor/tools/ZoomTool/ZoomTool.ts"],"sourcesContent":["import { TLInterruptEvent, TLKeyboardEvent, TLPointerEventInfo } from '../../types/event-types'\nimport { StateNode } from '../StateNode'\nimport { Idle } from './children/Idle'\nimport { Pointing } from './children/Pointing'\nimport { ZoomBrushing } from './children/ZoomBrushing'\n\nexport class ZoomTool extends StateNode {\n\tstatic override id = 'zoom'\n\tstatic initial = 'idle'\n\tstatic children = () => [Idle, ZoomBrushing, Pointing]\n\n\tinfo = {} as TLPointerEventInfo & { onInteractionEnd?: string }\n\n\tonEnter = (info: TLPointerEventInfo & { onInteractionEnd: string }) => {\n\t\tthis.info = info\n\t\tthis.updateCursor()\n\t}\n\n\tupdateCursor() {\n\t\tif (this.editor.inputs.altKey) {\n\t\t\tthis.editor.setCursor({ type: 'zoom-out' })\n\t\t} else {\n\t\t\tthis.editor.setCursor({ type: 'zoom-in' })\n\t\t}\n\t}\n\n\tonExit = () => {\n\t\tthis.editor.setZoomBrush(null)\n\t\tthis.editor.setCursor({ type: 'default' })\n\t}\n\n\tonKeyDown: TLKeyboardEvent | undefined = () => {\n\t\tthis.updateCursor()\n\t}\n\n\tonKeyUp: TLKeyboardEvent = (info) => {\n\t\tthis.updateCursor()\n\n\t\tif (info.code === 'KeyZ') {\n\t\t\tthis.complete()\n\t\t}\n\t}\n\n\tonInterrupt: TLInterruptEvent = () => {\n\t\tthis.complete()\n\t}\n\n\tprivate complete() {\n\t\t// Go back to the previous tool. If we are already in select we want to transition to idle\n\t\tif (this.info.onInteractionEnd && this.info.onInteractionEnd !== 'select') {\n\t\t\tthis.editor.setSelectedTool(this.info.onInteractionEnd, this.info)\n\t\t} else {\n\t\t\tthis.parent.transition('select', {})\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;AACA,SAASA,SAAA,QAAiB;AAC1B,SAASC,IAAA,QAAY;AACrB,SAASC,QAAA,QAAgB;AACzB,SAASC,YAAA,QAAoB;AAAA,IAEhBC,QAAA,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,QAAA,EAAAC,UAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,QAAA;EAAA,SAAAA,SAAA;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,QAAA;IAAA,SAAAO,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,SAAAY,MAAA,CAAAL,IAAA;IAAAM,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,WAKL,CAAC;IAAAW,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,cAEE,UAACa,IAAA,EAA4D;MACtEb,KAAA,CAAKa,IAAA,GAAOA,IAAA;MACZb,KAAA,CAAKc,YAAA,CAAa;IACnB;IAAAH,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,aAUS,YAAM;MACdA,KAAA,CAAKe,MAAA,CAAOC,YAAA,CAAa,IAAI;MAC7BhB,KAAA,CAAKe,MAAA,CAAOE,SAAA,CAAU;QAAEC,IAAA,EAAM;MAAU,CAAC;IAC1C;IAAAP,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,gBAEyC,YAAM;MAC9CA,KAAA,CAAKc,YAAA,CAAa;IACnB;IAAAH,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,cAE2B,UAACa,IAAA,EAAS;MACpCb,KAAA,CAAKc,YAAA,CAAa;MAElB,IAAID,IAAA,CAAKM,IAAA,KAAS,QAAQ;QACzBnB,KAAA,CAAKoB,QAAA,CAAS;MACf;IACD;IAAAT,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,kBAEgC,YAAM;MACrCA,KAAA,CAAKoB,QAAA,CAAS;IACf;IAAA,OAAApB,KAAA;EAAA;EAAAqB,YAAA,CAAA1B,QAAA;IAAA2B,GAAA;IAAAC,KAAA,EA3BA,SAAAT,aAAA,EAAe;MACd,IAAI,KAAKC,MAAA,CAAOS,MAAA,CAAOC,MAAA,EAAQ;QAC9B,KAAKV,MAAA,CAAOE,SAAA,CAAU;UAAEC,IAAA,EAAM;QAAW,CAAC;MAC3C,OAAO;QACN,KAAKH,MAAA,CAAOE,SAAA,CAAU;UAAEC,IAAA,EAAM;QAAU,CAAC;MAC1C;IACD;EAAA;IAAAI,GAAA;IAAAC,KAAA,EAuBQ,SAAAH,SAAA,EAAW;MAElB,IAAI,KAAKP,IAAA,CAAKa,gBAAA,IAAoB,KAAKb,IAAA,CAAKa,gBAAA,KAAqB,UAAU;QAC1E,KAAKX,MAAA,CAAOY,eAAA,CAAgB,KAAKd,IAAA,CAAKa,gBAAA,EAAkB,KAAKb,IAAI;MAClE,OAAO;QACN,KAAKe,MAAA,CAAOC,UAAA,CAAW,UAAU,CAAC,CAAC;MACpC;IACD;EAAA;EAAA,OAAAlC,QAAA;AAAA,EAhD6BJ,SAAA;AAAAoB,eAAA,CAAjBhB,QAAA,QACS;AAAAgB,eAAA,CADThB,QAAA,aAEK;AAAAgB,eAAA,CAFLhB,QAAA,cAGM;EAAA,OAAM,CAACH,IAAA,EAAME,YAAA,EAAcD,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}