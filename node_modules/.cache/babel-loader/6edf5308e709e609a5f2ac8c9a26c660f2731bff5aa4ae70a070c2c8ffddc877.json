{"ast":null,"code":"import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport { Matrix2d } from \"@tldraw/primitives\";\nimport * as React from \"react\";\nimport { track, useStateTracking } from \"signia-react\";\nimport { useEditor } from \"../../index.mjs\";\nimport { useEditorComponents } from \"../hooks/useEditorComponents.mjs\";\nimport { useQuickReactor } from \"../hooks/useQuickReactor.mjs\";\nimport { useShapeEvents } from \"../hooks/useShapeEvents.mjs\";\nimport { OptionalErrorBoundary } from \"./ErrorBoundary.mjs\";\nvar Shape = track(function Shape2(_ref) {\n  var id = _ref.id,\n    index = _ref.index,\n    backgroundIndex = _ref.backgroundIndex,\n    opacity = _ref.opacity,\n    isCulled = _ref.isCulled;\n  var editor = useEditor();\n  var _useEditorComponents = useEditorComponents(),\n    ShapeErrorFallback = _useEditorComponents.ShapeErrorFallback;\n  var events = useShapeEvents(id);\n  var containerRef = React.useRef(null);\n  var backgroundContainerRef = React.useRef(null);\n  var setProperty = React.useCallback(function (property, value) {\n    var _containerRef$current, _backgroundContainerR;\n    (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 || _containerRef$current.style.setProperty(property, value);\n    (_backgroundContainerR = backgroundContainerRef.current) === null || _backgroundContainerR === void 0 || _backgroundContainerR.style.setProperty(property, value);\n  }, []);\n  useQuickReactor(\"set shape container transform position\", function () {\n    var shape2 = editor.getShapeById(id);\n    var pageTransform = editor.getPageTransformById(id);\n    if (!shape2 || !pageTransform) return null;\n    var transform = Matrix2d.toCssString(pageTransform);\n    setProperty(\"transform\", transform);\n  }, [editor, setProperty]);\n  useQuickReactor(\"set shape container clip path\", function () {\n    var shape2 = editor.getShapeById(id);\n    if (!shape2) return null;\n    var clipPath = editor.getClipPathById(id);\n    setProperty(\"clip-path\", clipPath !== null && clipPath !== void 0 ? clipPath : \"none\");\n  }, [editor, setProperty]);\n  useQuickReactor(\"set shape height and width\", function () {\n    var shape2 = editor.getShapeById(id);\n    if (!shape2) return null;\n    var util2 = editor.getShapeUtil(shape2);\n    var bounds = util2.bounds(shape2);\n    setProperty(\"width\", Math.ceil(bounds.width) + \"px\");\n    setProperty(\"height\", Math.ceil(bounds.height) + \"px\");\n  }, [editor]);\n  React.useLayoutEffect(function () {\n    var _containerRef$current2, _backgroundContainerR2;\n    setProperty(\"opacity\", opacity + \"\");\n    (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 || _containerRef$current2.style.setProperty(\"z-index\", index + \"\");\n    (_backgroundContainerR2 = backgroundContainerRef.current) === null || _backgroundContainerR2 === void 0 || _backgroundContainerR2.style.setProperty(\"z-index\", backgroundIndex + \"\");\n  }, [opacity, index, backgroundIndex, setProperty]);\n  var shape = editor.getShapeById(id);\n  if (!shape) return null;\n  var util = editor.getShapeUtil(shape);\n  return /* @__PURE__ */jsxs(Fragment, {\n    children: [util.renderBackground && /* @__PURE__ */jsx(\"div\", {\n      ref: backgroundContainerRef,\n      className: \"tl-shape tl-shape-background\",\n      \"data-shape-type\": shape.type,\n      draggable: false,\n      children: !isCulled && /* @__PURE__ */jsx(OptionalErrorBoundary, {\n        fallback: ShapeErrorFallback ? function (error) {\n          return /* @__PURE__ */jsx(ShapeErrorFallback, {\n            error: error\n          });\n        } : null,\n        onError: function onError(error) {\n          return editor.annotateError(error, {\n            origin: \"react.shape\",\n            willCrashApp: false\n          });\n        },\n        children: /* @__PURE__ */jsx(InnerShapeBackground, {\n          shape: shape,\n          util: util\n        })\n      })\n    }), /* @__PURE__ */jsx(\"div\", {\n      ref: containerRef,\n      className: \"tl-shape\",\n      \"data-shape-type\": shape.type,\n      draggable: false,\n      onPointerDown: events.onPointerDown,\n      onPointerMove: events.onPointerMove,\n      onPointerUp: events.onPointerUp,\n      onPointerEnter: events.onPointerEnter,\n      onPointerLeave: events.onPointerLeave,\n      children: isCulled && util.canUnmount(shape) ? /* @__PURE__ */jsx(CulledShape, {\n        shape: shape,\n        util: util\n      }) : /* @__PURE__ */jsx(OptionalErrorBoundary, {\n        fallback: ShapeErrorFallback ? function (error) {\n          return /* @__PURE__ */jsx(ShapeErrorFallback, {\n            error: error\n          });\n        } : null,\n        onError: function onError(error) {\n          return editor.annotateError(error, {\n            origin: \"react.shape\",\n            willCrashApp: false\n          });\n        },\n        children: /* @__PURE__ */jsx(InnerShape, {\n          shape: shape,\n          util: util\n        })\n      })\n    })]\n  });\n});\nvar InnerShape = React.memo(function InnerShape2(_ref2) {\n  var shape = _ref2.shape,\n    util = _ref2.util;\n  return useStateTracking(\"InnerShape:\" + util.type, function () {\n    return util.component(shape);\n  });\n}, function (prev, next) {\n  return prev.shape.props === next.shape.props;\n});\nvar InnerShapeBackground = React.memo(function InnerShapeBackground2(_ref3) {\n  var shape = _ref3.shape,\n    util = _ref3.util;\n  return useStateTracking(\"InnerShape:\" + util.type, function () {\n    var _util$renderBackgroun;\n    return (_util$renderBackgroun = util.renderBackground) === null || _util$renderBackgroun === void 0 ? void 0 : _util$renderBackgroun.call(util, shape);\n  });\n}, function (prev, next) {\n  return prev.shape.props === next.shape.props;\n});\nvar CulledShape = React.memo(function CulledShap(_ref4) {\n  var shape = _ref4.shape,\n    util = _ref4.util;\n  var bounds = util.bounds(shape);\n  return /* @__PURE__ */jsx(\"div\", {\n    className: \"tl-shape__culled\",\n    style: {\n      transform: \"translate(\".concat(bounds.minX, \"px, \").concat(bounds.minY, \"px)\"),\n      width: bounds.width,\n      height: bounds.height\n    }\n  });\n}, function () {\n  return true;\n});\nexport { Shape };","map":{"version":3,"names":["Fragment","jsx","jsxs","Matrix2d","React","track","useStateTracking","useEditor","useEditorComponents","useQuickReactor","useShapeEvents","OptionalErrorBoundary","Shape","Shape2","_ref","id","index","backgroundIndex","opacity","isCulled","editor","_useEditorComponents","ShapeErrorFallback","events","containerRef","useRef","backgroundContainerRef","setProperty","useCallback","property","value","_containerRef$current","_backgroundContainerR","current","style","shape2","getShapeById","pageTransform","getPageTransformById","transform","toCssString","clipPath","getClipPathById","util2","getShapeUtil","bounds","Math","ceil","width","height","useLayoutEffect","_containerRef$current2","_backgroundContainerR2","shape","util","children","renderBackground","ref","className","type","draggable","fallback","error","onError","annotateError","origin","willCrashApp","InnerShapeBackground","onPointerDown","onPointerMove","onPointerUp","onPointerEnter","onPointerLeave","canUnmount","CulledShape","InnerShape","memo","InnerShape2","_ref2","component","prev","next","props","InnerShapeBackground2","_ref3","_util$renderBackgroun","call","CulledShap","_ref4","concat","minX","minY"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/components/Shape.tsx"],"sourcesContent":["import { Matrix2d } from '@tldraw/primitives'\nimport { TLShape, TLShapeId } from '@tldraw/tlschema'\nimport * as React from 'react'\nimport {\n\ttrack,\n\t// @ts-expect-error 'private' export\n\tuseStateTracking,\n} from 'signia-react'\nimport { useEditor } from '../..'\nimport { ShapeUtil } from '../editor/shapes/ShapeUtil'\nimport { useEditorComponents } from '../hooks/useEditorComponents'\nimport { useQuickReactor } from '../hooks/useQuickReactor'\nimport { useShapeEvents } from '../hooks/useShapeEvents'\nimport { OptionalErrorBoundary } from './ErrorBoundary'\n\n/*\nThis component renders shapes on the canvas. There are two stages: positioning\nand styling the shape's container using CSS, and then rendering the shape's \nJSX using its shape util's render method. Rendering the \"inside\" of a shape is\nmore expensive than positioning it or changing its color, so we use React.memo\nto wrap the inner shape and only re-render it when the shape's props change. \n\nThe shape also receives props for its index and opacity. The index is used to\ndetermine the z-index of the shape, and the opacity is used to set the shape's\nopacity based on its own opacity and that of its parent's.\n*/\nexport const Shape = track(function Shape({\n\tid,\n\tindex,\n\tbackgroundIndex,\n\topacity,\n\tisCulled,\n}: {\n\tid: TLShapeId\n\tindex: number\n\tbackgroundIndex: number\n\topacity: number\n\tisCulled: boolean\n}) {\n\tconst editor = useEditor()\n\n\tconst { ShapeErrorFallback } = useEditorComponents()\n\n\tconst events = useShapeEvents(id)\n\n\tconst containerRef = React.useRef<HTMLDivElement>(null)\n\tconst backgroundContainerRef = React.useRef<HTMLDivElement>(null)\n\n\tconst setProperty = React.useCallback((property: string, value: string) => {\n\t\tcontainerRef.current?.style.setProperty(property, value)\n\t\tbackgroundContainerRef.current?.style.setProperty(property, value)\n\t}, [])\n\n\tuseQuickReactor(\n\t\t'set shape container transform position',\n\t\t() => {\n\t\t\tconst shape = editor.getShapeById(id)\n\t\t\tconst pageTransform = editor.getPageTransformById(id)\n\n\t\t\tif (!shape || !pageTransform) return null\n\n\t\t\tconst transform = Matrix2d.toCssString(pageTransform)\n\t\t\tsetProperty('transform', transform)\n\t\t},\n\t\t[editor, setProperty]\n\t)\n\n\tuseQuickReactor(\n\t\t'set shape container clip path',\n\t\t() => {\n\t\t\tconst shape = editor.getShapeById(id)\n\t\t\tif (!shape) return null\n\n\t\t\tconst clipPath = editor.getClipPathById(id)\n\t\t\tsetProperty('clip-path', clipPath ?? 'none')\n\t\t},\n\t\t[editor, setProperty]\n\t)\n\n\tuseQuickReactor(\n\t\t'set shape height and width',\n\t\t() => {\n\t\t\tconst shape = editor.getShapeById(id)\n\t\t\tif (!shape) return null\n\n\t\t\tconst util = editor.getShapeUtil(shape)\n\t\t\tconst bounds = util.bounds(shape)\n\t\t\tsetProperty('width', Math.ceil(bounds.width) + 'px')\n\t\t\tsetProperty('height', Math.ceil(bounds.height) + 'px')\n\t\t},\n\t\t[editor]\n\t)\n\n\t// Set the opacity of the container when the opacity changes\n\tReact.useLayoutEffect(() => {\n\t\tsetProperty('opacity', opacity + '')\n\t\tcontainerRef.current?.style.setProperty('z-index', index + '')\n\t\tbackgroundContainerRef.current?.style.setProperty('z-index', backgroundIndex + '')\n\t}, [opacity, index, backgroundIndex, setProperty])\n\n\tconst shape = editor.getShapeById(id)\n\n\tif (!shape) return null\n\n\tconst util = editor.getShapeUtil(shape)\n\n\treturn (\n\t\t<>\n\t\t\t{util.renderBackground && (\n\t\t\t\t<div\n\t\t\t\t\tref={backgroundContainerRef}\n\t\t\t\t\tclassName=\"tl-shape tl-shape-background\"\n\t\t\t\t\tdata-shape-type={shape.type}\n\t\t\t\t\tdraggable={false}\n\t\t\t\t>\n\t\t\t\t\t{!isCulled && (\n\t\t\t\t\t\t<OptionalErrorBoundary\n\t\t\t\t\t\t\tfallback={ShapeErrorFallback ? (error) => <ShapeErrorFallback error={error} /> : null}\n\t\t\t\t\t\t\tonError={(error) =>\n\t\t\t\t\t\t\t\teditor.annotateError(error, { origin: 'react.shape', willCrashApp: false })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InnerShapeBackground shape={shape} util={util} />\n\t\t\t\t\t\t</OptionalErrorBoundary>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tref={containerRef}\n\t\t\t\tclassName=\"tl-shape\"\n\t\t\t\tdata-shape-type={shape.type}\n\t\t\t\tdraggable={false}\n\t\t\t\tonPointerDown={events.onPointerDown}\n\t\t\t\tonPointerMove={events.onPointerMove}\n\t\t\t\tonPointerUp={events.onPointerUp}\n\t\t\t\tonPointerEnter={events.onPointerEnter}\n\t\t\t\tonPointerLeave={events.onPointerLeave}\n\t\t\t>\n\t\t\t\t{isCulled && util.canUnmount(shape) ? (\n\t\t\t\t\t<CulledShape shape={shape} util={util} />\n\t\t\t\t) : (\n\t\t\t\t\t<OptionalErrorBoundary\n\t\t\t\t\t\tfallback={ShapeErrorFallback ? (error) => <ShapeErrorFallback error={error} /> : null}\n\t\t\t\t\t\tonError={(error) =>\n\t\t\t\t\t\t\teditor.annotateError(error, { origin: 'react.shape', willCrashApp: false })\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerShape shape={shape} util={util} />\n\t\t\t\t\t</OptionalErrorBoundary>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t)\n})\n\nconst InnerShape = React.memo(\n\tfunction InnerShape<T extends TLShape>({ shape, util }: { shape: T; util: ShapeUtil<T> }) {\n\t\treturn useStateTracking('InnerShape:' + util.type, () => util.component(shape))\n\t},\n\t(prev, next) => prev.shape.props === next.shape.props\n)\n\nconst InnerShapeBackground = React.memo(\n\tfunction InnerShapeBackground<T extends TLShape>({\n\t\tshape,\n\t\tutil,\n\t}: {\n\t\tshape: T\n\t\tutil: ShapeUtil<T>\n\t}) {\n\t\treturn useStateTracking('InnerShape:' + util.type, () => util.renderBackground?.(shape))\n\t},\n\t(prev, next) => prev.shape.props === next.shape.props\n)\n\nconst CulledShape = React.memo(\n\tfunction CulledShap<T extends TLShape>({ shape, util }: { shape: T; util: ShapeUtil<T> }) {\n\t\tconst bounds = util.bounds(shape)\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"tl-shape__culled\"\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform: `translate(${bounds.minX}px, ${bounds.minY}px)`,\n\t\t\t\t\twidth: bounds.width,\n\t\t\t\t\theight: bounds.height,\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t},\n\t() => true\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}