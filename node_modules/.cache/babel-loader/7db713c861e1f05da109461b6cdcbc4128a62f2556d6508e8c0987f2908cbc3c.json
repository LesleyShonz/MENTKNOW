{"ast":null,"code":"import _objectSpread from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { jsx } from \"react/jsx-runtime\";\nimport { toDomPrecision } from \"@tldraw/primitives\";\nimport { embedShapePermissionDefaults } from \"@tldraw/tlschema\";\nimport { useMemo } from \"react\";\nimport { useValue } from \"signia-react\";\nimport { DefaultSpinner } from \"../../../components/DefaultSpinner.mjs\";\nimport { HTMLContainer } from \"../../../components/HTMLContainer.mjs\";\nimport { useIsEditing } from \"../../../hooks/useIsEditing.mjs\";\nimport { getRotatedBoxShadow } from \"../../../utils/dom.mjs\";\nimport { getEmbedInfo, getEmbedInfoUnsafely } from \"../../../utils/embeds.mjs\";\nimport { BaseBoxShapeUtil } from \"../BaseBoxShapeUtil.mjs\";\nimport { resizeBox } from \"../shared/resizeBox.mjs\";\nvar getSandboxPermissions = function getSandboxPermissions(permissions) {\n  return Object.entries(permissions).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      _perm = _ref2[0],\n      isEnabled = _ref2[1];\n    return isEnabled;\n  }).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n      perm = _ref4[0];\n    return perm;\n  }).join(\" \");\n};\nvar EmbedShapeUtil = /*#__PURE__*/function (_BaseBoxShapeUtil) {\n  _inherits(EmbedShapeUtil, _BaseBoxShapeUtil);\n  var _super = _createSuper(EmbedShapeUtil);\n  function EmbedShapeUtil() {\n    var _this;\n    _classCallCheck(this, EmbedShapeUtil);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"hideSelectionBoundsBg\", function (shape) {\n      return !_this.canResize(shape);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"hideSelectionBoundsFg\", function (shape) {\n      return !_this.canResize(shape);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"canEdit\", function () {\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"canUnmount\", function (shape) {\n      var _getEmbedInfo;\n      return !!((_getEmbedInfo = getEmbedInfo(shape.props.url)) !== null && _getEmbedInfo !== void 0 && (_getEmbedInfo = _getEmbedInfo.definition) !== null && _getEmbedInfo !== void 0 && _getEmbedInfo.canUnmount);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"canResize\", function (shape) {\n      var _getEmbedInfo2;\n      return !!((_getEmbedInfo2 = getEmbedInfo(shape.props.url)) !== null && _getEmbedInfo2 !== void 0 && (_getEmbedInfo2 = _getEmbedInfo2.definition) !== null && _getEmbedInfo2 !== void 0 && _getEmbedInfo2.doesResize);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isAspectRatioLocked\", function (shape) {\n      var _embedInfo$definition;\n      var embedInfo = getEmbedInfo(shape.props.url);\n      return (_embedInfo$definition = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.isAspectRatioLocked) !== null && _embedInfo$definition !== void 0 ? _embedInfo$definition : false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (shape, info) {\n      var _embedInfo$definition2, _embedInfo$definition3;\n      var isAspectRatioLocked = _this.isAspectRatioLocked(shape);\n      var embedInfo = getEmbedInfo(shape.props.url);\n      var minWidth = (_embedInfo$definition2 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.minWidth) !== null && _embedInfo$definition2 !== void 0 ? _embedInfo$definition2 : 200;\n      var minHeight = (_embedInfo$definition3 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.minHeight) !== null && _embedInfo$definition3 !== void 0 ? _embedInfo$definition3 : 200;\n      if (isAspectRatioLocked) {\n        var aspectRatio = shape.props.w / shape.props.h;\n        if (aspectRatio > 1) {\n          minWidth *= aspectRatio;\n        } else {\n          minHeight /= aspectRatio;\n        }\n      }\n      return resizeBox(shape, info, {\n        minWidth: minWidth,\n        minHeight: minHeight\n      });\n    });\n    return _this;\n  }\n  _createClass(EmbedShapeUtil, [{\n    key: \"defaultProps\",\n    value: function defaultProps() {\n      return {\n        w: 300,\n        h: 300,\n        url: \"\"\n      };\n    }\n  }, {\n    key: \"component\",\n    value: function component(shape) {\n      var _this2 = this,\n        _embedInfo$definition4,\n        _embedInfo$definition5;\n      var _shape$props = shape.props,\n        w = _shape$props.w,\n        h = _shape$props.h,\n        url = _shape$props.url;\n      var isEditing = useIsEditing(shape.id);\n      var embedInfo = useMemo(function () {\n        return getEmbedInfoUnsafely(url);\n      }, [url]);\n      var isHoveringWhileEditingSameShape = useValue(\"is hovering\", function () {\n        var _this2$editor$pageSta = _this2.editor.pageState,\n          editingId = _this2$editor$pageSta.editingId,\n          hoveredId = _this2$editor$pageSta.hoveredId;\n        if (editingId && hoveredId !== editingId) {\n          var editingShape = _this2.editor.getShapeById(editingId);\n          if (editingShape && _this2.editor.isShapeOfType(editingShape, EmbedShapeUtil)) {\n            return true;\n          }\n        }\n        return false;\n      }, []);\n      var pageRotation = this.editor.getPageRotation(shape);\n      var isInteractive = isEditing || isHoveringWhileEditingSameShape;\n      if ((embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.type) === \"github_gist\") {\n        var idFromGistUrl = embedInfo.url.split(\"/\").pop();\n        if (!idFromGistUrl) throw Error(\"No gist id!\");\n        return /* @__PURE__ */jsx(HTMLContainer, {\n          className: \"tl-embed-container\",\n          id: shape.id,\n          children: /* @__PURE__ */jsx(Gist, {\n            id: idFromGistUrl,\n            width: toDomPrecision(w),\n            height: toDomPrecision(h),\n            isInteractive: isInteractive,\n            pageRotation: pageRotation\n          })\n        });\n      }\n      var sandbox = getSandboxPermissions(_objectSpread(_objectSpread({}, embedShapePermissionDefaults), (_embedInfo$definition4 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.overridePermissions) !== null && _embedInfo$definition4 !== void 0 ? _embedInfo$definition4 : {}));\n      return /* @__PURE__ */jsx(HTMLContainer, {\n        className: \"tl-embed-container\",\n        id: shape.id,\n        children: embedInfo !== null && embedInfo !== void 0 && embedInfo.definition ? /* @__PURE__ */jsx(\"iframe\", {\n          className: \"tl-embed tl-embed-\".concat(shape.id),\n          sandbox: sandbox,\n          src: embedInfo.embedUrl,\n          width: toDomPrecision(w),\n          height: toDomPrecision(h),\n          draggable: false,\n          frameBorder: \"0\",\n          referrerPolicy: \"no-referrer-when-downgrade\",\n          style: {\n            border: 0,\n            pointerEvents: isInteractive ? \"auto\" : \"none\",\n            // Fix for safari <https://stackoverflow.com/a/49150908>\n            zIndex: isInteractive ? \"\" : \"-1\",\n            boxShadow: getRotatedBoxShadow(pageRotation),\n            borderRadius: (_embedInfo$definition5 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.overrideOutlineRadius) !== null && _embedInfo$definition5 !== void 0 ? _embedInfo$definition5 : 8,\n            background: embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.backgroundColor\n          }\n        }) : /* @__PURE__ */jsx(\"g\", {\n          transform: \"translate(\".concat((w - 38) / 2, \", \").concat((h - 38) / 2, \")\"),\n          children: /* @__PURE__ */jsx(DefaultSpinner, {})\n        })\n      });\n    }\n  }, {\n    key: \"indicator\",\n    value: function indicator(shape) {\n      var _embedInfo$definition6, _embedInfo$definition7;\n      var embedInfo = useMemo(function () {\n        return getEmbedInfo(shape.props.url);\n      }, [shape.props.url]);\n      return /* @__PURE__ */jsx(\"rect\", {\n        width: toDomPrecision(shape.props.w),\n        height: toDomPrecision(shape.props.h),\n        rx: (_embedInfo$definition6 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.overrideOutlineRadius) !== null && _embedInfo$definition6 !== void 0 ? _embedInfo$definition6 : 8,\n        ry: (_embedInfo$definition7 = embedInfo === null || embedInfo === void 0 ? void 0 : embedInfo.definition.overrideOutlineRadius) !== null && _embedInfo$definition7 !== void 0 ? _embedInfo$definition7 : 8\n      });\n    }\n  }]);\n  return EmbedShapeUtil;\n}(BaseBoxShapeUtil);\n_defineProperty(EmbedShapeUtil, \"type\", \"embed\");\nfunction Gist(_ref5) {\n  var id = _ref5.id,\n    file = _ref5.file,\n    isInteractive = _ref5.isInteractive,\n    width = _ref5.width,\n    height = _ref5.height,\n    style = _ref5.style,\n    pageRotation = _ref5.pageRotation;\n  return /* @__PURE__ */jsx(\"iframe\", {\n    className: \"tl-embed\",\n    draggable: false,\n    width: toDomPrecision(width),\n    height: toDomPrecision(height),\n    frameBorder: \"0\",\n    scrolling: \"no\",\n    seamless: true,\n    referrerPolicy: \"no-referrer-when-downgrade\",\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      pointerEvents: isInteractive ? \"all\" : \"none\",\n      // Fix for safari <https://stackoverflow.com/a/49150908>\n      zIndex: isInteractive ? \"\" : \"-1\",\n      boxShadow: getRotatedBoxShadow(pageRotation)\n    }),\n    srcDoc: \"\\n\\t\\t\\t<html>\\n\\t\\t\\t\\t<head>\\n\\t\\t\\t\\t\\t<base target=\\\"_blank\\\">\\n\\t\\t\\t\\t</head>\\n\\t\\t\\t\\t<body>\\n\\t\\t\\t\\t\\t<script src=\".concat(\"https://gist.github.com/\".concat(id, \".js\").concat(file ? \"?file=\".concat(file) : \"\"), \"></script>\\n\\t\\t\\t\\t\\t<style type=\\\"text/css\\\">\\n\\t\\t\\t\\t\\t\\t* { margin: 0px; }\\n\\t\\t\\t\\t\\t\\ttable { height: 100%; background-color: red; }\\n\\t\\t\\t\\t\\t\\t.gist { background-color: none; height: 100%;  }\\n\\t\\t\\t\\t\\t\\t.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\\n\\t\\t\\t\\t\\t</style>\\n\\t\\t\\t\\t</body>\\n\\t\\t\\t</html>\")\n  });\n}\nexport { EmbedShapeUtil };","map":{"version":3,"names":["jsx","toDomPrecision","embedShapePermissionDefaults","useMemo","useValue","DefaultSpinner","HTMLContainer","useIsEditing","getRotatedBoxShadow","getEmbedInfo","getEmbedInfoUnsafely","BaseBoxShapeUtil","resizeBox","getSandboxPermissions","permissions","Object","entries","filter","_ref","_ref2","_slicedToArray","_perm","isEnabled","map","_ref3","_ref4","perm","join","EmbedShapeUtil","_BaseBoxShapeUtil","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","_defineProperty","_assertThisInitialized","shape","canResize","_getEmbedInfo","props","url","definition","canUnmount","_getEmbedInfo2","doesResize","_embedInfo$definition","embedInfo","isAspectRatioLocked","info","_embedInfo$definition2","_embedInfo$definition3","minWidth","minHeight","aspectRatio","w","h","_createClass","key","value","defaultProps","component","_this2","_embedInfo$definition4","_embedInfo$definition5","_shape$props","isEditing","id","isHoveringWhileEditingSameShape","_this2$editor$pageSta","editor","pageState","editingId","hoveredId","editingShape","getShapeById","isShapeOfType","pageRotation","getPageRotation","isInteractive","type","idFromGistUrl","split","pop","Error","className","children","Gist","width","height","sandbox","_objectSpread","overridePermissions","src","embedUrl","draggable","frameBorder","referrerPolicy","style","border","pointerEvents","zIndex","boxShadow","borderRadius","overrideOutlineRadius","background","backgroundColor","transform","indicator","_embedInfo$definition6","_embedInfo$definition7","rx","ry","_ref5","file","scrolling","seamless","srcDoc"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/editor/shapes/embed/EmbedShapeUtil.tsx"],"sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\nimport { toDomPrecision } from '@tldraw/primitives'\nimport {\n\tTLEmbedShape,\n\tTLEmbedShapePermissions,\n\tembedShapePermissionDefaults,\n} from '@tldraw/tlschema'\nimport * as React from 'react'\nimport { useMemo } from 'react'\nimport { useValue } from 'signia-react'\nimport { DefaultSpinner } from '../../../components/DefaultSpinner'\nimport { HTMLContainer } from '../../../components/HTMLContainer'\nimport { useIsEditing } from '../../../hooks/useIsEditing'\nimport { getRotatedBoxShadow } from '../../../utils/dom'\nimport { getEmbedInfo, getEmbedInfoUnsafely } from '../../../utils/embeds'\nimport { BaseBoxShapeUtil } from '../BaseBoxShapeUtil'\nimport { TLOnResizeHandler, TLShapeUtilFlag } from '../ShapeUtil'\nimport { resizeBox } from '../shared/resizeBox'\n\nconst getSandboxPermissions = (permissions: TLEmbedShapePermissions) => {\n\treturn Object.entries(permissions)\n\t\t.filter(([_perm, isEnabled]) => isEnabled)\n\t\t.map(([perm]) => perm)\n\t\t.join(' ')\n}\n\n/** @public */\nexport class EmbedShapeUtil extends BaseBoxShapeUtil<TLEmbedShape> {\n\tstatic override type = 'embed' as const\n\n\toverride hideSelectionBoundsBg: TLShapeUtilFlag<TLEmbedShape> = (shape) => !this.canResize(shape)\n\toverride hideSelectionBoundsFg: TLShapeUtilFlag<TLEmbedShape> = (shape) => !this.canResize(shape)\n\toverride canEdit: TLShapeUtilFlag<TLEmbedShape> = () => true\n\toverride canUnmount: TLShapeUtilFlag<TLEmbedShape> = (shape: TLEmbedShape) => {\n\t\treturn !!getEmbedInfo(shape.props.url)?.definition?.canUnmount\n\t}\n\toverride canResize = (shape: TLEmbedShape) => {\n\t\treturn !!getEmbedInfo(shape.props.url)?.definition?.doesResize\n\t}\n\n\toverride defaultProps(): TLEmbedShape['props'] {\n\t\treturn {\n\t\t\tw: 300,\n\t\t\th: 300,\n\t\t\turl: '',\n\t\t}\n\t}\n\n\toverride isAspectRatioLocked: TLShapeUtilFlag<TLEmbedShape> = (shape) => {\n\t\tconst embedInfo = getEmbedInfo(shape.props.url)\n\t\treturn embedInfo?.definition.isAspectRatioLocked ?? false\n\t}\n\n\toverride onResize: TLOnResizeHandler<TLEmbedShape> = (shape, info) => {\n\t\tconst isAspectRatioLocked = this.isAspectRatioLocked(shape)\n\t\tconst embedInfo = getEmbedInfo(shape.props.url)\n\t\tlet minWidth = embedInfo?.definition.minWidth ?? 200\n\t\tlet minHeight = embedInfo?.definition.minHeight ?? 200\n\t\tif (isAspectRatioLocked) {\n\t\t\t// Enforce aspect ratio\n\t\t\t// Neither the width or height can be less than 200\n\t\t\tconst aspectRatio = shape.props.w / shape.props.h\n\t\t\tif (aspectRatio > 1) {\n\t\t\t\t// Landscape\n\t\t\t\tminWidth *= aspectRatio\n\t\t\t} else {\n\t\t\t\t// Portrait\n\t\t\t\tminHeight /= aspectRatio\n\t\t\t}\n\t\t}\n\n\t\treturn resizeBox(shape, info, { minWidth, minHeight })\n\t}\n\n\toverride component(shape: TLEmbedShape) {\n\t\tconst { w, h, url } = shape.props\n\t\tconst isEditing = useIsEditing(shape.id)\n\t\tconst embedInfo = useMemo(() => getEmbedInfoUnsafely(url), [url])\n\n\t\tconst isHoveringWhileEditingSameShape = useValue(\n\t\t\t'is hovering',\n\t\t\t() => {\n\t\t\t\tconst { editingId, hoveredId } = this.editor.pageState\n\n\t\t\t\tif (editingId && hoveredId !== editingId) {\n\t\t\t\t\tconst editingShape = this.editor.getShapeById(editingId)\n\t\t\t\t\tif (editingShape && this.editor.isShapeOfType(editingShape, EmbedShapeUtil)) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false\n\t\t\t},\n\t\t\t[]\n\t\t)\n\n\t\tconst pageRotation = this.editor.getPageRotation(shape)\n\n\t\tconst isInteractive = isEditing || isHoveringWhileEditingSameShape\n\n\t\tif (embedInfo?.definition.type === 'github_gist') {\n\t\t\tconst idFromGistUrl = embedInfo.url.split('/').pop()\n\t\t\tif (!idFromGistUrl) throw Error('No gist id!')\n\n\t\t\treturn (\n\t\t\t\t<HTMLContainer className=\"tl-embed-container\" id={shape.id}>\n\t\t\t\t\t<Gist\n\t\t\t\t\t\tid={idFromGistUrl}\n\t\t\t\t\t\twidth={toDomPrecision(w)!}\n\t\t\t\t\t\theight={toDomPrecision(h)!}\n\t\t\t\t\t\tisInteractive={isInteractive}\n\t\t\t\t\t\tpageRotation={pageRotation}\n\t\t\t\t\t/>\n\t\t\t\t</HTMLContainer>\n\t\t\t)\n\t\t}\n\n\t\tconst sandbox = getSandboxPermissions({\n\t\t\t...embedShapePermissionDefaults,\n\t\t\t...(embedInfo?.definition.overridePermissions ?? {}),\n\t\t})\n\n\t\treturn (\n\t\t\t<HTMLContainer className=\"tl-embed-container\" id={shape.id}>\n\t\t\t\t{embedInfo?.definition ? (\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName={`tl-embed tl-embed-${shape.id}`}\n\t\t\t\t\t\tsandbox={sandbox}\n\t\t\t\t\t\tsrc={embedInfo.embedUrl}\n\t\t\t\t\t\twidth={toDomPrecision(w)}\n\t\t\t\t\t\theight={toDomPrecision(h)}\n\t\t\t\t\t\tdraggable={false}\n\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\treferrerPolicy=\"no-referrer-when-downgrade\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\t\tpointerEvents: isInteractive ? 'auto' : 'none',\n\t\t\t\t\t\t\t// Fix for safari <https://stackoverflow.com/a/49150908>\n\t\t\t\t\t\t\tzIndex: isInteractive ? '' : '-1',\n\t\t\t\t\t\t\tboxShadow: getRotatedBoxShadow(pageRotation),\n\t\t\t\t\t\t\tborderRadius: embedInfo?.definition.overrideOutlineRadius ?? 8,\n\t\t\t\t\t\t\tbackground: embedInfo?.definition.backgroundColor,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<g transform={`translate(${(w - 38) / 2}, ${(h - 38) / 2})`}>\n\t\t\t\t\t\t<DefaultSpinner />\n\t\t\t\t\t</g>\n\t\t\t\t)}\n\t\t\t</HTMLContainer>\n\t\t)\n\t}\n\n\toverride indicator(shape: TLEmbedShape) {\n\t\tconst embedInfo = useMemo(() => getEmbedInfo(shape.props.url), [shape.props.url])\n\t\treturn (\n\t\t\t<rect\n\t\t\t\twidth={toDomPrecision(shape.props.w)}\n\t\t\t\theight={toDomPrecision(shape.props.h)}\n\t\t\t\trx={embedInfo?.definition.overrideOutlineRadius ?? 8}\n\t\t\t\try={embedInfo?.definition.overrideOutlineRadius ?? 8}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nfunction Gist({\n\tid,\n\tfile,\n\tisInteractive,\n\twidth,\n\theight,\n\tstyle,\n\tpageRotation,\n}: {\n\tid: string\n\tfile?: string\n\tisInteractive: boolean\n\twidth: number\n\theight: number\n\tpageRotation: number\n\tstyle?: React.CSSProperties\n}) {\n\treturn (\n\t\t<iframe\n\t\t\tclassName=\"tl-embed\"\n\t\t\tdraggable={false}\n\t\t\twidth={toDomPrecision(width)}\n\t\t\theight={toDomPrecision(height)}\n\t\t\tframeBorder=\"0\"\n\t\t\tscrolling=\"no\"\n\t\t\tseamless\n\t\t\treferrerPolicy=\"no-referrer-when-downgrade\"\n\t\t\tstyle={{\n\t\t\t\t...style,\n\t\t\t\tpointerEvents: isInteractive ? 'all' : 'none',\n\t\t\t\t// Fix for safari <https://stackoverflow.com/a/49150908>\n\t\t\t\tzIndex: isInteractive ? '' : '-1',\n\t\t\t\tboxShadow: getRotatedBoxShadow(pageRotation),\n\t\t\t}}\n\t\t\tsrcDoc={`\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<base target=\"_blank\">\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t<script src=${`https://gist.github.com/${id}.js${file ? `?file=${file}` : ''}`}></script>\n\t\t\t\t\t<style type=\"text/css\">\n\t\t\t\t\t\t* { margin: 0px; }\n\t\t\t\t\t\ttable { height: 100%; background-color: red; }\n\t\t\t\t\t\t.gist { background-color: none; height: 100%;  }\n\t\t\t\t\t\t.gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n\t\t\t\t\t</style>\n\t\t\t\t</body>\n\t\t\t</html>`}\n\t\t/>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}