{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { StateNode } from \"../../StateNode.mjs\";\nvar PointingHandle = /*#__PURE__*/function (_StateNode) {\n  _inherits(PointingHandle, _StateNode);\n  var _super = _createSuper(PointingHandle);\n  function PointingHandle() {\n    var _this;\n    _classCallCheck(this, PointingHandle);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"info\", {});\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function (info) {\n      _this.info = info;\n      var initialTerminal = info.shape.props[info.handle.id];\n      if ((initialTerminal === null || initialTerminal === void 0 ? void 0 : initialTerminal.type) === \"binding\") {\n        _this.editor.setHintingIds([initialTerminal.boundShapeId]);\n      }\n      _this.editor.setCursor({\n        type: \"grabbing\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onExit\", function () {\n      _this.editor.setHintingIds([]);\n      _this.editor.setCursor({\n        type: \"default\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerUp\", function () {\n      _this.parent.transition(\"idle\", _this.info);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onPointerMove\", function () {\n      if (_this.editor.inputs.isDragging) {\n        _this.parent.transition(\"dragging_handle\", _this.info);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCancel\", function () {\n      _this.cancel();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onComplete\", function () {\n      _this.cancel();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onInterrupt\", function () {\n      _this.cancel();\n    });\n    return _this;\n  }\n  _createClass(PointingHandle, [{\n    key: \"cancel\",\n    value: function cancel() {\n      this.parent.transition(\"idle\", {});\n    }\n  }]);\n  return PointingHandle;\n}(StateNode);\n_defineProperty(PointingHandle, \"id\", \"pointing_handle\");\nexport { PointingHandle };","map":{"version":3,"names":["StateNode","PointingHandle","_StateNode","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","_defineProperty","_assertThisInitialized","info","initialTerminal","shape","props","handle","id","type","editor","setHintingIds","boundShapeId","setCursor","parent","transition","inputs","isDragging","cancel","_createClass","key","value"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/editor/src/lib/editor/tools/SelectTool/children/PointingHandle.ts"],"sourcesContent":["import { TLArrowShape } from '@tldraw/tlschema'\nimport { TLEventHandlers, TLPointerEventInfo } from '../../../types/event-types'\nimport { StateNode } from '../../StateNode'\n\nexport class PointingHandle extends StateNode {\n\tstatic override id = 'pointing_handle'\n\n\tinfo = {} as TLPointerEventInfo & { target: 'handle' }\n\n\tonEnter = (info: TLPointerEventInfo & { target: 'handle' }) => {\n\t\tthis.info = info\n\n\t\tconst initialTerminal = (info.shape as TLArrowShape).props[info.handle.id as 'start' | 'end']\n\n\t\tif (initialTerminal?.type === 'binding') {\n\t\t\tthis.editor.setHintingIds([initialTerminal.boundShapeId])\n\t\t}\n\n\t\tthis.editor.setCursor({ type: 'grabbing' })\n\t}\n\n\tonExit = () => {\n\t\tthis.editor.setHintingIds([])\n\t\tthis.editor.setCursor({ type: 'default' })\n\t}\n\n\tonPointerUp: TLEventHandlers['onPointerUp'] = () => {\n\t\tthis.parent.transition('idle', this.info)\n\t}\n\n\tonPointerMove: TLEventHandlers['onPointerMove'] = () => {\n\t\tif (this.editor.inputs.isDragging) {\n\t\t\tthis.parent.transition('dragging_handle', this.info)\n\t\t}\n\t}\n\n\toverride onCancel: TLEventHandlers['onCancel'] = () => {\n\t\tthis.cancel()\n\t}\n\n\toverride onComplete: TLEventHandlers['onComplete'] = () => {\n\t\tthis.cancel()\n\t}\n\n\toverride onInterrupt = () => {\n\t\tthis.cancel()\n\t}\n\n\tprivate cancel() {\n\t\tthis.parent.transition('idle', {})\n\t}\n}\n"],"mappings":";;;;;;AAEA,SAASA,SAAA,QAAiB;AAAA,IAEbC,cAAA,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,cAAA,EAAAC,UAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;EAAA,SAAAA,eAAA;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,cAAA;IAAA,SAAAO,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,SAAAY,MAAA,CAAAL,IAAA;IAAAM,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,WAGL,CAAC;IAAAW,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,cAEE,UAACa,IAAA,EAAoD;MAC9Db,KAAA,CAAKa,IAAA,GAAOA,IAAA;MAEZ,IAAMC,eAAA,GAAmBD,IAAA,CAAKE,KAAA,CAAuBC,KAAA,CAAMH,IAAA,CAAKI,MAAA,CAAOC,EAAqB;MAE5F,IAAI,CAAAJ,eAAA,aAAAA,eAAA,uBAAAA,eAAA,CAAiBK,IAAA,MAAS,WAAW;QACxCnB,KAAA,CAAKoB,MAAA,CAAOC,aAAA,CAAc,CAACP,eAAA,CAAgBQ,YAAY,CAAC;MACzD;MAEAtB,KAAA,CAAKoB,MAAA,CAAOG,SAAA,CAAU;QAAEJ,IAAA,EAAM;MAAW,CAAC;IAC3C;IAAAR,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,aAES,YAAM;MACdA,KAAA,CAAKoB,MAAA,CAAOC,aAAA,CAAc,EAAE;MAC5BrB,KAAA,CAAKoB,MAAA,CAAOG,SAAA,CAAU;QAAEJ,IAAA,EAAM;MAAU,CAAC;IAC1C;IAAAR,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,kBAE8C,YAAM;MACnDA,KAAA,CAAKwB,MAAA,CAAOC,UAAA,CAAW,QAAQzB,KAAA,CAAKa,IAAI;IACzC;IAAAF,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,oBAEkD,YAAM;MACvD,IAAIA,KAAA,CAAKoB,MAAA,CAAOM,MAAA,CAAOC,UAAA,EAAY;QAClC3B,KAAA,CAAKwB,MAAA,CAAOC,UAAA,CAAW,mBAAmBzB,KAAA,CAAKa,IAAI;MACpD;IACD;IAAAF,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,eAEiD,YAAM;MACtDA,KAAA,CAAK4B,MAAA,CAAO;IACb;IAAAjB,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,iBAEqD,YAAM;MAC1DA,KAAA,CAAK4B,MAAA,CAAO;IACb;IAAAjB,eAAA,CAAAC,sBAAA,CAAAZ,KAAA,kBAEuB,YAAM;MAC5BA,KAAA,CAAK4B,MAAA,CAAO;IACb;IAAA,OAAA5B,KAAA;EAAA;EAAA6B,YAAA,CAAAlC,cAAA;IAAAmC,GAAA;IAAAC,KAAA,EAEQ,SAAAH,OAAA,EAAS;MAChB,KAAKJ,MAAA,CAAOC,UAAA,CAAW,QAAQ,CAAC,CAAC;IAClC;EAAA;EAAA,OAAA9B,cAAA;AAAA,EA9CmCD,SAAA;AAAAiB,eAAA,CAAvBhB,cAAA,QACS"},"metadata":{},"sourceType":"module","externalDependencies":[]}