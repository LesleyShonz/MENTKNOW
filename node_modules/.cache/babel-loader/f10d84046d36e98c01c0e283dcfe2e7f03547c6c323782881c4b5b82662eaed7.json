{"ast":null,"code":"import _classCallCheck from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    _classCallCheck(this, Cache);\n    /** The map of items to their cached values. */\n    _defineProperty(this, \"items\", /* @__PURE__ */new WeakMap());\n  }\n  _createClass(Cache, [{\n    key: \"get\",\n    value:\n    /**\n     * Get the cached value for a given record. If the record is not present in the map, the callback\n     * will be used to create the value (with the result being stored in the cache for next time).\n     *\n     * @param item - The item to get.\n     * @param cb - The callback to use to create the value when a cached value is not found.\n     */\n    function get(item, cb) {\n      if (!this.items.has(item)) {\n        this.items.set(item, cb(item));\n      }\n      return this.items.get(item);\n    }\n  }]);\n  return Cache;\n}();\nexport { Cache };","map":{"version":3,"names":["Cache","_classCallCheck","_defineProperty","WeakMap","_createClass","key","value","get","item","cb","items","has","set"],"sources":["/Users/lesleyshinhiwa/Downloads/tldraw-partykit-example-2/Co/node_modules/@tldraw/store/src/lib/Cache.ts"],"sourcesContent":["/** A micro cache used when storing records in memory (using a WeakMap). */\nexport class Cache<T extends object, K> {\n\t/** The map of items to their cached values. */\n\titems = new WeakMap<T, K>()\n\n\t/**\n\t * Get the cached value for a given record. If the record is not present in the map, the callback\n\t * will be used to create the value (with the result being stored in the cache for next time).\n\t *\n\t * @param item - The item to get.\n\t * @param cb - The callback to use to create the value when a cached value is not found.\n\t */\n\tget<P extends T>(item: P, cb: (item: P) => K) {\n\t\tif (!this.items.has(item)) {\n\t\t\tthis.items.set(item, cb(item))\n\t\t}\n\n\t\treturn this.items.get(item)!\n\t}\n}\n"],"mappings":";;;IACaA,KAAA;EAAA,SAAAA,MAAA;IAAAC,eAAA,OAAAD,KAAA;IAA2B;IAAAE,eAAA,gBAE/B,mBAAIC,OAAA,CAAc;EAAA;EAAAC,YAAA,CAAAJ,KAAA;IAAAK,GAAA;IAAAC,KAAA;IAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;IAS1B,SAAAC,IAAiBC,IAAA,EAASC,EAAA,EAAoB;MAC7C,IAAI,CAAC,KAAKC,KAAA,CAAMC,GAAA,CAAIH,IAAI,GAAG;QAC1B,KAAKE,KAAA,CAAME,GAAA,CAAIJ,IAAA,EAAMC,EAAA,CAAGD,IAAI,CAAC;MAC9B;MAEA,OAAO,KAAKE,KAAA,CAAMH,GAAA,CAAIC,IAAI;IAC3B;EAAA;EAAA,OAAAR,KAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}